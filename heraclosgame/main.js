! function(e) {
    var t = {};

    function n(o) {
        if (t[o]) return t[o].exports;
        var r = t[o] = {
            i: o,
            l: !1,
            exports: {}
        };
        return e[o].call(r.exports, r, r.exports, n), r.l = !0, r.exports
    }
    n.m = e, n.c = t, n.d = function(e, t, o) {
        n.o(e, t) || Object.defineProperty(e, t, {
            configurable: !1,
            enumerable: !0,
            get: o
        })
    }, n.r = function(e) {
        Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }, n.n = function(e) {
        var t = e && e.__esModule ? function() {
            return e.default
        } : function() {
            return e
        };
        return n.d(t, "a", t), t
    }, n.o = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }, n.p = "", n(n.s = 628)
}([function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var o = i(n(626)),
        r = i(n(625));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t.default = {
        bind: o.default,
        mixin: r.default
    }, e.exports = t.default
}, , function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = function(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e)
                    if (Object.prototype.hasOwnProperty.call(e, n)) {
                        var o = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(e, n) : {};
                        o.get || o.set ? Object.defineProperty(t, n, o) : t[n] = e[n]
                    }
            return t.default = e, t
        }(n(85)),
        r = s(n(368)),
        i = s(n(367)),
        a = s(n(366));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function l() {
        return (l = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }
    var u = l({}, o, {
        lerpAngle: r.default,
        polarToCartesian: i.default,
        randomSign: a.default
    });
    t.default = u, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.getLogger = function(e, t) {
        for (var n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2], o = 0, u = i.length; o < u; o++) {
            var c = i[o];
            if (c.key === e && c.color === t) return c.log
        }
        return function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "Global",
                t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : l,
                n = {
                    enabled: !(arguments.length > 2 && void 0 !== arguments[2] && !arguments[2]),
                    key: e,
                    color: t,
                    log: function() {
                        var n = [];
                        r.default ? (n.push("%cWorker%c %c".concat(e)), n.push(s, " ")) : n.push("%c".concat(e)), n.push(a(t)), n.push.apply(n, arguments)
                    }
                };
            return i.push(n), n.log
        }(e, t, n)
    }, t.ERROR = t.WARN = t.INFO = t.LOG = void 0;
    var o, r = (o = n(566)) && o.__esModule ? o : {
            default: o
        },
        i = [],
        a = function(e) {
            return "background: ".concat(e, "; color: #FFFFFF; padding: 3px 5px; font-weight: bold;")
        },
        s = "background: #cc00c5; color: #FFFFFF; padding: 3px 5px; font-weight: bold;",
        l = "#000000";
    t.LOG = l, t.INFO = "#007bff", t.WARN = "#ffc107", t.ERROR = "#dc3545"
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(15)) && o.__esModule ? o : {
        default: o
    };

    function i(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var a = new(function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._createSignals()
        }
        var t, n;
        return t = e, (n = [{
            key: "_createSignals",
            value: function() {
                this.context = this._generateGroup(["initialized"]), this.router = this._generateGroup(["beforeEach", "afterEach"]), this.loader = this._generateGroup(["started", "progressed", "completed", "hidden"]), this.quality = this._generateGroup(["enter", "selected"]), this.scene = this._generateGroup(["create", "destroy", "change", "start", "pause", "instanced", "created", "destroyed", "changed", "started", "paused"]), this.camera = this._generateGroup(["changed"]), this.postPass = this._generateGroup(["vignetteAnimation", "burnAnimation"]), this.interactiveEntities = this._generateGroup(["activated", "desactivated"]), this.footer = this._generateGroup(["soundToggle"]), this.toastMsg = this._generateGroup(["log"]), this.checkpoint = this._generateGroup(["show"]), this.bigMsg = this._generateGroup(["showLaserDeath", "showFallDeath", "showTitleMessage", "showThunderDeath", "showWaterDeath"]), this.instructions = this._generateGroup(["show", "hide", "lvl1Power1Activated", "lvl2Power2Activated"]), this.character = this._generateGroup(["fallen", "reseted", "collided", "power2SpritePlay", "dashed"]), this.enemy = this._generateGroup(["laserHit"]), this.thunder = this._generateGroup(["nearCharHit", "hit"]), this.water = this._generateGroup(["death"]), this.platform = this._generateGroup(["powerActivated", "powerDesactivated"]), this.powers = this._generateGroup(["set", "enter", "enabled", "disabled", "change", "changed", "setCooldown", "cdAlmostDone"]), this.pause = this._generateGroup(["toggle", "shown", "hidden"]), this.subtitles = this._generateGroup(["add", "remove"]), this.konami = this._generateGroup(["toggle"]), this.home = this._generateGroup(["playVideo", "videoStarted", "menuIn", "startIntroVideo"]), this.chapters = this._generateGroup(["open", "opened", "close", "closed"])
            }
        }, {
            key: "_generateGroup",
            value: function(e) {
                for (var t = {}, n = 0, o = e.length; n < o; n++) t[e[n]] = new r.default;
                return t
            }
        }]) && i(t.prototype, n), e
    }());
    t.default = a, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = v(n(20)),
        r = v(n(11)),
        i = v(n(19)),
        a = v(n(4)),
        s = v(n(69)),
        l = v(n(49)),
        u = v(n(51)),
        c = v(n(28)),
        f = v(n(95)),
        p = v(n(86)),
        d = v(n(61)),
        h = v(n(66)),
        y = v(n(17));

    function v(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function _(e) {
        return (_ = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function m(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var g = function(e) {
        function t() {
            var e;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === _(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)))._state = o.default, e._context = r.default, e._window = i.default, e._signals = a.default, e._save = s.default, e._textures = u.default, e._sounds = l.default, e._quality = c.default, e._materials = f.default, e._lights = p.default, e._loader = h.default, e._gui = y.default, e._gltf = d.default, e._tls = [], e._renderer = e._context.renderer, e._scene = e._context.scene, e._physics = e._scene.physics, e._physics && (e._world = e._physics.world, e._pMaterials = e._physics.materials, e._character = e._scene.character), e
        }
        var n, v;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, THREE.Object3D), n = t, (v = [{
            key: "syncMesh",
            value: function(e) {
                var t = e || this;
                t.position.copy(this.body.position), t.quaternion.copy(this.body.quaternion)
            }
        }, {
            key: "syncBody",
            value: function(e) {
                var t = e || this;
                this.body.position.copy(t.position), this.body.quaternion.copy(t.quaternion)
            }
        }, {
            key: "addBody",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.body;
                this._world.add(e)
            }
        }, {
            key: "removeBody",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.body;
                this._world.remove(e)
            }
        }, {
            key: "addConstraint",
            value: function(e) {
                this._world.addConstraint(e)
            }
        }, {
            key: "removeConstraint",
            value: function(e) {
                this._world.removeConstraint(e)
            }
        }, {
            key: "destroy",
            value: function() {
                this._destroyTls(), this.traverse(function(e) {
                    e.material && "function" == typeof e.material.dispose && e.material.dispose(), e.geometry && "function" == typeof e.geometry.dispose && e.geometry.dispose()
                }), this.remove()
            }
        }, {
            key: "update",
            value: function(e, t) {}
        }, {
            key: "_destroyTls",
            value: function() {
                for (var e = 0, t = this._tls.length; e < t; e++) {
                    var n = this._tls[e];
                    n.kill(), n.clear()
                }
            }
        }]) && m(n.prototype, v), t
    }();
    t.default = g, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.event = function(e, t, n, r) {
        ga && ga("send", "event", e, t, n, r), o("event -", e, t, n, r)
    }, t.pageview = function(e, t, n) {
        ga && ga("send", "pageview", e, t, n), o("pageview -", e)
    };
    var o = (0, n(3).getLogger)("GATracker", "#f78fb3", !0)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = n(200),
        r = y(n(29)),
        i = y(n(20)),
        a = y(n(37)),
        s = y(n(4)),
        l = y(n(69)),
        u = y(n(49)),
        c = y(n(94)),
        f = y(n(66)),
        p = y(n(17)),
        d = y(n(28)),
        h = y(n(51));

    function y(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function v(e) {
        return (v = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function _(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var m = function(e) {
        function t() {
            var e;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === v(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments)))._tls = [], e._state = i.default, e._router = a.default, e._signals = s.default, e._save = l.default, e._sounds = u.default, e._loader = f.default, e._gui = p.default, e._quality = d.default, e._textures = h.default, e._locales = c.default.locales, e.transition = !1, e
        }
        var n, y;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.Component), n = t, (y = [{
            key: "data",
            value: function() {
                return {
                    state: this._state,
                    router: this._router,
                    env: window.infos.env,
                    locale: window.infos.locale,
                    locales: this._locales
                }
            }
        }, {
            key: "mounted",
            value: function() {
                this.transition && this._createTls()
            }
        }, {
            key: "$destroy",
            value: function() {
                (function e(t, n, o) {
                    null === t && (t = Function.prototype);
                    var r = Object.getOwnPropertyDescriptor(t, n);
                    if (void 0 === r) {
                        var i = Object.getPrototypeOf(t);
                        return null === i ? void 0 : e(i, n, o)
                    }
                    if ("value" in r) return r.value;
                    var a = r.get;
                    return void 0 !== a ? a.call(o) : void 0
                })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "$destroy", this).call(this), this._destroyTls()
            }
        }, {
            key: "enter",
            value: function() {
                var e = this;
                return r.default.promise(function(t, n) {
                    e._leaveTl.pause(), e._enterTl.play(0), e._enterTl.eventCallback("onComplete", t)
                })
            }
        }, {
            key: "leave",
            value: function() {
                var e = this;
                return r.default.promise(function(t, n) {
                    e._enterTl.pause(), e._leaveTl.play(0), e._leaveTl.eventCallback("onComplete", t)
                })
            }
        }, {
            key: "_createTls",
            value: function() {
                this._enterTl = new TimelineMax({
                    paused: !0
                }), this._leaveTl = new TimelineMax({
                    paused: !0
                }), this._tls.push(this._enterTl, this._leaveTl), this._createEnterTl(), this._createLeaveTl()
            }
        }, {
            key: "_createEnterTl",
            value: function() {
                this._enterTl.from(this.$el, 1, {
                    autoAlpha: 0,
                    ease: Expo.easeOut
                })
            }
        }, {
            key: "_createLeaveTl",
            value: function() {
                this._leaveTl.to(this.$el, 1, {
                    autoAlpha: 0,
                    ease: Expo.easeOut
                })
            }
        }, {
            key: "_destroyTls",
            value: function() {
                for (var e = 0, t = this._tls.length; e < t; e++) this._tls[e] && (this._tls[e].kill(), this._tls[e].clear())
            }
        }]) && _(n.prototype, y), t
    }();
    t.default = m, e.exports = t.default
}, , function(e, t) {
    e.exports = function() {
        throw new Error("define cannot be used indirect")
    }
}, function(e, t, n) {
    "use strict";
    e.exports = function() {}
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = d(n(52)),
            a = d(n(557)),
            s = d(n(556)),
            l = d(n(495)),
            u = d(n(4)),
            c = function(e) {
                if (e && e.__esModule) return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        if (Object.prototype.hasOwnProperty.call(e, n)) {
                            var o = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(e, n) : {};
                            o.get || o.set ? Object.defineProperty(t, n, o) : t[n] = e[n]
                        }
                return t.default = e, t
            }(n(493)),
            f = n(3),
            p = d(n(275));

        function d(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function h(e) {
            return (h = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function y(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function v(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var _ = (0, f.getLogger)("GameContext", "#34d170", !0),
            m = {
                fpsLimit: 120
            },
            g = new(v((r = function(e) {
                function t() {
                    var e;
                    return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t), (e = function(e, t) {
                        if (t && ("object" === h(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this))).renderer = null, e.sceneManager = null, e.scene = null, e.raycaster = new THREE.Raycaster, e._pauseNow = 0, e._pauseDuration = 0, e
                }
                var n, o;
                return function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }(t, a.default), n = t, (o = [{
                    key: "_createGUI",
                    value: function() {
                        var e = this;
                        this._guiFolder = this._gui.addFolder("GameContext"), this._guiFolder.add(this, "init").name("Init"), this._guiFolder.add(this, "destroy").name("Destroy"), this._guiFolder.add(m, "fpsLimit", 0, 120, 1).name("FPS limit");
                        var t = this._guiFolder.addFolder("Log");
                        t.add({
                            log: function() {
                                return _(e.renderer)
                            }
                        }, "log").name("Log renderer"), t.add({
                            log: function() {
                                return _(e.sceneManager)
                            }
                        }, "log").name("Log scene manager"), t.add({
                            log: function() {
                                return _(e.scene)
                            }
                        }, "log").name("Log scene")
                    }
                }, {
                    key: "_init",
                    value: function() {
                        _("Initialized"), this.renderer = new s.default, this.sceneManager = new l.default(c)
                    }
                }, {
                    key: "_destroy",
                    value: function() {
                        _("Destroyed"), this.renderer.destroy()
                    }
                }, {
                    key: "_wakeUp",
                    value: function(e) {
                        return _("Wake up"), this.sceneManager.createGUI(), this.sceneManager.change(e)
                    }
                }, {
                    key: "_sleep",
                    value: function(e) {
                        return _("Sleep"), this.sceneManager.destroyGUI(), this.sceneManager.destroy(e)
                    }
                }, {
                    key: "_pause",
                    value: function(e) {
                        return _("Paused"), this._pauseNow = Date.now(), i.default.remove(this._update), this.sceneManager.pause(e)
                    }
                }, {
                    key: "_resume",
                    value: function(e) {
                        return _("Resumed"), this._pauseDuration += Date.now() - this._pauseNow, i.default.add(this._update), this.sceneManager.start(e)
                    }
                }, {
                    key: "_bind",
                    value: function() {
                        i.default.add(this._update), u.default.scene.instanced.add(this._handleSceneInstance)
                    }
                }, {
                    key: "_unbind",
                    value: function() {
                        i.default.remove(this._update), u.default.scene.instanced.remove(this._handleSceneInstance)
                    }
                }, {
                    key: "_update",
                    value: function(e, t) {
                        t -= this._pauseDuration, (0, p.default)(m.fpsLimit), this.sceneManager.update(e, t), this.renderer.update(e, t)
                    }
                }, {
                    key: "_handleSceneInstance",
                    value: function(e) {
                        this.scene = e
                    }
                }]) && y(n.prototype, o), t
            }()).prototype, "_update", [o], Object.getOwnPropertyDescriptor(r.prototype, "_update"), r.prototype), v(r.prototype, "_handleSceneInstance", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleSceneInstance"), r.prototype), r);
        t.default = g, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = f(n(4)),
            a = f(n(463)),
            s = f(n(49)),
            l = f(n(15)),
            u = n(3),
            c = n(6);

        function f(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function p(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function d(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var h = (0, u.getLogger)("GamepadManager", u.INFO, !0),
            y = new(d((r = function() {
                function e() {
                    ! function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, e), this._buttonKeys = ["button_1", "button_2", "button_3", "button_4", "shoulder_top_left", "shoulder_top_right", "shoulder_bottom_left", "shoulder_bottom_right", "select", "start", "stick_button_left", "stick_button_right", "d_pad_up", "d_pad_down", "d_pad_left", "d_pad_right", "vendor"], this._sounds = s.default, this.isConnected = !1, this.debug = !1, this.joystickLeft = {
                        x: 0,
                        y: 0
                    }, this.joystickLeftIsMoving = !1, this.joystickRight = {
                        x: 0,
                        y: 0
                    }, this.joystickRightIsMoving = !1, this.buttonState = {};
                    for (var t = 0, n = this._buttonKeys.length; t < n; t++) this.buttonState[this._buttonKeys] = 0;
                    this._bind(), this._initSignals()
                }
                var t, n;
                return t = e, (n = [{
                    key: "isDown",
                    value: function(e) {
                        return this.buttonState[e]
                    }
                }, {
                    key: "_bind",
                    value: function() {
                        var e = this;
                        a.default.on("connect", this._onConnect), a.default.on("disconnect", this._onDisconnect), a.default.on("hold", "stick_axis_left", this._onStickLeftHold), a.default.on("release", "stick_axis_left", this._onStickLeftRelease), a.default.on("hold", "stick_axis_right", this._onStickRightHold), a.default.on("release", "stick_axis_right", this._onStickRightRelease);
                        for (var t = function(t, n) {
                                var o = e._buttonKeys[t];
                                a.default.on("press", o, function(t) {
                                    e._onButtonPressed(o, t.value, t), e._onButtonDowned(o, t)
                                }), a.default.on("hold", o, function(t) {
                                    e._onButtonPressed(o, t.value, t)
                                }), a.default.on("release", o, function(t) {
                                    e._onButtonPressed(o, 0, t), e._onButtonUpped(o, t)
                                })
                            }, n = 0, o = this._buttonKeys.length; n < o; n++) t(n)
                    }
                }, {
                    key: "_initSignals",
                    value: function() {
                        this.connected = new l.default, this.disconnected = new l.default, this.stickLeftMoved = new l.default, this.stickRightMoved = new l.default, this.buttonDowned = new l.default, this.buttonUpped = new l.default, this.buttonPressed = new l.default
                    }
                }, {
                    key: "_onConnect",
                    value: function(e) {
                        this.isConnected = !0, this.connected.dispatch(e), h("Connected", e), i.default.toastMsg.log.dispatch("gamepad", "Gamepad connected"), this._sounds.play("active-selection"), (0, c.event)("gamepad", "gamepad-connected")
                    }
                }, {
                    key: "_onDisconnect",
                    value: function(e) {
                        this.isConnected = !1, this.disconnected.dispatch(e), h("Disconnected", e), this.joystickLeft = {
                            x: 0,
                            y: 0
                        }, this.joystickRight = {
                            x: 0,
                            y: 0
                        }, this.joystickLeftIsMoving = !1, this.joystickRightIsMoving = !1;
                        for (var t = 0, n = this._buttonKeys.length; t < n; t++) this.buttonState[this._buttonKeys] = 0;
                        i.default.toastMsg.log.dispatch("gamepad", "Gamepad disonnected"), (0, c.event)("gamepad", "gamepad-disconnected")
                    }
                }, {
                    key: "_onStickLeftHold",
                    value: function(e) {
                        this.joystickLeftIsMoving = !0, this.joystickLeft.x = e.value[0], this.joystickLeft.y = e.value[1], this.stickLeftMoved.dispatch(e, this.joystickLeft), this.debug && h("Joystick left", this.joystickLeft)
                    }
                }, {
                    key: "_onStickLeftRelease",
                    value: function(e) {
                        this.joystickLeftIsMoving = !1, this.joystickLeft.x = 0, this.joystickLeft.y = 0, this.stickLeftMoved.dispatch(e, this.joystickLeft), this.debug && h("Joystick left", e.value)
                    }
                }, {
                    key: "_onStickRightHold",
                    value: function(e) {
                        this.joystickRightIsMoving = !0, this.joystickRight.x = e.value[0], this.joystickRight.y = e.value[1], this.stickRightMoved.dispatch(e, this.joystickRight), this.debug && h("Joystick right", this.joystickRight)
                    }
                }, {
                    key: "_onStickRightRelease",
                    value: function(e) {
                        this.joystickRightIsMoving = !1, this.joystickRight.x = 0, this.joystickRight.y = 0, this.stickRightMoved.dispatch(e, this.joystickRight), this.debug && h("Joystick right", e.value)
                    }
                }, {
                    key: "_onButtonDowned",
                    value: function(e, t) {
                        this.buttonDowned.dispatch(e, t)
                    }
                }, {
                    key: "_onButtonUpped",
                    value: function(e, t) {
                        this.buttonUpped.dispatch(e, t)
                    }
                }, {
                    key: "_onButtonPressed",
                    value: function(e, t, n) {
                        this.buttonState[e] = t, this.buttonPressed.dispatch(e, t, n), this.debug && h("button -> ".concat(e, " = ").concat(t))
                    }
                }]) && p(t.prototype, n), e
            }()).prototype, "_onConnect", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onConnect"), r.prototype), d(r.prototype, "_onDisconnect", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onDisconnect"), r.prototype), d(r.prototype, "_onStickLeftHold", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onStickLeftHold"), r.prototype), d(r.prototype, "_onStickLeftRelease", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onStickLeftRelease"), r.prototype), d(r.prototype, "_onStickRightHold", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onStickRightHold"), r.prototype), d(r.prototype, "_onStickRightRelease", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onStickRightRelease"), r.prototype), d(r.prototype, "_onButtonDowned", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onButtonDowned"), r.prototype), d(r.prototype, "_onButtonUpped", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onButtonUpped"), r.prototype), d(r.prototype, "_onButtonPressed", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onButtonPressed"), r.prototype), r);
        t.default = y, e.exports = t.default
    }).call(this, n(0).bind)
}, , function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = c(n(15)),
            a = c(n(576)),
            s = c(n(19)),
            l = c(n(69)),
            u = n(121);

        function c(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function f(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function p(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var d = {
                layouts: {
                    qwerty: {
                        up: [38, 87],
                        down: [40, 83],
                        left: [37, 65],
                        right: [39, 68]
                    },
                    azerty: {
                        up: [38, 90],
                        down: [40, 83],
                        left: [37, 81],
                        right: [39, 68]
                    }
                }
            },
            h = new(p((r = function() {
                function e() {
                    ! function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, e), this._binded = !1, this.pressedKeys = {}, this._createSignals(), this.bind()
                }
                var t, n;
                return t = e, (n = [{
                    key: "bind",
                    value: function() {
                        this._binded || (window.addEventListener("keydown", this._handleKeyDown, !1), window.addEventListener("keyup", this._handleKeyUp, !1), s.default.blurred.add(this._onWindowBlur), s.default.visibilityChanged.add(this._onVisibilityChange), this._binded = !0)
                    }
                }, {
                    key: "unbind",
                    value: function() {
                        this._binded && (window.removeEventListener("keydown", this._handleKeyDown, !1), window.removeEventListener("keyup", this._handleKeyUp, !1), s.default.blurred.remove(this._onWindowBlur), s.default.visibilityChanged.remove(this._onVisibilityChange), this._binded = !1)
                    }
                }, {
                    key: "isDown",
                    value: function(e) {
                        for (var t = !1, n = this._getKeyLayout(e), o = 0, r = n.length; o < r; o++) {
                            var i = n[o];
                            if (this.pressedKeys[i]) {
                                t = !0;
                                break
                            }
                        }
                        return t
                    }
                }, {
                    key: "_createSignals",
                    value: function() {
                        this.upped = new i.default, this.downed = new i.default
                    }
                }, {
                    key: "_resetInputs",
                    value: function() {
                        this.pressedKeys = {}
                    }
                }, {
                    key: "_getKeyLayout",
                    value: function(e) {
                        return "number" == typeof e ? this._keyCodeToKeyName(e) : "string" == typeof e ? this._keyNameToKeyCodes(e) : (0, u.isObject)(e) && void 0 !== e.keyCode ? this._keyCodeToKeyName(e.keyCode) : void 0
                    }
                }, {
                    key: "_keyCodeToKeyName",
                    value: function(e) {
                        var t = (0, a.default)(e),
                            n = l.default.get("global.qwerty") ? "qwerty" : "azerty",
                            o = d.layouts[n];
                        for (var r in o)
                            if (-1 !== o[r].indexOf(e)) {
                                t = r;
                                break
                            }
                        return t
                    }
                }, {
                    key: "_keyNameToKeyCodes",
                    value: function(e) {
                        var t = (0, a.default)(e),
                            n = l.default.get("global.qwerty") ? "qwerty" : "azerty",
                            o = d.layouts[n][e];
                        return o && (t = o), (0, u.isArray)(t) ? t : [t]
                    }
                }, {
                    key: "_handleKeyDown",
                    value: function(e) {
                        this.downNow = (new Date).getTime(), this.pressedKeys[e.keyCode] = !0;
                        var t = this._getKeyLayout(e),
                            n = (0, a.default)(e);
                        this.downed.dispatch(e, t, n)
                    }
                }, {
                    key: "_handleKeyUp",
                    value: function(e) {
                        var t = (new Date).getTime();
                        this.pressDuration = t - this.downNow, delete this.pressedKeys[e.keyCode];
                        var n = this._getKeyLayout(e),
                            o = (0, a.default)(e);
                        this.upped.dispatch(e, n, o)
                    }
                }, {
                    key: "_onWindowBlur",
                    value: function() {
                        this._resetInputs()
                    }
                }, {
                    key: "_onVisibilityChange",
                    value: function(e) {
                        !1 === e && this._resetInputs()
                    }
                }]) && f(t.prototype, n), e
            }()).prototype, "_handleKeyDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleKeyDown"), r.prototype), p(r.prototype, "_handleKeyUp", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleKeyUp"), r.prototype), p(r.prototype, "_onWindowBlur", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onWindowBlur"), r.prototype), p(r.prototype, "_onVisibilityChange", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onVisibilityChange"), r.prototype), r);
        t.default = h, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var o = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        },
        r = function() {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var o = t[n];
                    o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
                }
            }
            return function(t, n, o) {
                return n && e(t.prototype, n), o && e(t, o), t
            }
        }(),
        i = function() {
            function e() {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this._listeners = [], this._dispatchNb = 0
            }
            return r(e, [{
                key: "add",
                value: function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                            priority: 0,
                            once: !1,
                            context: this
                        },
                        n = o({
                            context: this
                        }, t, {
                            function: e
                        });
                    if ("function" != typeof n.function) throw new TypeError("Signal.add() : First argument must be a Function");
                    if (-1 !== this._getListernerIndex(n.function, n.context)) throw new Error("Signal.add() : Listener already exists");
                    return this._listeners.push(n), this._listeners.sort(function(e, t) {
                        return e.priority < t.priority
                    }), this
                }
            }, {
                key: "once",
                value: function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    return this.add(e, o({}, t, {
                        once: !0
                    }))
                }
            }, {
                key: "remove",
                value: function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this;
                    if ("function" != typeof e) throw new TypeError("Signal.remove() : First argument must be a Function");
                    var n = this._getListernerIndex(e, t);
                    return -1 !== n && this._listeners.splice(n, 1), this
                }
            }, {
                key: "removeAll",
                value: function() {
                    return this._listeners = [], this
                }
            }, {
                key: "dispatch",
                value: function() {
                    this._dispatchNb++;
                    for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                    for (var o = 0; o < this._listeners.length; o++) {
                        var r, i = this._listeners[o];
                        if (i.once && this._listeners.splice(o), !1 === (r = i.function).call.apply(r, [i.context].concat(t))) break
                    }
                    return this
                }
            }, {
                key: "has",
                value: function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this;
                    return -1 !== this._getListernerIndex(e, t)
                }
            }, {
                key: "getListenersNb",
                value: function() {
                    return this._listeners.length
                }
            }, {
                key: "getDispatchNb",
                value: function() {
                    return this._dispatchNb
                }
            }, {
                key: "_getListernerIndex",
                value: function(e, t) {
                    for (var n = 0, o = this._listeners.length; n < o; n++)
                        if (this._listeners[n].function === e && this._listeners[n].context === t) return n;
                    return -1
                }
            }]), e
        }();
    t.default = i, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = u(n(11)),
        r = u(n(51)),
        i = u(n(540)),
        a = u(n(17)),
        s = u(n(189)),
        l = u(n(516));

    function u(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function c(e) {
        return (c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function f() {
        return (f = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }

    function p(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var d = function(e) {
        function t(e) {
            var n, i = e.precision,
                u = e.vertexShader,
                p = e.fragmentShader,
                d = e.opacity,
                h = void 0 === d ? 1 : d,
                y = e.fog,
                v = void 0 === y || y,
                _ = e.whitelistGui,
                m = void 0 === _ ? ["transparent", "opacity"] : _,
                g = e.defines,
                b = void 0 === g ? {} : g,
                w = function(e, t) {
                    if (null == e) return {};
                    var n, o, r = {},
                        i = Object.keys(e);
                    for (o = 0; o < i.length; o++) n = i[o], t.indexOf(n) >= 0 || (r[n] = e[n]);
                    if (Object.getOwnPropertySymbols) {
                        var a = Object.getOwnPropertySymbols(e);
                        for (o = 0; o < a.length; o++) n = a[o], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (r[n] = e[n])
                    }
                    return r
                }(e, ["precision", "vertexShader", "fragmentShader", "opacity", "fog", "whitelistGui", "defines"]);
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (n = function(e, t) {
                if (t && ("object" === c(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, w)))._precision = i, n._vertexShader = null, n._fragmentShader = null, n._scene = o.default.scene, n._textures = r.default, n._gui = a.default, n.vertexShader = u || s.default, n.fragmentShader = p || l.default, n.uniforms = f({}, n.uniforms, {
                uOpacity: {
                    value: h
                },
                uFogColor: {
                    value: new THREE.Color("#000000")
                },
                uFogDistanceDensity: {
                    value: 0
                },
                uFogHeightDensity: {
                    value: 0
                },
                uFogHeightPropagation: {
                    value: 0
                },
                uFogHeightOffset: {
                    value: 0
                },
                uFogHeightNoise: {
                    value: new THREE.Vector4(0, 0, 0, 0)
                },
                uTime: {
                    value: 0
                }
            }), n.defines = f({}, b, {
                MAX_BONES: 65,
                USE_FOG: v
            }), n.whitelistGui = m, n
        }
        var n, u;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, THREE.RawShaderMaterial), n = t, (u = [{
            key: "update",
            value: function(e, t) {
                this.uniforms.uTime.value = t
            }
        }, {
            key: "vertexShader",
            get: function() {
                return this._vertexShader
            },
            set: function(e) {
                this._vertexShader = i.default.parse(e, i.default.VERTEX_SHADER, this.extensions, this._precision)
            }
        }, {
            key: "fragmentShader",
            set: function(e) {
                this._fragmentShader = i.default.parse(e, i.default.FRAGMENT_SHADER, this.extensions, this._precision)
            },
            get: function() {
                return this._fragmentShader
            }
        }, {
            key: "opacity",
            get: function() {
                return this.uniforms.uOpacity.value
            },
            set: function(e) {
                this.uniforms && (this.uniforms.uOpacity.value = e)
            }
        }, {
            key: "fog",
            get: function() {
                return this.defines.USE_FOG
            },
            set: function(e) {
                var t = e.color,
                    n = e.distance,
                    o = e.height;
                t && this.uniforms.uFogColor.value.set(t), n && (this.uniforms.uFogDistanceDensity.value = n.density), o && (this.uniforms.uFogHeightDensity.value = o.density, this.uniforms.uFogHeightPropagation.value = o.propagation, this.uniforms.uFogHeightOffset.value = o.offset, o.noise && (this.uniforms.uFogHeightNoise.value.x = o.noise.speed, this.uniforms.uFogHeightNoise.value.y = o.noise.frequency, this.uniforms.uFogHeightNoise.value.z = o.noise.amplitude, this.uniforms.uFogHeightNoise.value.w = o.noise.offset))
            }
        }]) && p(n.prototype, u), t
    }();
    t.default = d, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i, a = (r = n(14)) && r.__esModule ? r : {
                default: r
            },
            s = n(6);

        function l(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var u, c, f, p, d, h, y = (new(u = (i = function() {
            function e() {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this._bind(), this._init()
            }
            var t, n;
            return t = e, (n = [{
                key: "_bind",
                value: function() {
                    a.default.upped.add(this._onKeyUp)
                }
            }, {
                key: "_unbind",
                value: function() {
                    a.default.upped.remove(this._onKeyUp)
                }
            }, {
                key: "_init",
                value: function() {
                    this._gui = new dat.GUI({
                        autoPlace: !1,
                        scrollable: !0
                    }), document.body.appendChild(this._gui.domElement)
                }
            }, {
                key: "_toggle",
                value: function() {
                    this._gui.domElement.classList.toggle("dg--visible"), (0, s.event)("debug", "debug-gui", this._gui.domElement.classList.contains("dg--visible"))
                }
            }, {
                key: "_onKeyUp",
                value: function(e, t) {
                    a.default.isDown("shift") && "g" === t && this._toggle()
                }
            }, {
                key: "gui",
                get: function() {
                    return this._gui
                }
            }]) && l(t.prototype, n), e
        }()).prototype, c = "_onKeyUp", f = [o], p = Object.getOwnPropertyDescriptor(i.prototype, "_onKeyUp"), d = i.prototype, h = {}, Object.keys(p).forEach(function(e) {
            h[e] = p[e]
        }), h.enumerable = !!h.enumerable, h.configurable = !!h.configurable, ("value" in h || h.initializer) && (h.writable = !0), h = f.slice().reverse().reduce(function(e, t) {
            return t(u, c, e) || e
        }, h), d && void 0 !== h.initializer && (h.value = h.initializer ? h.initializer.call(d) : void 0, h.initializer = void 0), void 0 === h.initializer && (Object.defineProperty(u, c, h), h = null), i)).gui;
        t.default = y, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t) {
    var n;
    n = function() {
        return this
    }();
    try {
        n = n || Function("return this")() || (0, eval)("this")
    } catch (e) {
        "object" == typeof window && (n = window)
    }
    e.exports = n
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = u(n(15)),
            a = u(n(575)),
            s = u(n(574)),
            l = u(n(568));

        function u(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function c(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function f(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var p = new(f((r = function() {
            function e() {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this._binded = !1, this.width = window.innerWidth, this.height = window.innerHeight, this.pixelRatio = window.devicePixelRatio, this.prWidth = this.width * this.pixelRatio, this.prHeight = this.height * this.pixelRatio, this.aspect = this.width / this.height, this.isFocused = !0, this.visibility = (0, s.default)(), this.fullScreen = l.default, this._createSignals(), this.bind()
            }
            var t, n;
            return t = e, (n = [{
                key: "bind",
                value: function() {
                    this._binded || (this._handleDebounceResize = (0, a.default)(this._handleResize, 50), window.addEventListener("resize", this._handleDebounceResize, !1), window.addEventListener("blur", this._handleBlur, !1), window.addEventListener("focus", this._handleFocus, !1), this._visibilityUnbind = this.visibility.onChange(this._onVisibilityChange), this.fullScreen.enabled && this.fullScreen.on("change", this._onFullScreenChanged), this._binded = !0)
                }
            }, {
                key: "unbind",
                value: function() {
                    this._binded && (window.removeEventListener("resize", this._handleDebounceResize, !1), window.removeEventListener("blur", this._handleBlur, !1), window.removeEventListener("focus", this._handleFocus, !1), this._visibilityUnbind(), this.fullScreen.enabled && this.fullScreen.off("change", this._onFullScreenChanged), this._binded = !1)
                }
            }, {
                key: "_createSignals",
                value: function() {
                    this.resized = new i.default, this.blurred = new i.default, this.focused = new i.default, this.visibilityChanged = new i.default, this.fullScreenChanged = new i.default
                }
            }, {
                key: "_handleResize",
                value: function(e) {
                    this.pixelRatio = window.devicePixelRatio, this.width = window.innerWidth, this.height = window.innerHeight, this.prWidth = this.width * this.pixelRatio, this.prHeight = this.height * this.pixelRatio, this.aspect = this.width / this.height, this.resized.dispatch(this.width, this.height, this.aspect)
                }
            }, {
                key: "_handleBlur",
                value: function(e) {
                    this.isFocused = !1, this.blurred.dispatch(e)
                }
            }, {
                key: "_handleFocus",
                value: function(e) {
                    this.isFocused = !0, this.focused.dispatch(e)
                }
            }, {
                key: "_onVisibilityChange",
                value: function(e) {
                    this.visibilityChanged.dispatch(e)
                }
            }, {
                key: "_onFullScreenChanged",
                value: function() {
                    this.fullScreenChanged.dispatch(this.fullScreen.isFullscreen)
                }
            }]) && c(t.prototype, n), e
        }()).prototype, "_handleResize", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleResize"), r.prototype), f(r.prototype, "_handleBlur", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleBlur"), r.prototype), f(r.prototype, "_handleFocus", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleFocus"), r.prototype), f(r.prototype, "_onVisibilityChange", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onVisibilityChange"), r.prototype), f(r.prototype, "_onFullScreenChanged", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onFullScreenChanged"), r.prototype), r);
        t.default = p, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(4)) && o.__esModule ? o : {
        default: o
    };

    function i(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var a = new(function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this.actionIsActive = !1, this.konamiIsActivated = !1, this.gamepadDebugMode = !1, this.fallbackType = null, this._currentPower = 0, this.currentPower = 0, this.isUsingPower = !1, this.dialogueEnabled = !0, this.homeMode = "menu", this.pauseDisplayed = !1, this.powerCdActivated = [!1, !1, !1], this.cannonDebugMode = !1
        }
        var t, n;
        return t = e, (n = [{
            key: "currentPower",
            set: function(e) {
                this._currentPower = e, r.default.powers.change.dispatch(e)
            },
            get: function() {
                return this._currentPower
            }
        }]) && i(t.prototype, n), e
    }());
    t.default = a, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = a(n(16)),
        r = a(n(325)),
        i = a(n(324));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function s(e) {
        return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function l() {
        return (l = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }

    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var c = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                o = n.diffuse,
                a = n.specular,
                u = void 0 === a ? {} : a,
                c = n.diffuseMap,
                f = n.emissiveMap,
                p = n.gradientMap,
                d = n.ambientOcclusionMap,
                h = n.ambientOcclusionIntensity,
                y = void 0 === h ? 1 : h,
                v = n.normalMap,
                _ = n.normalIntensity,
                m = void 0 === _ ? 1 : _,
                g = n.skinning,
                b = void 0 !== g && g,
                w = n.useShadowMap,
                x = void 0 === w || w,
                k = n.useVertexColors,
                O = void 0 !== k && k,
                E = n.vertexShader,
                P = n.fragmentShader,
                S = function(e, t) {
                    if (null == e) return {};
                    var n, o, r = {},
                        i = Object.keys(e);
                    for (o = 0; o < i.length; o++) n = i[o], t.indexOf(n) >= 0 || (r[n] = e[n]);
                    if (Object.getOwnPropertySymbols) {
                        var a = Object.getOwnPropertySymbols(e);
                        for (o = 0; o < a.length; o++) n = a[o], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (r[n] = e[n])
                    }
                    return r
                }(n, ["diffuse", "specular", "diffuseMap", "emissiveMap", "gradientMap", "ambientOcclusionMap", "ambientOcclusionIntensity", "normalMap", "normalIntensity", "skinning", "useShadowMap", "useVertexColors", "vertexShader", "fragmentShader"]);
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === s(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, S))).vertexShader = E || r.default, e.fragmentShader = P || i.default, e._scene.materialCtrl.add(function(e) {
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(e));
            var T = THREE.UniformsUtils.clone(THREE.UniformsLib.lights),
                j = T.directionalLights,
                M = T.directionalShadowMap,
                C = T.directionalShadowMatrix;
            return e.uniforms = l({}, e.uniforms, {
                uDiffuseColor: {
                    value: o || new THREE.Color("#ffffff")
                },
                uSpecularColor: {
                    value: u.color || new THREE.Color("#000000")
                },
                uSpecularShininess: {
                    value: u.shininess || 30
                },
                uDiffuseMap: {
                    value: c || null
                },
                uEmissiveMap: {
                    value: f || null
                },
                uGradientMap: {
                    value: p || e._textures.get("common.textures.gradient")
                },
                uAmbientOcclusionMap: {
                    value: d || null
                },
                uAmbientOcclusionIntensity: {
                    value: y
                },
                uNormalMap: {
                    value: v || null
                },
                uNormalIntensity: {
                    value: m
                },
                uShadowColor: {
                    value: new THREE.Color("#000000")
                },
                uShadowIntensity: {
                    value: 1
                },
                uNoise: {
                    value: new THREE.Vector3(1, .5, .5)
                },
                uAmbientIntensity: {
                    value: .5
                },
                uGroundColor: {
                    value: new THREE.Color("#000000")
                },
                uSkyIntensity: {
                    value: .5
                },
                uSkyColor: {
                    value: new THREE.Color("#000000")
                },
                uSkyPosition: {
                    value: new THREE.Vector3(0, 0, 0)
                },
                uSunIntensity: {
                    value: .5
                },
                uSunColor: {
                    value: new THREE.Color("#000000")
                },
                uSunPosition: {
                    value: new THREE.Vector3(0, 0, 0)
                },
                uvTransform: {
                    value: new THREE.Matrix3
                },
                directionalLights: j,
                directionalShadowMap: M,
                directionalShadowMatrix: C
            }), e.defines = l({}, e.defines, {
                USE_SHADOW_MAP: x,
                USE_DIFFUSE_MAP: !!c,
                USE_EMISSIVE_MAP: !!f,
                USE_GRADIENT_MAP: !!p,
                USE_AO_MAP: !!d,
                USE_NORMAL_MAP: !!v,
                USE_COLOR: O
            }), e.extensions = {
                derivatives: !0
            }, e.lights = !0, e.skinning = b, e.whitelistGui = function(e) {
                if (Array.isArray(e)) {
                    for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                    return n
                }
                return Array.from(e)
            }(e.whitelistGui).concat(["color", "specularColor", "specularShininess"]), v && (e.normalMap = v), e.needsUpdate = !0, e
        }
        var n, a;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), n = t, (a = [{
            key: "update",
            value: function(e, n) {
                (function e(t, n, o) {
                    null === t && (t = Function.prototype);
                    var r = Object.getOwnPropertyDescriptor(t, n);
                    if (void 0 === r) {
                        var i = Object.getPrototypeOf(t);
                        return null === i ? void 0 : e(i, n, o)
                    }
                    if ("value" in r) return r.value;
                    var a = r.get;
                    return void 0 !== a ? a.call(o) : void 0
                })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "update", this).call(this, e, n), this._updateUvTransformMatrix()
            }
        }, {
            key: "_updateUvTransformMatrix",
            value: function() {
                var e;
                if (this.defines.USE_DIFFUSE_MAP ? e = this.uniforms.uDiffuseMap.value : this.defines.USE_EMISSIVE_MAP ? e = this.uniforms.uEmissiveMap.value : this.defines.USE_AO_MAP ? e = this.uniforms.uAmbientOcclusionMap.value : this.defines.USE_NORMAL_MAP && (e = this.uniforms.uNormalMap.value), e) {
                    var t = e,
                        n = t.offset,
                        o = t.repeat,
                        r = t.rotation,
                        i = t.center;
                    e.matrix.setUvTransform(n.x, n.y, o.x, o.y, r, i.x, i.y), this.uniforms.uvTransform.value.copy(e.matrix)
                }
            }
        }, {
            key: "color",
            get: function() {
                return "#".concat(this.uniforms.uDiffuseColor.value.getHexString())
            },
            set: function(e) {
                this.uniforms && this.uniforms.uDiffuseColor.value.set(e)
            }
        }, {
            key: "specularColor",
            get: function() {
                return "#".concat(this.uniforms.uSpecularColor.value.getHexString())
            },
            set: function(e) {
                this.uniforms && this.uniforms.uSpecularColor.value.set(e)
            }
        }, {
            key: "specularShininess",
            get: function() {
                return this.uniforms.uSpecularShininess.value
            },
            set: function(e) {
                this.uniforms && (this.uniforms.uSpecularShininess.value = e)
            }
        }, {
            key: "skinning",
            get: function() {
                return this._skinning || !1
            },
            set: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                this._skinning = e, this.defines.USE_SKINNING = e
            }
        }, {
            key: "shadow",
            set: function(e) {
                var t = e.color,
                    n = e.intensity;
                this.uniforms.uShadowColor.value.set(t), this.uniforms.uShadowIntensity.value = n
            }
        }, {
            key: "noise",
            set: function(e) {
                var t = e.scale,
                    n = e.intensity,
                    o = e.mask;
                this.uniforms.uNoise.value.x = t, this.uniforms.uNoise.value.y = n, this.uniforms.uNoise.value.z = o
            }
        }, {
            key: "ambient",
            set: function(e) {
                var t = e.intensity,
                    n = e.ground,
                    o = e.sky,
                    r = e.sun;
                this.uniforms.uAmbientIntensity.value = t, this.uniforms.uGroundColor.value.set(n.color), this.uniforms.uSkyIntensity.value = o.intensity, this.uniforms.uSkyColor.value.set(o.color), this.uniforms.uSkyPosition.value = o.position, this.uniforms.uSunIntensity.value = r.intensity, this.uniforms.uSunColor.value.set(r.color), this.uniforms.uSunPosition.value = r.position
            }
        }, {
            key: "normalMap",
            get: function() {
                if (this.uniforms.uNormalMap.value) return this.uniforms.uNormalMap.value.name
            },
            set: function(e) {
                -1 === this.whitelistGui.indexOf("normalMap") && this.whitelistGui.push("normalIntensity", "normalMap"), this.defines.USE_NORMAL_MAP = !0, this.uniforms.uNormalMap.value = e
            }
        }, {
            key: "normalIntensity",
            get: function() {
                return this.uniforms.uNormalIntensity.value
            },
            set: function(e) {
                this.uniforms.uNormalIntensity.value = e
            }
        }]) && u(n.prototype, a), t
    }();
    t.default = c, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e) {
        return e.charAt(0).toUpperCase() + e.slice(1)
    }, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i, a = (r = n(512)) && r.__esModule ? r : {
            default: r
        };

        function s(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }

        function l(e) {
            return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function u(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function c(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function f(e, t, n) {
            return t && c(e.prototype, t), n && c(e, n), e
        }

        function p(e, t) {
            if (t && ("object" === l(t) || "function" == typeof t)) return t;
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }

        function d(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }
        var h = function(e) {
                function t() {
                    var e;
                    return u(this, t), (e = p(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this))).type = y, e
                }
                return d(t, a.default), f(t, [{
                    key: "constructObject",
                    value: function() {
                        return new y
                    }
                }, {
                    key: "release",
                    value: function() {
                        for (var e = 0, t = arguments.length; e < t; e++) {
                            var n = arguments[e];
                            n.set(0, 0, 0), this.objects.push(n)
                        }
                        return this
                    }
                }]), t
            }(),
            y = (s((i = function(e) {
                function t() {
                    var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                        o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                        r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
                    return u(this, t), (e = p(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, n, o, r))).isCustom = !0, e.isCannonEnabled = !1, e._x = n, e._y = o, e._z = r, e
                }
                return d(t, THREE.Vector3), f(t, [{
                    key: "enableCannon",
                    value: function() {
                        return this.isCannonEnabled || (this.c = new CANNON.Vec3, this.isCannonEnabled = !0, this.syncCannon(), this.c.get = this.get.bind(this), this.c.release = this.release.bind(this)), this.c
                    }
                }, {
                    key: "syncCannon",
                    value: function() {
                        this.isCannonEnabled && this.c.copy(this)
                    }
                }, {
                    key: "get",
                    value: function() {
                        var e;
                        return (e = t.pool).get.apply(e, arguments)
                    }
                }, {
                    key: "release",
                    value: function(e) {
                        var n;
                        return e = arguments.length < 1 ? [this] : arguments, (n = t.pool).release.apply(n, function(e) {
                            if (Array.isArray(e)) {
                                for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                                return n
                            }
                            return Array.from(e)
                        }(e))
                    }
                }, {
                    key: "x",
                    get: function() {
                        return this._x
                    },
                    set: function(e) {
                        this._x = e, this.syncCannon()
                    }
                }, {
                    key: "y",
                    get: function() {
                        return this._y
                    },
                    set: function(e) {
                        this._y = e, this.syncCannon()
                    }
                }, {
                    key: "z",
                    get: function() {
                        return this._z
                    },
                    set: function(e) {
                        this._z = e, this.syncCannon()
                    }
                }]), t
            }()).prototype, "get", [o], Object.getOwnPropertyDescriptor(i.prototype, "get"), i.prototype), s(i.prototype, "release", [o], Object.getOwnPropertyDescriptor(i.prototype, "release"), i.prototype), i);
        y.pool = new h, y.Y_UP = new y(0, 1, 0), y.Y_UP.enableCannon(), y.Y_DOWN = new y(0, -1, 0), y.Y_DOWN.enableCannon();
        var v = y;
        t.default = v, e.exports = t.default
    }).call(this, n(0).bind)
}, , , , function(e, t) {
    var n = e.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = n)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(541)) && o.__esModule ? o : {
            default: o
        },
        i = n(3),
        a = n(6);

    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var l = (0, i.getLogger)("QualityManager", "#db3fd3", !0),
        u = new(function() {
            function e() {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this.HIGH = "high", this.MEDIUM = "medium", this.LOW = "low", this._availableLevels = [this.LOW, this.MEDIUM, this.HIGH], this.performanceTest = new r.default, this._defaultLevel = this.performanceTest.version, this._currentLevel = this._defaultLevel, this.performanceTest.gpu && this.performanceTest.gpu.type && (0, a.event)("quality", "quality-gpu", this.performanceTest.gpu.type, this.performanceTest.gpu.model)
            }
            var t, n;
            return t = e, (n = [{
                key: "level",
                get: function() {
                    return this._currentLevel
                },
                set: function(e) {
                    -1 !== this._availableLevels.indexOf(e) && (this._currentLevel = e, l("'".concat(e, "' level set")))
                }
            }, {
                key: "default",
                get: function() {
                    return this._defaultLevel
                }
            }, {
                key: "isHigh",
                get: function() {
                    return !(this._currentLevel !== this.HIGH)
                }
            }, {
                key: "isMedium",
                get: function() {
                    return !(this._currentLevel !== this.MEDIUM)
                }
            }, {
                key: "isLow",
                get: function() {
                    return !(this._currentLevel !== this.LOW)
                }
            }]) && s(t.prototype, n), e
        }());
    t.default = u, e.exports = t.default
}, function(e, t, n) {
    var o;
    ! function(r) {
        "use strict";
        void 0 === (o = function(e) {
            var t = n(607),
                o = n(605),
                r = n(604),
                i = n(603),
                a = n(602),
                s = n(601),
                l = n(600),
                u = n(599),
                c = n(598),
                f = n(197),
                p = [o, r, i, s, l, a, u, t, c].reduce(function(e, t) {
                    return t(e)
                }, n(596)),
                d = n(195)(p);

            function h(e, t, n, o) {
                var r = p.resolve(e);
                return arguments.length < 2 ? r : r.then(t, n, o)
            }

            function y(e) {
                return function() {
                    for (var t = 0, n = arguments.length, o = new Array(n); t < n; ++t) o[t] = arguments[t];
                    return d(e, this, o)
                }
            }

            function v(e) {
                for (var t = 0, n = arguments.length - 1, o = new Array(n); t < n; ++t) o[t] = arguments[t + 1];
                return d(e, this, o)
            }
            return h.promise = function(e) {
                return new p(e)
            }, h.resolve = p.resolve, h.reject = p.reject, h.lift = y, h.try = v, h.attempt = v, h.iterate = p.iterate, h.unfold = p.unfold, h.join = function() {
                return p.all(arguments)
            }, h.all = function(e) {
                return h(e, p.all)
            }, h.settle = function(e) {
                return h(e, p.settle)
            }, h.any = y(p.any), h.some = y(p.some), h.race = y(p.race), h.map = function(e, t) {
                return h(e, function(e) {
                    return p.map(e, t)
                })
            }, h.filter = function(e, t) {
                return h(e, function(e) {
                    return p.filter(e, t)
                })
            }, h.reduce = y(p.reduce), h.reduceRight = y(p.reduceRight), h.isPromiseLike = function(e) {
                return e && "function" == typeof e.then
            }, h.Promise = p, h.defer = function() {
                return new function() {
                    var e = p._defer();

                    function t(t) {
                        e._handler.resolve(t)
                    }

                    function n(t) {
                        e._handler.reject(t)
                    }

                    function o(t) {
                        e._handler.notify(t)
                    }
                    this.promise = e, this.resolve = t, this.reject = n, this.notify = o, this.resolver = {
                        resolve: t,
                        reject: n,
                        notify: o
                    }
                }
            }, h.TimeoutError = f, h
        }.call(t, n, t, e)) || (e.exports = o)
    }(n(9))
}, , function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = u(n(5)),
        r = u(n(372)),
        i = u(n(371)),
        a = u(n(369)),
        s = u(n(52)),
        l = u(n(15));

    function u(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function c(e) {
        return (c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function f() {
        return (f = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }

    function p(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var d = function(e) {
        function t(e) {
            var n, o = e.geometry,
                r = e.debug,
                i = e.fps,
                a = e.dataId,
                s = e.atlasId,
                u = e.sheetNb,
                f = e.matOptions,
                p = e.mcOptions;
            if (function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), (n = function(e, t) {
                    if (t && ("object" === c(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)))._data = null, n._frames = null, n._meta = null, n._previousFrame = null, n._currentFrame = 0, n._fps = i || 24, n._dataId = a, n._atlasId = s, n._sheetNb = u || 1, n._geometry = o || new THREE.PlaneBufferGeometry(10, 10, 1, 1), n._matOptions = f || {}, n._mcOptions = p || {}, n.started = new l.default, n.ended = new l.default, r) {
                var d = o.clone(),
                    h = new THREE.MeshBasicMaterial({
                        color: 16715760,
                        transparent: !0,
                        wireframe: !0
                    });
                n._debugMesh = new THREE.Mesh(d, h), n.add(n._debugMesh)
            }
            return n._init(), n
        }
        var n, u;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), n = t, (u = [{
            key: "changeFPS",
            value: function(e) {
                s.default.remove(this.mc.tick), s.default.add(this.mc.tick, e)
            }
        }, {
            key: "destroy",
            value: function() {
                (function e(t, n, o) {
                    null === t && (t = Function.prototype);
                    var r = Object.getOwnPropertyDescriptor(t, n);
                    if (void 0 === r) {
                        var i = Object.getPrototypeOf(t);
                        return null === i ? void 0 : e(i, n, o)
                    }
                    if ("value" in r) return r.value;
                    var a = r.get;
                    return void 0 !== a ? a.call(o) : void 0
                })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), s.default.remove(this.mc.tick), this.ended.removeAll()
            }
        }, {
            key: "_init",
            value: function() {
                var e = this;
                this._data = this._loader.get(this._dataId), this._frames = this._data.frames, this._meta = this._data.meta;
                var t = new a.default({
                        data: this._data,
                        sheetNb: this._sheetNb
                    }),
                    n = new i.default({
                        framesProvider: t,
                        atlasId: this._atlasId,
                        matOptions: this._matOptions
                    });
                this.mc = new r.default(f({
                    fps: this._fps,
                    framesProvider: t,
                    frameRenderer: n.render,
                    totalFrames: t.totalFrames,
                    loop: !1
                }, this._mcOptions)), this.mc.addFrameScript(0, function() {
                    e.started.dispatch()
                }), this.mc.addFrameScript(this.mc.totalFrames, function() {
                    e.ended.dispatch()
                }), this._sprite = new THREE.Mesh(this._geometry, n.material), this.add(this._sprite), s.default.add(this.mc.tick, this.mc.fps)
            }
        }, {
            key: "material",
            get: function() {
                return this._sprite.material
            },
            set: function(e) {
                this._sprite.material = e
            }
        }]) && p(n.prototype, u), t
    }();
    t.default = d, e.exports = t.default
}, function(e, t) {
    var n = {}.hasOwnProperty;
    e.exports = function(e, t) {
        return n.call(e, t)
    }
}, function(e, t, n) {
    e.exports = !n(84)(function() {
        return 7 != Object.defineProperty({}, "a", {
            get: function() {
                return 7
            }
        }).a
    })
}, function(e, t, n) {
    var o = n(63),
        r = n(180),
        i = n(118),
        a = Object.defineProperty;
    t.f = n(33) ? Object.defineProperty : function(e, t, n) {
        if (o(e), t = i(t, !0), o(n), r) try {
            return a(e, t, n)
        } catch (e) {}
        if ("get" in n || "set" in n) throw TypeError("Accessors not supported!");
        return "value" in n && (e[t] = n.value), e
    }
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = s(n(19)),
            a = s(n(15));

        function s(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function l(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }

        function u(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function c(e, t, n) {
            return t && u(e.prototype, t), n && u(e, n), e
        }

        function f(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var p = (f((r = function() {
                function e() {
                    l(this, e), this.LEFT_BUTTON = 0, this.MIDDLE_BUTTON = 1, this.RIGHT_BUTTON = 2, this._binded = !1, this._isTouchDevice = "ontouchstart" in window || navigator.maxTouchPoints, this.client = new d, this.delta = new d, this.movement = new d, this.mouseDownPos = new d, this.mouseUpPos = new d, this.lastPos = new d, this.isDown = !1, this.downNow = 0, this.pressDuration = 0, this.lastModifier = null, this._domEl = document.body, this._cursors = ["grab", "grabbing", "pointer", "move", "not-allowed"], this._createSignals(), this.bind()
                }
                return c(e, [{
                    key: "bind",
                    value: function() {
                        this._binded || (this._domEl.addEventListener("touchstart", this._handleMouseDown, !1), this._domEl.addEventListener("touchend", this._handleMouseUp, !1), this._domEl.addEventListener("touchmove", this._handleMouseMove, !1), this._domEl.addEventListener("mousedown", this._handleMouseDown, !1), this._domEl.addEventListener("mouseup", this._handleMouseUp, !1), this._domEl.addEventListener("mousemove", this._handleMouseMove, !1), this._domEl.addEventListener("mouseleave", this._handleMouseLeave, !1), this._binded = !0)
                    }
                }, {
                    key: "unbind",
                    value: function() {
                        this._binded && (this._domEl.removeEventListener("touchstart", this._handleMouseDown, !1), this._domEl.removeEventListener("touchend", this._handleMouseUp, !1), this._domEl.removeEventListener("touchmove", this._handleMouseMove, !1), this._domEl.removeEventListener("mousedown", this._handleMouseDown, !1), this._domEl.removeEventListener("mouseup", this._handleMouseUp, !1), this._domEl.removeEventListener("mousemove", this._handleMouseMove, !1), this._domEl.removeEventListener("mouseleave", this._handleMouseLeave, !1), this._binded = !1)
                    }
                }, {
                    key: "addCursor",
                    value: function(e) {
                        if (e !== this.lastModifier) {
                            for (var t = 0, n = this._cursors.length; t < n; t++) {
                                var o = this._cursors[t];
                                this._domEl.classList.toggle("cursor-".concat(o), o === e)
                            }
                            this.lastModifier = e
                        }
                    }
                }, {
                    key: "removeCursor",
                    value: function(e) {
                        this.lastModifier = null, this._domEl.classList.remove("cursor-".concat(e))
                    }
                }, {
                    key: "_createSignals",
                    value: function() {
                        this.upped = new a.default, this.downed = new a.default, this.moved = new a.default, this.leaved = new a.default
                    }
                }, {
                    key: "_setPointerMovement",
                    value: function(e, t) {
                        this.movement.x = e - this.mouseDownPos.x, this.movement.y = t - this.mouseDownPos.y
                    }
                }, {
                    key: "_setPointerDelta",
                    value: function(e, t) {
                        this.delta.x = e - this.lastPos.x, this.delta.y = t - this.lastPos.y
                    }
                }, {
                    key: "_getClientValues",
                    value: function(e) {
                        var t, n;
                        return this._isTouchDevice ? void 0 !== t ? (t = e.touches[0].clientX, n = e.touches[0].clientY) : (t = e.changedTouches[0].clientX, n = e.changedTouches[0].clientY) : (t = e.clientX, n = e.clientY), {
                            clientX: t,
                            clientY: n
                        }
                    }
                }, {
                    key: "_handleMouseDown",
                    value: function(e) {
                        if (!e.touches) {
                            var t = this._getClientValues(e),
                                n = t.clientX,
                                o = t.clientY;
                            this.client.set(n, o), this.lastPos.set(n, o), this.mouseDownPos.set(n, o), this.downNow = (new Date).getTime(), this.isDown = !0, this.downed.dispatch(e)
                        }
                    }
                }, {
                    key: "_handleMouseUp",
                    value: function(e) {
                        if (!e.touches) {
                            var t = this._getClientValues(e),
                                n = t.clientX,
                                o = t.clientY;
                            this.client.set(n, o), this.lastPos.set(n, o), this.mouseUpPos.set(n, o), this._setPointerMovement(n, o), this._setPointerDelta(n, o);
                            var r = (new Date).getTime();
                            this.pressDuration = r - this.downNow, this.isDown = !1, this.upped.dispatch(e)
                        }
                    }
                }, {
                    key: "_handleMouseMove",
                    value: function(e) {
                        if (!e.touches) {
                            var t = this._getClientValues(e),
                                n = t.clientX,
                                o = t.clientY;
                            this.client.set(n, o), this._setPointerDelta(n, o), this.moved.dispatch(e), this.lastPos.set(n, o)
                        }
                    }
                }, {
                    key: "_handleMouseLeave",
                    value: function(e) {
                        this.leaved.dispatch(e)
                    }
                }, {
                    key: "domEl",
                    get: function() {
                        return this._domEl
                    }
                }]), e
            }()).prototype, "_handleMouseDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleMouseDown"), r.prototype), f(r.prototype, "_handleMouseUp", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleMouseUp"), r.prototype), f(r.prototype, "_handleMouseMove", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleMouseMove"), r.prototype), f(r.prototype, "_handleMouseLeave", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleMouseLeave"), r.prototype), r),
            d = function() {
                function e() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                    l(this, e), this.norm = {
                        x: t / i.default.width,
                        y: n / i.default.height
                    }, this.x = t, this.y = n
                }
                return c(e, [{
                    key: "set",
                    value: function(e, t) {
                        this.x = e, this.y = t
                    }
                }, {
                    key: "x",
                    set: function(e) {
                        this._x = e, this.norm.x = e / i.default.width
                    },
                    get: function() {
                        return this._x
                    }
                }, {
                    key: "y",
                    set: function(e) {
                        this._y = e, this.norm.y = e / i.default.height
                    },
                    get: function() {
                        return this._y
                    }
                }]), e
            }(),
            h = new p;
        t.default = h, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = c(n(19)),
            a = c(n(545)),
            s = c(n(544)),
            l = c(n(543)),
            u = c(n(542));

        function c(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function f(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var p, d, h, y, v, _, m = new(p = (r = function() {
            function e() {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this._domEl = null, this.navigator = window.navigator, this.userAgent = this.navigator.userAgent.toLowerCase(), this.browser = new s.default, this.device = new l.default, this.os = new a.default, this.supports = new u.default
            }
            var t, n;
            return t = e, (n = [{
                key: "bind",
                value: function() {
                    i.default.resized.add(this._handleResize), this._addDOMClasses(), this._handleResize()
                }
            }, {
                key: "unbind",
                value: function() {
                    i.default.resized.remove(this._handleResize)
                }
            }, {
                key: "_find",
                value: function(e) {
                    return -1 !== this.userAgent.indexOf(e)
                }
            }, {
                key: "_hasClass",
                value: function(e) {
                    var t = new RegExp(e, "i");
                    return this._domEl.className.match(t)
                }
            }, {
                key: "_addClass",
                value: function(e) {
                    if (!this._hasClass(e)) return this._domEl.className += " " + e, this._domEl.className
                }
            }, {
                key: "_removeClass",
                value: function(e) {
                    if (this._hasClass(e)) return this._domEl.className = this._domEl.className.replace(e, ""), this._domEl.className
                }
            }, {
                key: "_addDOMClasses",
                value: function() {
                    this._domEl = window.document.body;
                    var e = this.browser,
                        t = e.name,
                        n = e.version,
                        o = this.os.type,
                        r = this.device.type;
                    this._addClass("".concat(t, " ").concat(t, "-").concat(n, " ").concat(o, " ").concat(r))
                }
            }, {
                key: "_handleResize",
                value: function() {
                    this.device.landscape ? (this._removeClass("portrait"), this._addClass("landscape")) : (this._removeClass("landscape"), this._addClass("portrait"))
                }
            }]) && f(t.prototype, n), e
        }()).prototype, d = "_handleResize", h = [o], y = Object.getOwnPropertyDescriptor(r.prototype, "_handleResize"), v = r.prototype, _ = {}, Object.keys(y).forEach(function(e) {
            _[e] = y[e]
        }), _.enumerable = !!_.enumerable, _.configurable = !!_.configurable, ("value" in _ || _.initializer) && (_.writable = !0), _ = h.slice().reverse().reduce(function(e, t) {
            return t(p, d, e) || e
        }, _), v && void 0 !== _.initializer && (_.value = _.initializer ? _.initializer.call(v) : void 0, _.initializer = void 0), void 0 === _.initializer && (Object.defineProperty(p, d, _), _ = null), r);
        t.default = m, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = a(n(593)),
        r = a(n(4)),
        i = a(n(580));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function s(e) {
        return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function l(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var u = new(function(e) {
        function t() {
            var e;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), e = function(e, t) {
                if (t && ("object" === s(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, {
                routes: i.default,
                mode: t.MEMORY_MODE,
                debugMode: !1
            })), window.Router = function(e) {
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(e), e
        }
        var n, a;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), n = t, (a = [{
            key: "init",
            value: function(e) {
                this.components = e
            }
        }, {
            key: "beforeEach",
            value: function(e, t, n) {
                r.default.router.beforeEach.dispatch(e, t), e && e.instance ? e.instance.beforeRouteLeave(e, t, n) : n()
            }
        }, {
            key: "afterEach",
            value: function(e, t, n) {
                r.default.router.afterEach.dispatch(e, t), e && e.instance && e.instance.$destroy(), t && t.instance ? t.instance.beforeRouteEnter(e, t, n) : n()
            }
        }]) && l(n.prototype, a), t
    }());
    t.default = u, e.exports = t.default
}, function(e, t) {
    var n, o, r = e.exports = {};

    function i() {
        throw new Error("setTimeout has not been defined")
    }

    function a() {
        throw new Error("clearTimeout has not been defined")
    }

    function s(e) {
        if (n === setTimeout) return setTimeout(e, 0);
        if ((n === i || !n) && setTimeout) return n = setTimeout, setTimeout(e, 0);
        try {
            return n(e, 0)
        } catch (t) {
            try {
                return n.call(null, e, 0)
            } catch (t) {
                return n.call(this, e, 0)
            }
        }
    }! function() {
        try {
            n = "function" == typeof setTimeout ? setTimeout : i
        } catch (e) {
            n = i
        }
        try {
            o = "function" == typeof clearTimeout ? clearTimeout : a
        } catch (e) {
            o = a
        }
    }();
    var l, u = [],
        c = !1,
        f = -1;

    function p() {
        c && l && (c = !1, l.length ? u = l.concat(u) : f = -1, u.length && d())
    }

    function d() {
        if (!c) {
            var e = s(p);
            c = !0;
            for (var t = u.length; t;) {
                for (l = u, u = []; ++f < t;) l && l[f].run();
                f = -1, t = u.length
            }
            l = null, c = !1,
                function(e) {
                    if (o === clearTimeout) return clearTimeout(e);
                    if ((o === a || !o) && clearTimeout) return o = clearTimeout, clearTimeout(e);
                    try {
                        o(e)
                    } catch (t) {
                        try {
                            return o.call(null, e)
                        } catch (t) {
                            return o.call(this, e)
                        }
                    }
                }(e)
        }
    }

    function h(e, t) {
        this.fun = e, this.array = t
    }

    function y() {}
    r.nextTick = function(e) {
        var t = new Array(arguments.length - 1);
        if (arguments.length > 1)
            for (var n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
        u.push(new h(e, t)), 1 !== u.length || c || s(d)
    }, h.prototype.run = function() {
        this.fun.apply(null, this.array)
    }, r.title = "browser", r.browser = !0, r.env = {}, r.argv = [], r.version = "", r.versions = {}, r.on = y, r.addListener = y, r.once = y, r.off = y, r.removeListener = y, r.removeAllListeners = y, r.emit = y, r.prependListener = y, r.prependOnceListener = y, r.listeners = function(e) {
        return []
    }, r.binding = function(e) {
        throw new Error("process.binding is not supported")
    }, r.cwd = function() {
        return "/"
    }, r.chdir = function(e) {
        throw new Error("process.chdir is not supported")
    }, r.umask = function() {
        return 0
    }
}, , , , , function(e, t, n) {
    var o = n(104)("wks"),
        r = n(80),
        i = n(27).Symbol,
        a = "function" == typeof i;
    (e.exports = function(e) {
        return o[e] || (o[e] = a && i[e] || (a ? i : r)("Symbol." + e))
    }).store = o
}, function(e, t, n) {
    var o = n(426),
        r = n(110);
    e.exports = function(e) {
        return o(r(e))
    }
}, function(e, t) {
    e.exports = function(e) {
        return "object" == typeof e ? null !== e : "function" == typeof e
    }
}, function(e, t, n) {
    var o = n(34),
        r = n(83);
    e.exports = n(33) ? function(e, t, n) {
        return o.f(e, t, r(1, n))
    } : function(e, t, n) {
        return e[t] = n, e
    }
}, function(e, t) {
    var n = e.exports = {
        version: "2.5.4"
    };
    "number" == typeof __e && (__e = n)
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0;
    var o, r, i = _(n(462));
    n(458);
    var a = _(n(81)),
        s = _(n(113)),
        l = _(n(169)),
        u = _(n(161)),
        c = _(n(160)),
        f = _(n(397)),
        p = _(n(396)),
        d = _(n(395)),
        h = _(n(388)),
        y = _(n(387)),
        v = _(n(158));

    function _(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var m = new u.default(a.default, a.default.destination);

    function g(e) {
        return m.find(e)
    }

    function b(e) {
        var t = new h.default(a.default, m.gain);
        return e && e.forEach(function(e) {
            return t.add(e)
        }), t
    }

    function w(e) {
        var t = l.default.getSupportedFile(e.src || e.url || e.data || e),
            n = new d.default(Object.assign({}, e || {}, {
                src: t,
                context: a.default,
                destination: m.gain
            }));
        return n.isTouchLocked = E, e && (n.id = e.id || e.name || "", n.loop = !!e.loop, n.volume = e.volume, n.effects = e.effects || []), m.add(n), n
    }

    function x(e, t) {
        var n = w(e).prepare();
        return t && t.add(n.loader), n
    }

    function k(e) {
        var t = e.src || e.url || e.data || e,
            n = void 0,
            o = void 0;
        if (l.default.containsURL(t)) n = x(e), o = n.loader;
        else {
            if (!Array.isArray(t) || !l.default.containsURL(t[0].src || t[0].url)) {
                var r = "sono.load: No audio file URLs found in config.";
                if (!e.onError) throw new Error(r);
                return e.onError("[ERROR] " + r), null
            }
            n = [], o = new c.default.Group, t.forEach(function(e) {
                return n.push(x(e, o))
            })
        }
        return e.onProgress && o.on("progress", function(t) {
            return e.onProgress(t)
        }), e.onComplete && o.once("complete", function() {
            o.off("progress"), e.onComplete(n)
        }), o.once("error", function(t) {
            o.off("error"), e.onError ? e.onError(t) : console.error(t)
        }), o.start(), n
    }

    function O(e) {
        if (l.default.containsURL(e)) return k(e);
        var t = w(e);
        return t.data = e.data || e, t
    }
    var E = (0, y.default)(a.default, function() {
            E = !1, m.sounds.forEach(function(e) {
                return e.isTouchLocked = !1
            })
        }),
        P = [];

    function S() {
        for (; P.length;) P.pop().play()
    }
    var T = (0, p.default)(function() {
            m.sounds.forEach(function(e) {
                e.playing && (e.pause(), P.push(e))
            })
        }, S),
        j = (o = {
            canPlay: l.default.canPlay,
            context: a.default,
            create: O,
            createGroup: b,
            createSound: O,
            destroyAll: function() {
                return m.destroy(), j
            },
            destroy: function(e) {
                return m.find(e, function(e) {
                    return e.destroy()
                }), j
            },
            effects: m.effects,
            extensions: l.default.extensions,
            fade: function(e, t) {
                return m.fade(e, t), j
            },
            file: l.default,
            gain: m.gain,
            getOfflineContext: v.default.getOfflineContext,
            get: g,
            getSound: g,
            group: b,
            hasWebAudio: !a.default.isFake,
            isSupported: l.default.extensions.length > 0,
            load: k,
            log: function() {
                return (0, f.default)(j)
            },
            mute: function() {
                return m.mute(), j
            },
            pause: function(e) {
                return m.find(e, function(e) {
                    return e.pause()
                }), j
            },
            pauseAll: function() {
                return m.pause(), j
            },
            play: function(e, t, n) {
                return m.find(e, function(e) {
                    return e.play(t, n)
                }), j
            },
            register: function(e, t) {
                return (arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : s.default.prototype)[e] = t, j[e] = t, t
            },
            resumeAll: function() {
                return m.resume(), j
            },
            stop: function(e) {
                return m.find(e, function(e) {
                    return e.stop()
                }), j
            },
            stopAll: function() {
                return m.stop(), j
            },
            unMute: function() {
                return m.unMute(), j
            },
            utils: v.default,
            VERSION: "2.1.6"
        }, (r = {}).effects = r.effects || {}, r.effects.get = function() {
            return m.effects
        }, r.effects = r.effects || {}, r.effects.set = function(e) {
            m.effects.removeAll().add(e)
        }, r.fx = r.fx || {}, r.fx.get = function() {
            return this.effects
        }, r.fx = r.fx || {}, r.fx.set = function(e) {
            this.effects = e
        }, r.isTouchLocked = r.isTouchLocked || {}, r.isTouchLocked.get = function() {
            return E
        }, r.playInBackground = r.playInBackground || {}, r.playInBackground.get = function() {
            return !T.enabled
        }, r.playInBackground = r.playInBackground || {}, r.playInBackground.set = function(e) {
            T.enabled = !e, e || S()
        }, r.sounds = r.sounds || {}, r.sounds.get = function() {
            return m.sounds.slice(0)
        }, r.volume = r.volume || {}, r.volume.get = function() {
            return m.volume
        }, r.volume = r.volume || {}, r.volume.set = function(e) {
            m.volume = e
        }, o.__test = {
            Effects: s.default,
            Group: u.default,
            Sound: d.default
        }, (0, i.default)(o, r), o);
    t.default = j
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = l(n(48)),
            a = l(n(19)),
            s = l(n(386));

        function l(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function u(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var c, f, p, d, h, y, v = (0, n(3).getLogger)("SoundManager", "#EAB543", !0),
            _ = new(c = (r = function() {
                function e() {
                    for (var t in function(e, t) {
                            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                        }(this, e), i.default.playInBackground = !0, this.config = s.default, this.state = {}, this.sonoGroups = {}, this.config) this.state[t] = {
                        created: !1
                    };
                    this._muted = !1, this._bind(), this.create("common")
                }
                var t, n;
                return t = e, (n = [{
                    key: "create",
                    value: function(e) {
                        if (!this.state[e].created) {
                            var t = this.config[e],
                                n = [];
                            for (var o in t) {
                                var r = t[o],
                                    a = r.url,
                                    s = r.loop,
                                    l = r.volume,
                                    u = i.default.create({
                                        id: o,
                                        url: a,
                                        loop: !!s
                                    });
                                u._gain.gain.value = void 0 === l ? 1 : l, n.push(u)
                            }
                            this.sonoGroups[e] = i.default.group(n), this.state[e].created = !0, v("Group '".concat(e, "' created"))
                        }
                    }
                }, {
                    key: "createSound",
                    value: function(e) {
                        var t = e.id,
                            n = e.url,
                            o = e.loop,
                            r = e.volume;
                        if (this.get(t)) return this.get(t);
                        var a = i.default.create({
                            id: t,
                            url: n,
                            loop: !!o
                        });
                        return a._gain.gain.value = void 0 === r ? 1 : r, a
                    }
                }, {
                    key: "play",
                    value: function(e) {
                        i.default.play(e)
                    }
                }, {
                    key: "get",
                    value: function(e) {
                        return i.default.get(e)
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._unbind()
                    }
                }, {
                    key: "mute",
                    value: function() {
                        this._muted || (this._muted = !0, i.default.fade(0, .5))
                    }
                }, {
                    key: "unmute",
                    value: function() {
                        this._muted && (this._muted = !1, i.default.fade(1, .5))
                    }
                }, {
                    key: "_bind",
                    value: function() {
                        a.default.visibilityChanged.add(this._onVisibilityChange)
                    }
                }, {
                    key: "_unbind",
                    value: function() {
                        a.default.visibilityChanged.remove(this._onVisibilityChange)
                    }
                }, {
                    key: "_onVisibilityChange",
                    value: function(e) {
                        e && !this._wasMuted ? this.unmute() : (this._wasMuted = this._muted, this.mute())
                    }
                }]) && u(t.prototype, n), e
            }()).prototype, f = "_onVisibilityChange", p = [o], d = Object.getOwnPropertyDescriptor(r.prototype, "_onVisibilityChange"), h = r.prototype, y = {}, Object.keys(d).forEach(function(e) {
                y[e] = d[e]
            }), y.enumerable = !!y.enumerable, y.configurable = !!y.configurable, ("value" in y || y.initializer) && (y.writable = !0), y = p.slice().reverse().reduce(function(e, t) {
                return t(c, f, e) || e
            }, y), h && void 0 !== y.initializer && (y.value = y.initializer ? y.initializer.call(h) : void 0, y.initializer = void 0), void 0 === y.initializer && (Object.defineProperty(c, f, y), y = null), r);
        t.default = _, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t) {
    e.exports = {
        "/assets/audios/fx/chest.mp3": "/assets/audios/fx/chest.mp3?v=1.1.1",
        "/assets/audios/fx/door.mp3": "/assets/audios/fx/door.mp3?v=1.1.1",
        "/assets/audios/fx/error.mp3": "/assets/audios/fx/error.mp3?v=1.1.1",
        "/assets/audios/fx/explosion.mp3": "/assets/audios/fx/explosion.mp3?v=1.1.1",
        "/assets/audios/fx/fall-stone-0.mp3": "/assets/audios/fx/fall-stone-0.mp3?v=1.1.1",
        "/assets/audios/fx/fall-stone-1.mp3": "/assets/audios/fx/fall-stone-1.mp3?v=1.1.1",
        "/assets/audios/fx/fall-stone-2.mp3": "/assets/audios/fx/fall-stone-2.mp3?v=1.1.1",
        "/assets/audios/fx/fall-stone-3.mp3": "/assets/audios/fx/fall-stone-3.mp3?v=1.1.1",
        "/assets/audios/fx/falling-stone.mp3": "/assets/audios/fx/falling-stone.mp3?v=1.1.1",
        "/assets/audios/fx/fire.mp3": "/assets/audios/fx/fire.mp3?v=1.1.1",
        "/assets/audios/fx/fragment.mp3": "/assets/audios/fx/fragment.mp3?v=1.1.1",
        "/assets/audios/fx/laser-hit.mp3": "/assets/audios/fx/laser-hit.mp3?v=1.1.1",
        "/assets/audios/fx/laser-loop.mp3": "/assets/audios/fx/laser-loop.mp3?v=1.1.1",
        "/assets/audios/fx/magic-shot.mp3": "/assets/audios/fx/magic-shot.mp3?v=1.1.1",
        "/assets/audios/fx/rock-construct.mp3": "/assets/audios/fx/rock-construct.mp3?v=1.1.1",
        "/assets/audios/fx/thunder.mp3": "/assets/audios/fx/thunder.mp3?v=1.1.1",
        "/assets/audios/fx/validate-click.mp3": "/assets/audios/fx/validate-click.mp3?v=1.1.1",
        "/assets/audios/fx/walking.mp3": "/assets/audios/fx/walking.mp3?v=1.1.1",
        "/assets/audios/fx/woosh-2.mp3": "/assets/audios/fx/woosh-2.mp3?v=1.1.1",
        "/assets/audios/fx/woosh-3.mp3": "/assets/audios/fx/woosh-3.mp3?v=1.1.1",
        "/assets/audios/fx/woosh.mp3": "/assets/audios/fx/woosh.mp3?v=1.1.1",
        "/assets/audios/themes/credits-theme.mp3": "/assets/audios/themes/credits-theme.mp3?v=1.1.1",
        "/assets/audios/themes/home-theme.mp3": "/assets/audios/themes/home-theme.mp3?v=1.1.1",
        "/assets/audios/themes/level-1-theme.mp3": "/assets/audios/themes/level-1-theme.mp3?v=1.1.1",
        "/assets/audios/themes/level-2-theme.mp3": "/assets/audios/themes/level-2-theme.mp3?v=1.1.1",
        "/assets/audios/themes/level-3-theme.mp3": "/assets/audios/themes/level-3-theme.mp3?v=1.1.1",
        "/assets/audios/themes/tutorial-theme.mp3": "/assets/audios/themes/tutorial-theme.mp3?v=1.1.1",
        "/assets/audios/ui/active-selection.mp3": "/assets/audios/ui/active-selection.mp3?v=1.1.1",
        "/assets/audios/ui/helper.mp3": "/assets/audios/ui/helper.mp3?v=1.1.1",
        "/assets/audios/ui/interface-soft-stone.mp3": "/assets/audios/ui/interface-soft-stone.mp3?v=1.1.1",
        "/assets/audios/voices/god/avoid-lightning.mp3": "/assets/audios/voices/god/avoid-lightning.mp3?v=1.1.1",
        "/assets/audios/voices/god/having-fun-rocks.mp3": "/assets/audios/voices/god/having-fun-rocks.mp3?v=1.1.1",
        "/assets/audios/voices/god/hope-youre-glad.mp3": "/assets/audios/voices/god/hope-youre-glad.mp3?v=1.1.1",
        "/assets/audios/voices/god/hurry-up-song.mp3": "/assets/audios/voices/god/hurry-up-song.mp3?v=1.1.1",
        "/assets/audios/voices/god/hurry-up.mp3": "/assets/audios/voices/god/hurry-up.mp3?v=1.1.1",
        "/assets/audios/voices/god/intro.mp3": "/assets/audios/voices/god/intro.mp3?v=1.1.1",
        "/assets/audios/voices/god/laugh.mp3": "/assets/audios/voices/god/laugh.mp3?v=1.1.1",
        "/assets/audios/voices/god/loser.mp3": "/assets/audios/voices/god/loser.mp3?v=1.1.1",
        "/assets/audios/voices/god/power-1.mp3": "/assets/audios/voices/god/power-1.mp3?v=1.1.1",
        "/assets/audios/voices/god/power-2.mp3": "/assets/audios/voices/god/power-2.mp3?v=1.1.1",
        "/assets/audios/voices/god/river.mp3": "/assets/audios/voices/god/river.mp3?v=1.1.1",
        "/assets/audios/voices/god/rock-heavy.mp3": "/assets/audios/voices/god/rock-heavy.mp3?v=1.1.1",
        "/assets/audios/voices/heraclos/electrocution.mp3": "/assets/audios/voices/heraclos/electrocution.mp3?v=1.1.1",
        "/assets/audios/voices/heraclos/grr.mp3": "/assets/audios/voices/heraclos/grr.mp3?v=1.1.1",
        "/assets/audios/voices/heraclos/happened-to-me.mp3": "/assets/audios/voices/heraclos/happened-to-me.mp3?v=1.1.1",
        "/assets/audios/voices/heraclos/hmm.mp3": "/assets/audios/voices/heraclos/hmm.mp3?v=1.1.1",
        "/assets/audios/voices/heraclos/hus-0.mp3": "/assets/audios/voices/heraclos/hus-0.mp3?v=1.1.1",
        "/assets/audios/voices/heraclos/hus-1.mp3": "/assets/audios/voices/heraclos/hus-1.mp3?v=1.1.1",
        "/assets/audios/voices/heraclos/i-hate-this-guy.mp3": "/assets/audios/voices/heraclos/i-hate-this-guy.mp3?v=1.1.1",
        "/assets/audios/voices/heraclos/jump-0.mp3": "/assets/audios/voices/heraclos/jump-0.mp3?v=1.1.1",
        "/assets/audios/voices/heraclos/jump-1.mp3": "/assets/audios/voices/heraclos/jump-1.mp3?v=1.1.1",
        "/assets/audios/voices/heraclos/jump-2.mp3": "/assets/audios/voices/heraclos/jump-2.mp3?v=1.1.1",
        "/assets/audios/voices/heraclos/just-want-to-go-home.mp3": "/assets/audios/voices/heraclos/just-want-to-go-home.mp3?v=1.1.1",
        "/assets/audios/voices/heraclos/scream.mp3": "/assets/audios/voices/heraclos/scream.mp3?v=1.1.1",
        "/assets/audios/voices/heraclos/sigh-2.mp3": "/assets/audios/voices/heraclos/sigh-2.mp3?v=1.1.1",
        "/assets/audios/voices/heraclos/sigh.mp3": "/assets/audios/voices/heraclos/sigh.mp3?v=1.1.1",
        "/assets/audios/voices/heraclos/want-beer.mp3": "/assets/audios/voices/heraclos/want-beer.mp3?v=1.1.1",
        "/assets/favicons/android-icon-144x144.png": "/assets/favicons/android-icon-144x144.png?v=1.1.1",
        "/assets/favicons/android-icon-192x192.png": "/assets/favicons/android-icon-192x192.png?v=1.1.1",
        "/assets/favicons/android-icon-36x36.png": "/assets/favicons/android-icon-36x36.png?v=1.1.1",
        "/assets/favicons/android-icon-48x48.png": "/assets/favicons/android-icon-48x48.png?v=1.1.1",
        "/assets/favicons/android-icon-72x72.png": "/assets/favicons/android-icon-72x72.png?v=1.1.1",
        "/assets/favicons/android-icon-96x96.png": "/assets/favicons/android-icon-96x96.png?v=1.1.1",
        "/assets/favicons/apple-icon-114x114.png": "/assets/favicons/apple-icon-114x114.png?v=1.1.1",
        "/assets/favicons/apple-icon-120x120.png": "/assets/favicons/apple-icon-120x120.png?v=1.1.1",
        "/assets/favicons/apple-icon-144x144.png": "/assets/favicons/apple-icon-144x144.png?v=1.1.1",
        "/assets/favicons/apple-icon-152x152.png": "/assets/favicons/apple-icon-152x152.png?v=1.1.1",
        "/assets/favicons/apple-icon-180x180.png": "/assets/favicons/apple-icon-180x180.png?v=1.1.1",
        "/assets/favicons/apple-icon-57x57.png": "/assets/favicons/apple-icon-57x57.png?v=1.1.1",
        "/assets/favicons/apple-icon-60x60.png": "/assets/favicons/apple-icon-60x60.png?v=1.1.1",
        "/assets/favicons/apple-icon-72x72.png": "/assets/favicons/apple-icon-72x72.png?v=1.1.1",
        "/assets/favicons/apple-icon-76x76.png": "/assets/favicons/apple-icon-76x76.png?v=1.1.1",
        "/assets/favicons/apple-icon-precomposed.png": "/assets/favicons/apple-icon-precomposed.png?v=1.1.1",
        "/assets/favicons/apple-icon.png": "/assets/favicons/apple-icon.png?v=1.1.1",
        "/assets/favicons/browserconfig.xml": "/assets/favicons/browserconfig.xml?v=1.1.1",
        "/assets/favicons/favicon-16x16.png": "/assets/favicons/favicon-16x16.png?v=1.1.1",
        "/assets/favicons/favicon-32x32.png": "/assets/favicons/favicon-32x32.png?v=1.1.1",
        "/assets/favicons/favicon-96x96.png": "/assets/favicons/favicon-96x96.png?v=1.1.1",
        "/assets/favicons/favicon.ico": "/assets/favicons/favicon.ico?v=1.1.1",
        "/assets/favicons/manifest.json": "/assets/favicons/manifest.json?v=1.1.1",
        "/assets/favicons/ms-icon-144x144.png": "/assets/favicons/ms-icon-144x144.png?v=1.1.1",
        "/assets/favicons/ms-icon-150x150.png": "/assets/favicons/ms-icon-150x150.png?v=1.1.1",
        "/assets/favicons/ms-icon-310x310.png": "/assets/favicons/ms-icon-310x310.png?v=1.1.1",
        "/assets/favicons/ms-icon-70x70.png": "/assets/favicons/ms-icon-70x70.png?v=1.1.1",
        "/assets/fonts/dino.woff": "/assets/fonts/dino.woff?v=1.1.1",
        "/assets/fonts/dino.woff2": "/assets/fonts/dino.woff2?v=1.1.1",
        "/assets/images/fallback/bg.png": "/assets/images/fallback/bg.png?v=1.1.1",
        "/assets/images/fallback/fallback_cover.jpg": "/assets/images/fallback/fallback_cover.jpg?v=1.1.1",
        "/assets/images/joystick.png": "/assets/images/joystick.png?v=1.1.1",
        "/assets/images/loader/amphora_0.png": "/assets/images/loader/amphora_0.png?v=1.1.1",
        "/assets/images/loader/amphora_1.png": "/assets/images/loader/amphora_1.png?v=1.1.1",
        "/assets/images/loader/amphora_2.png": "/assets/images/loader/amphora_2.png?v=1.1.1",
        "/assets/images/loader/amphora_3.png": "/assets/images/loader/amphora_3.png?v=1.1.1",
        "/assets/images/loader/amphora_4.png": "/assets/images/loader/amphora_4.png?v=1.1.1",
        "/assets/images/loader/amphora_5.png": "/assets/images/loader/amphora_5.png?v=1.1.1",
        "/assets/images/loader/amphora_6.png": "/assets/images/loader/amphora_6.png?v=1.1.1",
        "/assets/images/loader/amphora_7.png": "/assets/images/loader/amphora_7.png?v=1.1.1",
        "/assets/images/loader/amphora_8.png": "/assets/images/loader/amphora_8.png?v=1.1.1",
        "/assets/images/pause/bottom-deco.png": "/assets/images/pause/bottom-deco.png?v=1.1.1",
        "/assets/images/pause/gamepad-layout.png": "/assets/images/pause/gamepad-layout.png?v=1.1.1",
        "/assets/images/pause/keyboard-layout.png": "/assets/images/pause/keyboard-layout.png?v=1.1.1",
        "/assets/images/pause/left-deco.png": "/assets/images/pause/left-deco.png?v=1.1.1",
        "/assets/images/pause/pause-bg.png": "/assets/images/pause/pause-bg.png?v=1.1.1",
        "/assets/images/pause/pause-crystal.png": "/assets/images/pause/pause-crystal.png?v=1.1.1",
        "/assets/images/pause/right-deco.png": "/assets/images/pause/right-deco.png?v=1.1.1",
        "/assets/images/pause/top-deco.png": "/assets/images/pause/top-deco.png?v=1.1.1",
        "/assets/images/pointer.png": "/assets/images/pointer.png?v=1.1.1",
        "/assets/images/share/facebook.png": "/assets/images/share/facebook.png?v=1.1.1",
        "/assets/images/share/twitter.png": "/assets/images/share/twitter.png?v=1.1.1",
        "/assets/misc/draco/draco_decoder.js": "/assets/misc/draco/draco_decoder.js?v=1.1.1",
        "/assets/misc/draco/draco_decoder.wasm": "/assets/misc/draco/draco_decoder.wasm?v=1.1.1",
        "/assets/misc/draco/draco_wasm_wrapper.js": "/assets/misc/draco/draco_wasm_wrapper.js?v=1.1.1",
        "/assets/packs/common-textures-high-dxt.json": "/assets/packs/common-textures-high-dxt.json?v=1.1.1",
        "/assets/packs/common-textures-high-dxt.pack": "/assets/packs/common-textures-high-dxt.pack?v=1.1.1",
        "/assets/packs/common-textures-high-uncompressed.json": "/assets/packs/common-textures-high-uncompressed.json?v=1.1.1",
        "/assets/packs/common-textures-high-uncompressed.pack": "/assets/packs/common-textures-high-uncompressed.pack?v=1.1.1",
        "/assets/packs/common-textures-low-dxt.json": "/assets/packs/common-textures-low-dxt.json?v=1.1.1",
        "/assets/packs/common-textures-low-dxt.pack": "/assets/packs/common-textures-low-dxt.pack?v=1.1.1",
        "/assets/packs/common-textures-low-uncompressed.json": "/assets/packs/common-textures-low-uncompressed.json?v=1.1.1",
        "/assets/packs/common-textures-low-uncompressed.pack": "/assets/packs/common-textures-low-uncompressed.pack?v=1.1.1",
        "/assets/packs/common-textures-medium-dxt.json": "/assets/packs/common-textures-medium-dxt.json?v=1.1.1",
        "/assets/packs/common-textures-medium-dxt.pack": "/assets/packs/common-textures-medium-dxt.pack?v=1.1.1",
        "/assets/packs/common-textures-medium-uncompressed.json": "/assets/packs/common-textures-medium-uncompressed.json?v=1.1.1",
        "/assets/packs/common-textures-medium-uncompressed.pack": "/assets/packs/common-textures-medium-uncompressed.pack?v=1.1.1",
        "/assets/packs/common.json": "/assets/packs/common.json?v=1.1.1",
        "/assets/packs/common.pack": "/assets/packs/common.pack?v=1.1.1",
        "/assets/packs/home-textures-high-dxt.json": "/assets/packs/home-textures-high-dxt.json?v=1.1.1",
        "/assets/packs/home-textures-high-dxt.pack": "/assets/packs/home-textures-high-dxt.pack?v=1.1.1",
        "/assets/packs/home-textures-high-uncompressed.json": "/assets/packs/home-textures-high-uncompressed.json?v=1.1.1",
        "/assets/packs/home-textures-high-uncompressed.pack": "/assets/packs/home-textures-high-uncompressed.pack?v=1.1.1",
        "/assets/packs/home-textures-low-dxt.json": "/assets/packs/home-textures-low-dxt.json?v=1.1.1",
        "/assets/packs/home-textures-low-dxt.pack": "/assets/packs/home-textures-low-dxt.pack?v=1.1.1",
        "/assets/packs/home-textures-low-uncompressed.json": "/assets/packs/home-textures-low-uncompressed.json?v=1.1.1",
        "/assets/packs/home-textures-low-uncompressed.pack": "/assets/packs/home-textures-low-uncompressed.pack?v=1.1.1",
        "/assets/packs/home-textures-medium-dxt.json": "/assets/packs/home-textures-medium-dxt.json?v=1.1.1",
        "/assets/packs/home-textures-medium-dxt.pack": "/assets/packs/home-textures-medium-dxt.pack?v=1.1.1",
        "/assets/packs/home-textures-medium-uncompressed.json": "/assets/packs/home-textures-medium-uncompressed.json?v=1.1.1",
        "/assets/packs/home-textures-medium-uncompressed.pack": "/assets/packs/home-textures-medium-uncompressed.pack?v=1.1.1",
        "/assets/packs/home.json": "/assets/packs/home.json?v=1.1.1",
        "/assets/packs/home.pack": "/assets/packs/home.pack?v=1.1.1",
        "/assets/packs/level-1-textures-high-dxt.json": "/assets/packs/level-1-textures-high-dxt.json?v=1.1.1",
        "/assets/packs/level-1-textures-high-dxt.pack": "/assets/packs/level-1-textures-high-dxt.pack?v=1.1.1",
        "/assets/packs/level-1-textures-high-uncompressed.json": "/assets/packs/level-1-textures-high-uncompressed.json?v=1.1.1",
        "/assets/packs/level-1-textures-high-uncompressed.pack": "/assets/packs/level-1-textures-high-uncompressed.pack?v=1.1.1",
        "/assets/packs/level-1-textures-low-dxt.json": "/assets/packs/level-1-textures-low-dxt.json?v=1.1.1",
        "/assets/packs/level-1-textures-low-dxt.pack": "/assets/packs/level-1-textures-low-dxt.pack?v=1.1.1",
        "/assets/packs/level-1-textures-low-uncompressed.json": "/assets/packs/level-1-textures-low-uncompressed.json?v=1.1.1",
        "/assets/packs/level-1-textures-low-uncompressed.pack": "/assets/packs/level-1-textures-low-uncompressed.pack?v=1.1.1",
        "/assets/packs/level-1-textures-medium-dxt.json": "/assets/packs/level-1-textures-medium-dxt.json?v=1.1.1",
        "/assets/packs/level-1-textures-medium-dxt.pack": "/assets/packs/level-1-textures-medium-dxt.pack?v=1.1.1",
        "/assets/packs/level-1-textures-medium-uncompressed.json": "/assets/packs/level-1-textures-medium-uncompressed.json?v=1.1.1",
        "/assets/packs/level-1-textures-medium-uncompressed.pack": "/assets/packs/level-1-textures-medium-uncompressed.pack?v=1.1.1",
        "/assets/packs/level-1.json": "/assets/packs/level-1.json?v=1.1.1",
        "/assets/packs/level-1.pack": "/assets/packs/level-1.pack?v=1.1.1",
        "/assets/packs/level-2-textures-high-dxt.json": "/assets/packs/level-2-textures-high-dxt.json?v=1.1.1",
        "/assets/packs/level-2-textures-high-dxt.pack": "/assets/packs/level-2-textures-high-dxt.pack?v=1.1.1",
        "/assets/packs/level-2-textures-high-uncompressed.json": "/assets/packs/level-2-textures-high-uncompressed.json?v=1.1.1",
        "/assets/packs/level-2-textures-high-uncompressed.pack": "/assets/packs/level-2-textures-high-uncompressed.pack?v=1.1.1",
        "/assets/packs/level-2-textures-low-dxt.json": "/assets/packs/level-2-textures-low-dxt.json?v=1.1.1",
        "/assets/packs/level-2-textures-low-dxt.pack": "/assets/packs/level-2-textures-low-dxt.pack?v=1.1.1",
        "/assets/packs/level-2-textures-low-uncompressed.json": "/assets/packs/level-2-textures-low-uncompressed.json?v=1.1.1",
        "/assets/packs/level-2-textures-low-uncompressed.pack": "/assets/packs/level-2-textures-low-uncompressed.pack?v=1.1.1",
        "/assets/packs/level-2-textures-medium-dxt.json": "/assets/packs/level-2-textures-medium-dxt.json?v=1.1.1",
        "/assets/packs/level-2-textures-medium-dxt.pack": "/assets/packs/level-2-textures-medium-dxt.pack?v=1.1.1",
        "/assets/packs/level-2-textures-medium-uncompressed.json": "/assets/packs/level-2-textures-medium-uncompressed.json?v=1.1.1",
        "/assets/packs/level-2-textures-medium-uncompressed.pack": "/assets/packs/level-2-textures-medium-uncompressed.pack?v=1.1.1",
        "/assets/packs/level-2.json": "/assets/packs/level-2.json?v=1.1.1",
        "/assets/packs/level-2.pack": "/assets/packs/level-2.pack?v=1.1.1",
        "/assets/packs/level-3-textures-high-dxt.json": "/assets/packs/level-3-textures-high-dxt.json?v=1.1.1",
        "/assets/packs/level-3-textures-high-dxt.pack": "/assets/packs/level-3-textures-high-dxt.pack?v=1.1.1",
        "/assets/packs/level-3-textures-high-uncompressed.json": "/assets/packs/level-3-textures-high-uncompressed.json?v=1.1.1",
        "/assets/packs/level-3-textures-high-uncompressed.pack": "/assets/packs/level-3-textures-high-uncompressed.pack?v=1.1.1",
        "/assets/packs/level-3-textures-low-dxt.json": "/assets/packs/level-3-textures-low-dxt.json?v=1.1.1",
        "/assets/packs/level-3-textures-low-dxt.pack": "/assets/packs/level-3-textures-low-dxt.pack?v=1.1.1",
        "/assets/packs/level-3-textures-low-uncompressed.json": "/assets/packs/level-3-textures-low-uncompressed.json?v=1.1.1",
        "/assets/packs/level-3-textures-low-uncompressed.pack": "/assets/packs/level-3-textures-low-uncompressed.pack?v=1.1.1",
        "/assets/packs/level-3-textures-medium-dxt.json": "/assets/packs/level-3-textures-medium-dxt.json?v=1.1.1",
        "/assets/packs/level-3-textures-medium-dxt.pack": "/assets/packs/level-3-textures-medium-dxt.pack?v=1.1.1",
        "/assets/packs/level-3-textures-medium-uncompressed.json": "/assets/packs/level-3-textures-medium-uncompressed.json?v=1.1.1",
        "/assets/packs/level-3-textures-medium-uncompressed.pack": "/assets/packs/level-3-textures-medium-uncompressed.pack?v=1.1.1",
        "/assets/packs/level-3.json": "/assets/packs/level-3.json?v=1.1.1",
        "/assets/packs/level-3.pack": "/assets/packs/level-3.pack?v=1.1.1",
        "/assets/packs/level-textures-high-dxt.json": "/assets/packs/level-textures-high-dxt.json?v=1.1.1",
        "/assets/packs/level-textures-high-dxt.pack": "/assets/packs/level-textures-high-dxt.pack?v=1.1.1",
        "/assets/packs/level-textures-high-uncompressed.json": "/assets/packs/level-textures-high-uncompressed.json?v=1.1.1",
        "/assets/packs/level-textures-high-uncompressed.pack": "/assets/packs/level-textures-high-uncompressed.pack?v=1.1.1",
        "/assets/packs/level-textures-low-dxt.json": "/assets/packs/level-textures-low-dxt.json?v=1.1.1",
        "/assets/packs/level-textures-low-dxt.pack": "/assets/packs/level-textures-low-dxt.pack?v=1.1.1",
        "/assets/packs/level-textures-low-uncompressed.json": "/assets/packs/level-textures-low-uncompressed.json?v=1.1.1",
        "/assets/packs/level-textures-low-uncompressed.pack": "/assets/packs/level-textures-low-uncompressed.pack?v=1.1.1",
        "/assets/packs/level-textures-medium-dxt.json": "/assets/packs/level-textures-medium-dxt.json?v=1.1.1",
        "/assets/packs/level-textures-medium-dxt.pack": "/assets/packs/level-textures-medium-dxt.pack?v=1.1.1",
        "/assets/packs/level-textures-medium-uncompressed.json": "/assets/packs/level-textures-medium-uncompressed.json?v=1.1.1",
        "/assets/packs/level-textures-medium-uncompressed.pack": "/assets/packs/level-textures-medium-uncompressed.pack?v=1.1.1",
        "/assets/packs/level.json": "/assets/packs/level.json?v=1.1.1",
        "/assets/packs/level.pack": "/assets/packs/level.pack?v=1.1.1",
        "/assets/packs/tutorial-textures-high-dxt.json": "/assets/packs/tutorial-textures-high-dxt.json?v=1.1.1",
        "/assets/packs/tutorial-textures-high-dxt.pack": "/assets/packs/tutorial-textures-high-dxt.pack?v=1.1.1",
        "/assets/packs/tutorial-textures-high-uncompressed.json": "/assets/packs/tutorial-textures-high-uncompressed.json?v=1.1.1",
        "/assets/packs/tutorial-textures-high-uncompressed.pack": "/assets/packs/tutorial-textures-high-uncompressed.pack?v=1.1.1",
        "/assets/packs/tutorial-textures-low-dxt.json": "/assets/packs/tutorial-textures-low-dxt.json?v=1.1.1",
        "/assets/packs/tutorial-textures-low-dxt.pack": "/assets/packs/tutorial-textures-low-dxt.pack?v=1.1.1",
        "/assets/packs/tutorial-textures-low-uncompressed.json": "/assets/packs/tutorial-textures-low-uncompressed.json?v=1.1.1",
        "/assets/packs/tutorial-textures-low-uncompressed.pack": "/assets/packs/tutorial-textures-low-uncompressed.pack?v=1.1.1",
        "/assets/packs/tutorial-textures-medium-dxt.json": "/assets/packs/tutorial-textures-medium-dxt.json?v=1.1.1",
        "/assets/packs/tutorial-textures-medium-dxt.pack": "/assets/packs/tutorial-textures-medium-dxt.pack?v=1.1.1",
        "/assets/packs/tutorial-textures-medium-uncompressed.json": "/assets/packs/tutorial-textures-medium-uncompressed.json?v=1.1.1",
        "/assets/packs/tutorial-textures-medium-uncompressed.pack": "/assets/packs/tutorial-textures-medium-uncompressed.pack?v=1.1.1",
        "/assets/packs/tutorial.json": "/assets/packs/tutorial.json?v=1.1.1",
        "/assets/packs/tutorial.pack": "/assets/packs/tutorial.pack?v=1.1.1",
        "/assets/videos/credits.mp4": "/assets/videos/credits.mp4?v=1.1.1",
        "/assets/videos/credits.webm": "/assets/videos/credits.webm?v=1.1.1",
        "/assets/videos/end.mp4": "/assets/videos/end.mp4?v=1.1.1",
        "/assets/videos/end.webm": "/assets/videos/end.webm?v=1.1.1",
        "/assets/videos/home.mp4": "/assets/videos/home.mp4?v=1.1.1",
        "/assets/videos/home.webm": "/assets/videos/home.webm?v=1.1.1",
        "/assets/videos/intro.mp4": "/assets/videos/intro.mp4?v=1.1.1",
        "/assets/videos/intro.webm": "/assets/videos/intro.webm?v=1.1.1",
        "/styles/index.styl": "/main.css?v=1.1.1",
        "/scripts/index.js": "/main.js?v=1.1.1",
        "/scripts/vendor/index.js": "/vendor.js?v=1.1.1",
        "/views/layouts/index.html.ejs": "/index.html",
        "/views/layouts/404.html.ejs": "/404.html"
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = s(n(66)),
        r = s(n(11)),
        i = s(n(36)),
        a = s(n(28));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function l(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var u = (0, n(3).getLogger)("TextureManager", "#1bccd6", !0),
        c = {
            forceUncompressed: !1,
            defaultQualityWhitelist: ["common", "home"]
        },
        f = new(function() {
            function e() {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this._loader = o.default, this.textures = {}, this.compressed = !c.forceUncompressed && i.default.supports.webgl.textureFormat.compressed, this.format = c.forceUncompressed ? "uncompressed" : i.default.supports.webgl.textureFormat.format, this._log()
            }
            var t, n;
            return t = e, (n = [{
                key: "get",
                value: function(e, t) {
                    return e = this._parseResourceId(e), this.textures[e] ? this.textures[e] : this._createTexture(e, t)
                }
            }, {
                key: "_createTexture",
                value: function(e) {
                    var t, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                        o = n.filtering,
                        i = n.wrapping,
                        a = n.repeat,
                        s = n.mipmaps,
                        l = void 0 === s || s;
                    if (this.compressed) {
                        t = new THREE.CompressedTexture;
                        var u = this._loader.get(e);
                        if (!u) return null;
                        t.image.width = u.width, t.image.height = u.height, t.mipmaps = l ? u.mipmaps : [], t.format = u.format
                    } else {
                        var c = this._loader.get(e);
                        if (!c) return null;
                        (t = new THREE.Texture(c)).flipY = !0
                    }
                    return t.name = e, t.minFilter = t.magFilter = o || THREE.LinearFilter, t.wrapS = t.wrapT = i || THREE.ClampToEdgeWrapping, t.anisotropy = r.default.renderer.capabilities.getMaxAnisotropy(), a && t.repeat.copy(a), t.needsUpdate = !0, this.textures[e] = t, t
                }
            }, {
                key: "_parseResourceId",
                value: function(e) {
                    var t = e.split("."),
                        n = t.shift(),
                        o = -1 !== c.defaultQualityWhitelist.indexOf(n) ? a.default.default : a.default.level;
                    return "".concat(n, "-textures-").concat(o, "-").concat(this.format, ".").concat(t.join("."))
                }
            }, {
                key: "_log",
                value: function() {
                    var e = this;
                    setTimeout(function() {
                        var t = e.compressed ? "Compressed" : "Uncompressed",
                            n = e.compressed ? "| ".concat(e.format.toUpperCase()) : "";
                        u("".concat(t, " ").concat(n))
                    }, 0)
                }
            }]) && l(t.prototype, n), e
        }());
    t.default = f, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var o = function() {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var o = t[n];
                    o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
                }
            }
            return function(t, n, o) {
                return n && e(t.prototype, n), o && e(t, o), t
            }
        }(),
        r = a(n(565)),
        i = a(n(563));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._listeners = [], this._binded = !1, this._raf = null
        }
        return o(e, [{
            key: "bind",
            value: function() {
                if (!0 === this._binded) return i.default.warn("Raf instance is already binded");
                this._binded = !0, this._update = this._update.bind(this), this._baseTime = Date.now(), this._raf = (0, r.default)(this._update)
            }
        }, {
            key: "unbind",
            value: function() {
                this._binded = !1, null !== this._raf && (r.default.cancel(this._raf), this._raf = null), this._listeners = []
            }
        }, {
            key: "add",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 60,
                    n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                    o = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                if ("function" != typeof e) return i.default.error("add() : Callback argument must be a function");
                var r = new Date,
                    a = {
                        id: this._listeners.length,
                        callback: e,
                        fps: t,
                        delay: n,
                        once: o,
                        deltaTargeted: 1e3 / t,
                        lastTime: r.getTime()
                    };
                return this._listeners.push(a), this._binded || this.bind(), a
            }
        }, {
            key: "addOnce",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 60,
                    n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
                return this.add(e, t, n, !0)
            }
        }, {
            key: "remove",
            value: function(e) {
                if ("function" != typeof e) return i.default.error("remove() : Callback argument must be a function");
                for (var t = 0, n = this._listeners.length; t < n; t++)
                    if (this._listeners[t].callback === e) {
                        this._listeners.splice(t, 1);
                        break
                    }
            }
        }, {
            key: "_update",
            value: function() {
                for (var e = Date.now(), t = e - this._baseTime, n = 0; n < this._listeners.length; n++) {
                    var o = this._listeners[n],
                        i = e - o.lastTime;
                    i < o.deltaTargeted && o.fps < 60 || (o.lastTime = e, o.delay > 0 && t < o.delay || (o.callback(i, t, e), o.once && this.remove(o.callback)))
                }
                this._binded && (0, r.default)(this._update)
            }
        }]), e
    }();
    t.default = new s, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    var o = n(194);

    function r() {}
    var i = null,
        a = {};

    function s(e) {
        if ("object" != typeof this) throw new TypeError("Promises must be constructed via new");
        if ("function" != typeof e) throw new TypeError("Promise constructor's argument is not a function");
        this._75 = 0, this._83 = 0, this._18 = null, this._38 = null, e !== r && d(e, this)
    }

    function l(e, t) {
        for (; 3 === e._83;) e = e._18;
        if (s._47 && s._47(e), 0 === e._83) return 0 === e._75 ? (e._75 = 1, void(e._38 = t)) : 1 === e._75 ? (e._75 = 2, void(e._38 = [e._38, t])) : void e._38.push(t);
        ! function(e, t) {
            o(function() {
                var n = 1 === e._83 ? t.onFulfilled : t.onRejected;
                if (null !== n) {
                    var o = function(e, t) {
                        try {
                            return e(t)
                        } catch (e) {
                            return i = e, a
                        }
                    }(n, e._18);
                    o === a ? c(t.promise, i) : u(t.promise, o)
                } else 1 === e._83 ? u(t.promise, e._18) : c(t.promise, e._18)
            })
        }(e, t)
    }

    function u(e, t) {
        if (t === e) return c(e, new TypeError("A promise cannot be resolved with itself."));
        if (t && ("object" == typeof t || "function" == typeof t)) {
            var n = function(e) {
                try {
                    return e.then
                } catch (e) {
                    return i = e, a
                }
            }(t);
            if (n === a) return c(e, i);
            if (n === e.then && t instanceof s) return e._83 = 3, e._18 = t, void f(e);
            if ("function" == typeof n) return void d(n.bind(t), e)
        }
        e._83 = 1, e._18 = t, f(e)
    }

    function c(e, t) {
        e._83 = 2, e._18 = t, s._71 && s._71(e, t), f(e)
    }

    function f(e) {
        if (1 === e._75 && (l(e, e._38), e._38 = null), 2 === e._75) {
            for (var t = 0; t < e._38.length; t++) l(e, e._38[t]);
            e._38 = null
        }
    }

    function p(e, t, n) {
        this.onFulfilled = "function" == typeof e ? e : null, this.onRejected = "function" == typeof t ? t : null, this.promise = n
    }

    function d(e, t) {
        var n = !1,
            o = function(e, t, n) {
                try {
                    e(t, n)
                } catch (e) {
                    return i = e, a
                }
            }(e, function(e) {
                n || (n = !0, u(t, e))
            }, function(e) {
                n || (n = !0, c(t, e))
            });
        n || o !== a || (n = !0, c(t, i))
    }
    e.exports = s, s._47 = null, s._71 = null, s._44 = r, s.prototype.then = function(e, t) {
        if (this.constructor !== s) return function(e, t, n) {
            return new e.constructor(function(o, i) {
                var a = new s(r);
                a.then(o, i), l(e, new p(t, n, a))
            })
        }(this, e, t);
        var n = new s(r);
        return l(this, new p(e, t, n)), n
    }
}, , , , function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = l(n(29)),
            a = l(n(7)),
            s = n(3);

        function l(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function u(e) {
            return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function c(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var f, p, d, h, y, v, _ = (0, s.getLogger)("AbstractPage", s.INFO, !1),
            m = (0, s.getLogger)("AbstractPage", s.ERROR),
            g = (f = (r = function(e) {
                function t() {
                    var e;
                    return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t), (e = function(e, t) {
                        if (t && ("object" === u(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments)))._loader.progressed.add(e._onLoaderProgressed), e
                }
                var n, o;
                return function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }(t, a.default), n = t, (o = [{
                    key: "$destroy",
                    value: function() {
                        (function e(t, n, o) {
                            null === t && (t = Function.prototype);
                            var r = Object.getOwnPropertyDescriptor(t, n);
                            if (void 0 === r) {
                                var i = Object.getPrototypeOf(t);
                                return null === i ? void 0 : e(i, n, o)
                            }
                            if ("value" in r) return r.value;
                            var a = r.get;
                            return void 0 !== a ? a.call(o) : void 0
                        })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "$destroy", this).call(this), this._loader.progressed.remove(this._onLoaderProgressed)
                    }
                }, {
                    key: "beforeRouteEnter",
                    value: function(e, t, n) {
                        var o = this,
                            r = this.getDependencies(t);
                        r.push("common", "level", this._save.lastSeenLevelName), r.push("common-textures-".concat(this._quality.default, "-").concat(this._textures.format)), r.length || (_("No route dependencies, skipping loader"), n()), _("Route dependencies :", r), this._signals.loader.started.dispatch(), this._loader.load(r).then(function(r) {
                            var i = r.packNames,
                                a = r.resources;
                            _("Resources loaded :", a), o._signals.loader.completed.dispatch(i, a), o.afterRouteEnter(e, t, a), n()
                        }).catch(function(e) {
                            return m(e)
                        })
                    }
                }, {
                    key: "afterRouteEnter",
                    value: function(e, t, n) {
                        var o = "level" === t.name ? t.params.name : t.name;
                        this._save.data[o] && this._save.set("".concat(o, ".seen"), !0)
                    }
                }, {
                    key: "beforeRouteLeave",
                    value: function(e, t, n) {
                        var o = this,
                            r = this.$refs.gl;
                        r ? i.default.all(r.promises).then(function() {
                            o.afterRouteLeave(e, t), n()
                        }) : (this.afterRouteLeave(e, t), n())
                    }
                }, {
                    key: "afterRouteLeave",
                    value: function(e, t) {}
                }, {
                    key: "getDependencies",
                    value: function() {}
                }, {
                    key: "_onLoaderProgressed",
                    value: function(e) {
                        this._signals.loader.progressed.dispatch(e)
                    }
                }]) && c(n.prototype, o), t
            }()).prototype, p = "_onLoaderProgressed", d = [o], h = Object.getOwnPropertyDescriptor(r.prototype, "_onLoaderProgressed"), y = r.prototype, v = {}, Object.keys(h).forEach(function(e) {
                v[e] = h[e]
            }), v.enumerable = !!v.enumerable, v.configurable = !!v.configurable, ("value" in v || v.initializer) && (v.writable = !0), v = d.slice().reverse().reduce(function(e, t) {
                return t(f, p, e) || e
            }, v), y && void 0 !== v.initializer && (v.value = v.initializer ? v.initializer.call(y) : void 0, v.initializer = void 0), void 0 === v.initializer && (Object.defineProperty(f, p, v), v = null), r);
        t.default = g, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = a(n(16)),
        r = a(n(321)),
        i = a(n(144));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function s(e) {
        return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function l() {
        return (l = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }

    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var c = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                o = (n.opacity, function(e, t) {
                    if (null == e) return {};
                    var n, o, r = {},
                        i = Object.keys(e);
                    for (o = 0; o < i.length; o++) n = i[o], t.indexOf(n) >= 0 || (r[n] = e[n]);
                    if (Object.getOwnPropertySymbols) {
                        var a = Object.getOwnPropertySymbols(e);
                        for (o = 0; o < a.length; o++) n = a[o], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (r[n] = e[n])
                    }
                    return r
                }(n, ["opacity"]));
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === s(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, o))).name = "way-indicator", e.vertexShader = r.default, e.fragmentShader = i.default, e.transparent = !0, e.uniforms = l({}, e.uniforms, {
                uExplode: {
                    value: 0
                },
                uTime: {
                    value: 0
                },
                uColor1: {
                    value: new THREE.Color("#ffffff")
                },
                uColor2: {
                    value: new THREE.Color("#7FE8F7")
                }
            }), e.whitelistGui = function(e) {
                if (Array.isArray(e)) {
                    for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                    return n
                }
                return Array.from(e)
            }(e.whitelistGui).concat(["progress"]), e._scene.materialCtrl.add(function(e) {
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(e)), e
        }
        var n, a;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), n = t, (a = [{
            key: "update",
            value: function(e, t) {
                this.uniforms.uTime.value = t
            }
        }, {
            key: "explode",
            get: function() {
                return this.uniforms.uExplode.value
            },
            set: function(e) {
                this.uniforms.uExplode.value = e
            }
        }]) && u(n.prototype, a), t
    }();
    t.default = c, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = a(n(361)),
        r = a(n(148)),
        i = a(n(360));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function s(e) {
        return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function l(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var u = function() {
        function e(t) {
            var n = t.value,
                o = t.interpolation,
                r = void 0 === o ? "linear" : o,
                i = t.precisionStop,
                a = void 0 === i ? .001 : i,
                l = t.perfectStop,
                u = void 0 !== l && l,
                c = t.rigidity,
                f = void 0 === c ? .1 : c,
                p = t.friction,
                d = void 0 === p ? 10 : p,
                h = t.mass,
                y = void 0 === h ? .01 : h;
            if (function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this.value = n, this.stopped = !0, this.complex = "object" === s(n), this.complex)
                if (this.keys = Object.keys(this.value), Array.isArray(n)) this.targetValue = n.slice(0);
                else {
                    this.targetValue = {};
                    for (var v = this.keys.length; v--;) this.targetValue[this.keys[v]] = this.value[this.keys[v]]
                }
            else this.targetValue = n;
            this.precisionStop = a, this.perfectStop = u, this.interpolationFn = this.getInterpolation(r), this.interpolationParams = {
                rigidity: f,
                friction: d,
                mass: y
            }
        }
        var t, n;
        return t = e, (n = [{
            key: "getInterpolation",
            value: function(e) {
                switch (e) {
                    case "elastic":
                        return r.default;
                    case "bounce":
                        return i.default;
                    default:
                        return o.default
                }
            }
        }, {
            key: "to",
            value: function(e) {
                if (this.complex)
                    for (var t, n = this.keys.length; n--;) e[t = this.keys[n]] && (this.targetValue[t] = e[t]);
                else this.targetValue = e;
                this.stopped && this._start()
            }
        }, {
            key: "_start",
            value: function() {
                this.reset = !0, this.stopped = !1, this.lastTime = Date.now() - 17
            }
        }, {
            key: "update",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                if (this.stopped) return this.value;
                var t = Date.now(),
                    n = (e || t - this.lastTime) / 1e3,
                    o = !0;
                if (this.complex)
                    for (var r, i = this.keys.length; i--;) r = this.keys[i], this.value[r] = this._updateValue(this.value[r], this.targetValue[r], n, r), o = o && this._needStop(this.value[r], this.targetValue[r], r);
                else this.value = this._updateValue(this.value, this.targetValue, n, !1), o = this._needStop(this.value, this.targetValue, !1);
                return this.reset && (this.reset = !1), o && (this.perfectStop && (this.value = this.targetValue), this.stop()), this.lastTime = t, this.value
            }
        }, {
            key: "_updateValue",
            value: function(e, t, n, o) {
                return this.interpolationFn(e, t, this.interpolationParams, n, this.reset, o)
            }
        }, {
            key: "_needStop",
            value: function(e, t, n) {
                var o = e - t,
                    r = this._getSpeed(n);
                return Math.abs(o) < this.precisionStop && (!!isNaN(r) || Math.abs(r) < this.precisionStop)
            }
        }, {
            key: "_setSpeed",
            value: function(e, t) {
                this.complex ? this.speed[t] = e : this.speed = e
            }
        }, {
            key: "_getSpeed",
            value: function(e) {
                return this.complex ? this.speed && this.speed[e] : this.speed
            }
        }, {
            key: "_resetSpeed",
            value: function(e) {
                this.complex ? (this.speed || (this.speed = {}), this.speed[e] = 0) : this.speed = 0
            }
        }, {
            key: "stop",
            value: function() {
                this.stopped = !0
            }
        }, {
            key: "destroy",
            value: function() {
                this.stop(), this.interpolationFn = null, this.interpolationParams = null
            }
        }, {
            key: "rigidity",
            get: function() {
                return this.interpolationParams.rigidity
            },
            set: function(e) {
                this.interpolationParams.rigidity = e
            }
        }, {
            key: "friction",
            get: function() {
                return this.interpolationParams.friction
            },
            set: function(e) {
                this.interpolationParams.friction = e
            }
        }, {
            key: "mass",
            get: function() {
                return this.interpolationParams.mass
            },
            set: function(e) {
                this.interpolationParams.mass = e
            }
        }]) && l(t.prototype, n), e
    }();
    t.default = u, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = l(n(15)),
            a = l(n(14)),
            s = l(n(12));

        function l(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function u(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function c(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var f = 100,
            p = 300,
            d = new(c((r = function() {
                function e() {
                    ! function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, e), this._binded = !1, this._directionEnabled = !0, this._stickEnabled = !0, this._createSignals(), this.bind()
                }
                var t, n;
                return t = e, (n = [{
                    key: "bind",
                    value: function() {
                        this._binded || (a.default.downed.add(this._onKeyDown), s.default.buttonDowned.add(this._onButtonDown), s.default.stickLeftMoved.add(this._onStickLeftMove), this._binded = !0)
                    }
                }, {
                    key: "unbind",
                    value: function() {
                        this._binded && (a.default.downed.remove(this._onKeyDown), s.default.buttonDowned.remove(this._onButtonDown), s.default.stickLeftMoved.remove(this._onStickLeftMove), this._binded = !1)
                    }
                }, {
                    key: "_createSignals",
                    value: function() {
                        this.direction = new i.default, this.validate = new i.default, this.back = new i.default, this.pause = new i.default
                    }
                }, {
                    key: "_throttleDirection",
                    value: function() {
                        var e = this;
                        this._directionEnabled = !1, setTimeout(function() {
                            e._directionEnabled = !0
                        }, f)
                    }
                }, {
                    key: "_throttleStick",
                    value: function() {
                        var e = this;
                        this._stickEnabled = !1, setTimeout(function() {
                            e._stickEnabled = !0
                        }, p)
                    }
                }, {
                    key: "_onKeyDown",
                    value: function(e, t, n) {
                        if ("left" === t || "right" === t || "down" === t || "up" === t) {
                            if (!this._directionEnabled) return;
                            this._throttleDirection(), this.direction.dispatch(e, t)
                        } else "enter" === t ? this.validate.dispatch(e, t) : "esc" === t && (this.pause.dispatch(e, t), this.back.dispatch(e, t))
                    }
                }, {
                    key: "_onButtonDown",
                    value: function(e, t) {
                        if ("d_pad_up" === e || "d_pad_down" === e || "d_pad_left" === e || "d_pad_right" === e || "shoulder_top_left" === e || "shoulder_top_right" === e) {
                            if (!this._directionEnabled) return;
                            var n = e.replace(/(d_pad_|shoulder_top_)/gi, "");
                            this._throttleDirection(), this.direction.dispatch(t, n)
                        } else "button_1" === e ? this.validate.dispatch(t, e) : "button_2" === e ? this.back.dispatch(t, e) : "start" === e && this.pause.dispatch(t, e)
                    }
                }, {
                    key: "_onStickLeftMove",
                    value: function(e, t) {
                        this._stickEnabled && (t.x < -.5 ? (this._throttleStick(), this.direction.dispatch(e, "left")) : t.x > .5 ? (this._throttleStick(), this.direction.dispatch(e, "right")) : t.y < -.5 ? (this._throttleStick(), this.direction.dispatch(e, "up")) : t.y > .5 && (this._throttleStick(), this.direction.dispatch(e, "down")))
                    }
                }]) && u(t.prototype, n), e
            }()).prototype, "_onKeyDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onKeyDown"), r.prototype), c(r.prototype, "_onButtonDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onButtonDown"), r.prototype), c(r.prototype, "_onStickLeftMove", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onStickLeftMove"), r.prototype), r);
        t.default = d, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = a(n(380)),
        r = a(n(378)),
        i = n(3);

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var l = (0, i.getLogger)("GLTFManager", i.INFO, !0),
        u = new(function() {
            function e() {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this.refs = {}, this._currentAssets = {}, this._currentAssetsArray = [], this._counter = 0
            }
            var t, n;
            return t = e, (n = [{
                key: "add",
                value: function(e, t) {
                    var n = (0, r.default)(t);
                    this._currentAssets[e] = n, this._currentAssetsArray.push(n)
                }
            }, {
                key: "destroy",
                value: function() {
                    for (var e = 0, t = this._currentAssetsArray.length; e < t; e++) this._dispose(this._currentAssetsArray[e].scene);
                    l("".concat(this._currentAssetsArray.length, " assets disposed : ").concat(this._counter, " geometries / materials")), this._counter = 0, this._currentAssets = {}, this._currentAssetsArray = []
                }
            }, {
                key: "getAsset",
                value: function(e) {
                    return this._currentAssets[e]
                }
            }, {
                key: "getObject",
                value: function(e, t) {
                    var n = this._currentAssets[e].scene;
                    return (0, o.default)(n, t)
                }
            }, {
                key: "_dispose",
                value: function(e) {
                    var t = this;
                    e.traverse(function(e) {
                        e.geometry && (t._counter++, e.geometry.dispose()), e.material && (t._counter++, e.material.dispose())
                    })
                }
            }]) && s(t.prototype, n), e
        }());
    t.default = u, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }
}, function(e, t, n) {
    var o = n(45);
    e.exports = function(e) {
        if (!o(e)) throw TypeError(e + " is not an object!");
        return e
    }
}, function(e, t, n) {
    var o = n(27),
        r = n(47),
        i = n(181),
        a = n(46),
        s = n(32),
        l = function(e, t, n) {
            var u, c, f, p = e & l.F,
                d = e & l.G,
                h = e & l.S,
                y = e & l.P,
                v = e & l.B,
                _ = e & l.W,
                m = d ? r : r[t] || (r[t] = {}),
                g = m.prototype,
                b = d ? o : h ? o[t] : (o[t] || {}).prototype;
            for (u in d && (n = t), n)(c = !p && b && void 0 !== b[u]) && s(m, u) || (f = c ? b[u] : n[u], m[u] = d && "function" != typeof b[u] ? n[u] : v && c ? i(f, o) : _ && b[u] == f ? function(e) {
                var t = function(t, n, o) {
                    if (this instanceof e) {
                        switch (arguments.length) {
                            case 0:
                                return new e;
                            case 1:
                                return new e(t);
                            case 2:
                                return new e(t, n)
                        }
                        return new e(t, n, o)
                    }
                    return e.apply(this, arguments)
                };
                return t.prototype = e.prototype, t
            }(f) : y && "function" == typeof f ? i(Function.call, f) : f, y && ((m.virtual || (m.virtual = {}))[u] = f, e & l.R && g && !g[u] && a(g, u, f)))
        };
    l.F = 1, l.G = 2, l.S = 4, l.P = 8, l.B = 16, l.W = 32, l.U = 64, l.R = 128, e.exports = l
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = s(n(504)),
        r = s(n(503)),
        i = s(n(502)),
        a = s(n(501));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = {
        tutorial: o.default,
        "level-1": r.default,
        "level-2": i.default,
        "level-3": a.default
    };
    t.default = l, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = d(n(15)),
            a = d(n(29)),
            s = d(n(553)),
            l = d(n(549)),
            u = d(n(548)),
            c = d(n(547)),
            f = d(n(546)),
            p = n(3);

        function d(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function h(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var y, v, _, m, g, b, w = (0, p.getLogger)("Loader", p.INFO, !1),
            x = (0, p.getLogger)("Loader", p.WARN),
            k = new(y = (r = function() {
                function e() {
                    ! function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, e), this._packs = [], this._loading = !1, this._lastPackNamesToLoad = [], this.started = new i.default, this.progressed = new i.default, this.loaded = new i.default, this.completed = new i.default
                }
                var t, n;
                return t = e, (n = [{
                    key: "load",
                    value: function() {
                        var e = this,
                            t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                            n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                        "string" == typeof t && (t = [t]), t = (0, f.default)(t), w("Load :", t), this._loading = !0;
                        var o = a.default.defer();
                        this.started.dispatch(t);
                        for (var r = 0, i = this._lastPackNamesToLoad.length; r < i; r++) {
                            var l = this._lastPackNamesToLoad[r]; - 1 !== t.indexOf(l) || n || this._abortPack(l)
                        }
                        for (var u = function(n, r) {
                                var i = t[n];
                                if (e.checkPackLoading(i)) return e.getPack(i).promise.then(function() {
                                    return e._updateLoadedPack(t, o)
                                }), "continue";
                                if (e.checkPackLoaded(i)) {
                                    var a = e.getPackResources(i);
                                    return e.progressed.dispatch(e._getPacksProgress(t)), e.loaded.dispatch(i, a), e._updateLoadedPack(t, o), "continue"
                                }
                                var l = e._createPack(i);
                                l.loading = !0;
                                var u = s.default.load(l.name, function(n) {
                                    l.progress = n, e.progressed.dispatch(e._getPacksProgress(t))
                                }).then(e._parseResources).then(function(n) {
                                    return l.loaded = !0, l.loading = !1, l.resources = n, e.loaded.dispatch(i, n), e._updateLoadedPack(t, o), n
                                });
                                l.promise = u
                            }, c = 0, p = t.length; c < p; c++) u(c);
                        return this._lastPackNamesToLoad = t, o.promise
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._packs = [], this._loading = !1, this._lastPackNamesToLoad = [], this.started.removeAll(), this.progressed.removeAll(), this.loaded.removeAll(), this.completed.removeAll()
                    }
                }, {
                    key: "get",
                    value: function(e) {
                        for (var t = 0, n = this._packs.length; t < n; t++)
                            for (var o = this._packs[t].resources, r = 0, i = o.length; r < i; r++) {
                                var a = o[r];
                                if (e === a.id) return a.data
                            }
                        return x("Cannot get resource '".concat(e, "'")), null
                    }
                }, {
                    key: "getPack",
                    value: function(e) {
                        for (var t = 0, n = this._packs.length; t < n; t++) {
                            var o = this._packs[t];
                            if (o.name === e) return o
                        }
                        return null
                    }
                }, {
                    key: "getPackResources",
                    value: function(e) {
                        var t = this.getPack(e);
                        return t && t.resources
                    }
                }, {
                    key: "checkPackExists",
                    value: function(e) {
                        return !!this.getPack(e)
                    }
                }, {
                    key: "checkPackLoaded",
                    value: function(e) {
                        var t = this.getPack(e);
                        return !(!t || !t.loaded)
                    }
                }, {
                    key: "checkPackLoading",
                    value: function(e) {
                        var t = this.getPack(e);
                        return !(!t || !t.loading)
                    }
                }, {
                    key: "_createPack",
                    value: function(e) {
                        var t = {
                            name: e,
                            loading: !1,
                            loaded: !1,
                            progress: 0,
                            resources: []
                        };
                        return this._packs.push(t), t
                    }
                }, {
                    key: "_abortPack",
                    value: function(e) {
                        var t = this.getPack(e);
                        t.loaded || (s.default.abort(e), t.loading = !1, t.loaded = !1, t.progress = 0, t.resources = [])
                    }
                }, {
                    key: "_getPacksProgress",
                    value: function(e) {
                        for (var t = e.length, n = 0, o = 0; o < t; o++) {
                            var r = this.getPack(e[o]);
                            r && (n += r.progress)
                        }
                        return t ? n / t : 0
                    }
                }, {
                    key: "_mergePacksResources",
                    value: function(e) {
                        var t = {};
                        return e.map(function(e) {
                            for (var n in e) {
                                var o = e[n];
                                t[n] = o
                            }
                        }), t
                    }
                }, {
                    key: "_parseResources",
                    value: function(e) {
                        for (var t = [], n = function(n, o) {
                                var r = a.default.defer();
                                t.push(r.promise);
                                var i = e[n];
                                switch (i.extension) {
                                    case "drc":
                                        var s = new l.default,
                                            f = new u.default;
                                        s.setDRACOLoader(f), s.parse(i.data, null, function(e) {
                                            i.data = e, s = f = null, r.resolve()
                                        });
                                        break;
                                    case "dds":
                                        i.data = c.default.parse(i.data), r.resolve();
                                        break;
                                    case "json":
                                        i.data = JSON.parse(i.data), r.resolve();
                                        break;
                                    case "png":
                                    case "jpg":
                                        var p = new Image;
                                        p.src = i.data, p.onload = function() {
                                            i.data = p, r.resolve()
                                        };
                                        break;
                                    default:
                                        r.resolve()
                                }
                            }, o = 0, r = e.length; o < r; o++) n(o);
                        return a.default.all(t).then(function() {
                            return e
                        })
                    }
                }, {
                    key: "_updateLoadedPack",
                    value: function(e, t) {
                        for (var n = e.length, o = 0, r = e.length; o < r; o++) {
                            var i = e[o];
                            this.checkPackLoaded(i) && (n -= 1)
                        }
                        if (0 === n) {
                            this._loading = !1;
                            for (var a = [], s = 0, l = e.length; s < l; s++) {
                                var u = e[s],
                                    c = this.getPackResources(u);
                                a.push(c)
                            }
                            var f = this._mergePacksResources(a);
                            this.completed.dispatch(e, f), t.resolve({
                                packNames: e,
                                resources: f
                            })
                        }
                    }
                }, {
                    key: "isLoading",
                    get: function() {
                        return this._loading
                    }
                }]) && h(t.prototype, n), e
            }()).prototype, v = "_parseResources", _ = [o], m = Object.getOwnPropertyDescriptor(r.prototype, "_parseResources"), g = r.prototype, b = {}, Object.keys(m).forEach(function(e) {
                b[e] = m[e]
            }), b.enumerable = !!b.enumerable, b.configurable = !!b.configurable, ("value" in b || b.initializer) && (b.writable = !0), b = _.slice().reverse().reduce(function(e, t) {
                return t(y, v, e) || e
            }, b), g && void 0 !== b.initializer && (b.value = b.initializer ? b.initializer.call(g) : void 0, b.initializer = void 0), void 0 === b.initializer && (Object.defineProperty(y, v, b), b = null), r);
        t.default = k, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";

    function o(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var r = function() {
        function e() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new THREE.Scene,
                n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1),
                o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : new THREE.Mesh(new THREE.PlaneBufferGeometry(2, 2), null);
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this.name = "Pass", this.scene = t, this.camera = n, this.quad = o, null !== this.quad && (this.quad.frustumCulled = !1, null !== this.scene && this.scene.add(this.quad)), this.needsSwap = !1, this.enabled = !0, this.renderToScreen = !1
        }
        var t, n;
        return t = e, (n = [{
            key: "setUniform",
            value: function(e, t) {
                this.material.uniforms[e] && (this.material.uniforms[e].value = t)
            }
        }, {
            key: "render",
            value: function(e, t, n, o, r, i) {
                throw new Error("Render method not implemented!")
            }
        }, {
            key: "setSize",
            value: function(e, t) {}
        }, {
            key: "init",
            value: function(e, t) {}
        }, {
            key: "destroy",
            value: function() {
                for (var e, t = Object.keys(this), n = 0; n < t.length; n++) this[e = t[n]] && "function" == typeof this[e].dispose && this[e].dispose()
            }
        }, {
            key: "material",
            get: function() {
                return null !== this.quad ? this.quad.material : null
            },
            set: function(e) {
                null !== this.quad && (this.quad.material = e)
            }
        }]) && o(t.prototype, n), e
    }();
    t.default = r, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = s(n(67)),
        r = s(n(16)),
        i = s(n(189)),
        a = s(n(515));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function l(e) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function u() {
        return (u = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }

    function c(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var f = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                o = n.name,
                r = n.vertexShader,
                i = n.fragmentShader,
                a = n.uniforms,
                s = void 0 === a ? {} : a,
                u = n.textureID,
                c = void 0 === u ? "tInput" : u;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === l(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this))).name = o || "ShaderPass", e.textureID = c, e.vertexShader = r, e.fragmentShader = i, e.uniforms = s, e
        }
        var n, s;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), n = t, (s = [{
            key: "init",
            value: function(e) {
                this.material = new r.default({
                    uniforms: u({
                        tInput: {
                            value: null
                        }
                    }, this.uniforms),
                    vertexShader: this.vertexShader || i.default,
                    fragmentShader: this.fragmentShader || a.default,
                    precision: e.capabilities.precision
                }), this.quad.material = this.material
            }
        }, {
            key: "setSize",
            value: function(e, t) {
                this.material.uniforms.uResolution && (this.material.uniforms.uResolution.value = new THREE.Vector2(e, t))
            }
        }, {
            key: "render",
            value: function(e, t, n, o, r) {
                var i = this.material;
                i.uniforms[this.textureID] && (i.uniforms[this.textureID].value = t.texture), i.uniforms.uTime && (i.uniforms.uTime.value = r), e.render(this.scene, this.camera, this.renderToScreen ? null : n)
            }
        }]) && c(n.prototype, s), t
    }();
    t.default = f, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = s(n(192)),
        r = s(n(17)),
        i = n(3),
        a = s(n(11));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function l(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var u = (0, i.getLogger)("SaveManager", "#6C7A89", !0),
        c = new(function() {
            function e() {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this.categoriesIds = ["global", "tutorial", "level-1", "level-2", "level-3"], this.levelsIds = ["tutorial", "level-1", "level-2", "level-3"], this.data = {}, this._setData(), this._createGUI()
            }
            var t, n;
            return t = e, (n = [{
                key: "get",
                value: function(e) {
                    return this._index(this.data, e)
                }
            }, {
                key: "set",
                value: function(e, t) {
                    u(e, t), this._index(this.data, e, t);
                    var n = e.split(".")[0];
                    o.default.setItem(n, JSON.stringify(this.data[n]))
                }
            }, {
                key: "clear",
                value: function() {
                    for (var e = 0, t = this.categoriesIds.length; e < t; e++) o.default.removeItem(this.categoriesIds[e])
                }
            }, {
                key: "_setData",
                value: function() {
                    for (var e = 0, t = this.categoriesIds.length; e < t; e++) {
                        var n = this.categoriesIds[e],
                            r = o.default.getItem(n);
                        if (r) this.data[n] = JSON.parse(r);
                        else {
                            if ("global" === n) {
                                var i = navigator.language || navigator.userLanguage;
                                this.data[n] = {
                                    qwerty: !i.match(/fr/gi) || !1,
                                    sound: !0
                                }
                            } else this.data[n] = {
                                seen: !1,
                                done: !1,
                                checkpoint: -1
                            };
                            o.default.setItem(n, JSON.stringify(this.data[n]))
                        }
                    }
                }
            }, {
                key: "_index",
                value: function(e, t, n) {
                    return "string" == typeof t ? this._index(e, t.split("."), n) : 1 === t.length && void 0 !== n ? (e[t[0]] = n, n) : 0 === t.length ? e : this._index(e[t[0]], t.slice(1), n)
                }
            }, {
                key: "_createGUI",
                value: function() {
                    var e = this,
                        t = r.default.addFolder("SaveManager");
                    t.add(this.data.global, "qwerty").onChange(function() {
                        o.default.setItem("global", JSON.stringify(e.data.global))
                    }), t.add(this.data.global, "sound").onChange(function() {
                        o.default.setItem("global", JSON.stringify(e.data.global))
                    }), t.add(this, "clear")
                }
            }, {
                key: "lastSeenLevelName",
                get: function() {
                    for (var e = this.levelsIds[0], t = this.levelsIds, n = t.length - 1; n > 0; n--) {
                        var o = t[n];
                        if (this.data[o].seen) {
                            e = o;
                            break
                        }
                    }
                    return e
                }
            }, {
                key: "nextLevelName",
                get: function() {
                    var e = a.default.sceneManager.scene.name || this.levelsIds[0],
                        t = this.levelsIds.indexOf(e),
                        n = this.levelsIds[t + 1];
                    return t >= this.levelsIds.length - 1 && (n = null), n
                }
            }]) && l(t.prototype, n), e
        }());
    t.default = c, e.exports = t.default
}, , , , , , , function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = l(n(5)),
        r = l(n(304)),
        i = l(n(143)),
        a = l(n(302)),
        s = n(2);

    function l(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function u(e) {
        return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function c(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var f = function(e) {
        function t(e) {
            var n;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (n = function(e, t) {
                if (t && ("object" === u(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)))._config = a.default[n._scene.name], n._positions = [], n._particlesData = [], n._scales = [], n._orientations = [];
            var o = n._config.scale || 1;
            return n._geometry = new THREE.DodecahedronBufferGeometry(.05 * o, 0), n._material = new r.default, n._createCurve(), n._createParticles(), n
        }
        var n, l;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), n = t, (l = [{
            key: "destroy",
            value: function() {
                (function e(t, n, o) {
                    null === t && (t = Function.prototype);
                    var r = Object.getOwnPropertyDescriptor(t, n);
                    if (void 0 === r) {
                        var i = Object.getPrototypeOf(t);
                        return null === i ? void 0 : e(i, n, o)
                    }
                    if ("value" in r) return r.value;
                    var a = r.get;
                    return void 0 !== a ? a.call(o) : void 0
                })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._unbind()
            }
        }, {
            key: "update",
            value: function(e, t) {
                for (var n = 0, o = this._positions.length; n < o; n++) {
                    var r = this._positions[n],
                        i = this._scales[n],
                        a = (this._orientations[n], this._particlesData[n]),
                        l = this._config.popBounds,
                        u = a.offset,
                        c = a.speed,
                        f = (a.rotationSpeed, a.offsetPos);
                    a.progress = (0, s.modAbs)(a.progress + .001 * e * c, 1);
                    var p = this._curve.getPointAt(a.progress);
                    r.set(p.x, p.y, p.z), r.x += .035 * Math.sin(.01 * t + u.x) + f.x, r.y += .02 * Math.cos(.008 * t + u.y) + f.y, r.z += .035 * Math.sin(.01 * t + u.z) + f.z;
                    var d = 1;
                    a.progress < l[0] ? d = (0, s.map)(a.progress, 0, l[0], 1e-4, 1) : a.progress > l[1] && (d = (0, s.map)(a.progress, l[1], 1, 1, 1e-4)), i.set(d, d, d);
                    var h = this._instance._geometry.attributes.instancePosition;
                    h.setXYZ(n, r.x, r.y, r.z), h.needsUpdate = !0;
                    var y = this._instance._geometry.attributes.instanceScale;
                    y.setXYZ(n, i.x, i.y, i.z), y.needsUpdate = !0
                }
            }
        }, {
            key: "_bind",
            value: function() {}
        }, {
            key: "_unbind",
            value: function() {}
        }, {
            key: "_createCurve",
            value: function() {
                for (var e = [], t = 0, n = this._config.points.length; t < n; t++) {
                    var o = this._config.points[t];
                    e.push(new THREE.Vector3(o.x, o.y, o.z))
                }
                this._curve = new THREE.CatmullRomCurve3(e)
            }
        }, {
            key: "_createParticles",
            value: function() {
                for (var e = this._config.speed, t = 0, n = this._config.nb; t < n; t++) {
                    var o = {};
                    o.offset = {
                        x: (0, s.randomFloat)(-1e3, 1e3),
                        y: (0, s.randomFloat)(-1e3, 1e3),
                        z: (0, s.randomFloat)(-1e3, 1e3)
                    }, o.progress = (0, s.randomFloat)(0, 1, 10), o.speed = (0, s.randomFloat)(e[0], e[1]), o.rotationSpeed = (0, s.randomSign)() * (0, s.randomFloat)(.001, .004), o.offsetPos = new THREE.Vector3((0, s.randomSign)() * (0, s.randomFloat)(.4, .8), (0, s.randomSign)() * (0, s.randomFloat)(.4, 1.2), (0, s.randomSign)() * (0, s.randomFloat)(.4, .8)), this._particlesData.push(o), this._positions.push(new THREE.Vector4(0, 0, 0, 1)), this._scales.push(new THREE.Vector3(1, 1, 1)), this._orientations.push(new THREE.Quaternion)
                }
                this._instance = new i.default({
                    name: "way_path_indicator",
                    geometry: this._geometry,
                    material: this._material,
                    nb: this._config.nb,
                    positions: this._positions,
                    scales: this._scales,
                    orientations: this._orientations
                }), this.add(this._instance)
            }
        }]) && c(n.prototype, l), t
    }();
    t.default = f, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = l(n(5)),
            a = l(n(58)),
            s = n(2);

        function l(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function u(e) {
            return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function c(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var f, p, d, h, y, v, _ = (f = (r = function(e) {
            function t(e) {
                var n;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), (n = function(e, t) {
                    if (t && ("object" === u(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this))).material = new a.default, n.meshes = [], n._points = [], n._progressIndexes = [];
                for (var o = 0, r = 0, i = e.length; r < i; r++) {
                    n._progressIndexes.push(o);
                    for (var l = 0, c = e[r].length; l < c; l++) o++, n._points.push(e[r][l])
                }
                if (n._progressionCtrl = n._scene.progressionCtrl, n._progressionCtrl) {
                    var f = n._progressionCtrl.currentCheckpointIndex;
                    n._currentCheckpoint = -1 === f ? 0 : f, n._currentPoint = n._progressIndexes[n._currentCheckpoint]
                } else n._currentCheckpoint = 0, n._currentPoint = 0;
                n._isTweening = !1, n.visible = !1, n._points[n._currentPoint] && (n.position.copy(n._points[n._currentPoint]), n.visible = !0);
                for (var p = [new THREE.Vector3(-.4, .4, .4), new THREE.Vector3(0, 0, 0), new THREE.Vector3(.4, -.4, -.4)], d = new THREE.DodecahedronBufferGeometry(.2, 0), h = 0, y = p.length; h < y; h++) {
                    var v = new THREE.Mesh(d, n.material);
                    v.position.copy(p[h]), v.basePos = v.position.clone(), v.offsetPos = new THREE.Vector3((0, s.randomFloat)(-100, 100), (0, s.randomFloat)(-100, 100), (0, s.randomFloat)(-100, 100)), v.speed = new THREE.Vector3((0, s.randomFloat)(.5, 1) * (0, s.randomSign)(), (0, s.randomFloat)(.5, 1) * (0, s.randomSign)(), (0, s.randomFloat)(.5, 1) * (0, s.randomSign)()), n.add(v), n.meshes.push(v)
                }
                return n._bind(), n
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), n = t, (o = [{
                key: "destroy",
                value: function() {
                    (function e(t, n, o) {
                        null === t && (t = Function.prototype);
                        var r = Object.getOwnPropertyDescriptor(t, n);
                        if (void 0 === r) {
                            var i = Object.getPrototypeOf(t);
                            return null === i ? void 0 : e(i, n, o)
                        }
                        if ("value" in r) return r.value;
                        var a = r.get;
                        return void 0 !== a ? a.call(o) : void 0
                    })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), TweenMax.killTweensOf(this.rotation, {
                        y: !0
                    }), TweenMax.killTweensOf(this.material, {
                        explode: !0,
                        opacity: !0
                    }), this._unbind()
                }
            }, {
                key: "update",
                value: function(e, t) {
                    this.material.update(e, t);
                    for (var n = 0, o = this.meshes.length; n < o; n++) {
                        var r = this.meshes[n];
                        r.position.copy(r.basePos), r.position.x += 1 * Math.sin(.001 * t * r.speed.x + r.offsetPos.x), r.position.y += 2 * Math.cos(.001 * t * r.speed.y + r.offsetPos.y), r.position.z += 1 * Math.sin(.001 * t * r.speed.z + r.offsetPos.z)
                    }
                    this._currentPoint < this._points.length && this._points[this._currentPoint].distanceTo(this._character.position) < 15 && this._pointSeen()
                }
            }, {
                key: "_bind",
                value: function() {
                    this._signals.character.reseted.add(this._onCharReset)
                }
            }, {
                key: "_unbind",
                value: function() {
                    this._signals.character.reseted.remove(this._onCharReset)
                }
            }, {
                key: "_pop",
                value: function() {
                    this._points[this._currentPoint] ? (this.visible = !0, this.position.copy(this._points[this._currentPoint]), this._isTweening = !1, this._currentPoint === this._points.length - 1 && (this._allSeen = !0), TweenMax.to(this.rotation, 4, {
                        y: 2 * -Math.PI
                    }, {
                        y: 0,
                        ease: Expo.easeInOut
                    }), TweenMax.to(this.material, 2, {
                        explode: 0,
                        opacity: 1,
                        ease: Expo.easeOut
                    })) : this.visible = !1
                }
            }, {
                key: "_pointSeen",
                value: function() {
                    var e = this;
                    !this._isTweening && this._points[this._currentPoint] && (this._isTweening = !0, TweenMax.fromTo(this.rotation, 4, {
                        y: 2 * -Math.PI
                    }, {
                        y: 0,
                        ease: Expo.easeOut
                    }), TweenMax.to(this.material, 2, {
                        explode: 1,
                        opacity: 0,
                        ease: Expo.easeOut,
                        onComplete: function() {
                            e._currentPoint++, e._pop()
                        }
                    }))
                }
            }, {
                key: "_onCharReset",
                value: function() {
                    if (this._progressionCtrl) {
                        var e = this._progressionCtrl.currentCheckpointIndex;
                        this._currentCheckpoint = -1 === e ? 0 : e, this._currentPoint = this._progressIndexes[this._currentCheckpoint]
                    } else this._currentCheckpoint = 0, this._currentPoint = 0;
                    this._points[this._currentPoint] && (this.position.copy(this._points[this._currentPoint]), this.visible = !0, this._pop())
                }
            }]) && c(n.prototype, o), t
        }()).prototype, p = "_onCharReset", d = [o], h = Object.getOwnPropertyDescriptor(r.prototype, "_onCharReset"), y = r.prototype, v = {}, Object.keys(h).forEach(function(e) {
            v[e] = h[e]
        }), v.enumerable = !!v.enumerable, v.configurable = !!v.configurable, ("value" in v || v.initializer) && (v.writable = !0), v = d.slice().reverse().reduce(function(e, t) {
            return t(f, p, e) || e
        }, v), y && void 0 !== v.initializer && (v.value = v.initializer ? v.initializer.call(y) : void 0, v.initializer = void 0), void 0 === v.initializer && (Object.defineProperty(f, p, v), v = null), r);
        t.default = _, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = k(n(186)),
            a = k(n(353)),
            s = k(n(352)),
            l = k(n(350)),
            u = k(n(86)),
            c = k(n(35)),
            f = k(n(335)),
            p = k(n(332)),
            d = k(n(331)),
            h = k(n(330)),
            y = k(n(327)),
            v = k(n(320)),
            _ = k(n(319)),
            m = k(n(318)),
            g = k(n(317)),
            b = n(3),
            w = n(121),
            x = n(2);

        function k(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function O(e) {
            return (O = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function E(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function P(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : P(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }

        function S(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }(0, b.getLogger)("AbstractLevel", b.INFO, !1);
        var T = (S((r = function(e) {
            function t() {
                return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                    function(e, t) {
                        if (t && ("object" === O(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), n = t, (o = [{
                key: "update",
                value: function(e, n) {
                    P(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "update", this).call(this, e, n), this._debugCtrl.preUpdate(e, n), this._physics.update(e, n), this._character.update(e, n), this._characterFallSprite.update(e, n), this._terrain.update(e, n), this._debugCtrl.update(e, n), this.interactiveEntitiesCtrl.update(e, n), this._materialCtrl.update(e, n), u.default.update(e, n), this._progressionCtrl && this._progressionCtrl.update(e, n), this._platform && (this._platform.update(e, n), this._characterPower2Sprite.update(e, n)), this._debugCtrl.postUpdate(e, n)
                }
            }, {
                key: "destroy",
                value: function() {
                    var e = this;
                    return clearTimeout(this._grabTimeout), this._state.konamiIsActivated = !1, this._signals.konami.toggle.remove(this._onKonamiToggle), c.default.addCursor("idle"), this._signals.character.reseted.remove(this._onCharReset), this._wayIndicator && this._wayIndicator.destroy(), this._wayPathIndicator && this._wayPathIndicator.destroy(), P(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this).then(function() {
                        e._preloadTimeout && clearTimeout(e._preloadTimeout), e._physics.destroy(), e._debugCtrl.destroy(), e._progressionCtrl.destroy(), e._levelPostProcessing.destroy(), e.interactiveEntitiesCtrl.destroy(), e._destroyAutoDialogues()
                    })
                }
            }, {
                key: "_init",
                value: function() {
                    var e = this;
                    this._state.dialogueEnabled = !0, this.navMeshes = [], this._physics = null, this._character = null, this._terrain = null, this._ambientLight = null, this._state.powerCdActivated = [!1, !1, !1], this._state.isUsingPower = !1, this._state.pauseDisplayed = !1, this._postProcessing.enabled = !0, this._renderer.shadowMap.enabled = !0, this._gltf.add("terrain", "".concat(this.name, ".models.terrain")), this._gltf.add("character", "level.models.character"), this._gltf.add("platform", "level.models.platform"), this._stack.first("physics", function() {
                        return e._createPhysics()
                    }), this._stack.after("entities", "entities:after", function() {
                        e._materialCtrl.setMaterials(), e._debugCtrl = new f.default
                    }), this._stack.after("GUI", "GUI:after", function() {
                        return e._character.createGUI()
                    }), this._stack.after("GUI", "GUI:after", function() {
                        return e._createAutoDialogues()
                    }), this._signals.character.reseted.add(this._onCharReset), this._konamiActivated = !1, this._signals.konami.toggle.add(this._onKonamiToggle), this._renderer.domElement.classList.remove("hide")
                }
            }, {
                key: "_createPhysics",
                value: function() {
                    this._physics = new s.default(this.name)
                }
            }, {
                key: "_createCtrls",
                value: function() {
                    P(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_createCtrls", this).call(this), this.interactiveEntitiesCtrl = new p.default(this), this._materialCtrl = new h.default(this)
                }
            }, {
                key: "_createCameras",
                value: function() {
                    this._gameCamera = new a.default({
                        name: "Game camera",
                        isDefault: !0
                    }), this.addCamera(this._gameCamera), this._grabTimeout = setTimeout(function() {
                        c.default.addCursor("grab")
                    }, 5e3)
                }
            }, {
                key: "_createPostProcessing",
                value: function() {
                    this._levelPostProcessing = new l.default
                }
            }, {
                key: "_createEntities",
                value: function() {
                    this._character = new y.default, this.addEntity(this._character), this._progressionCtrl = new d.default, this._characterFallSprite = new _.default, this.addEntity(this._characterFallSprite), this._terrain = new g.default, this.addEntity(this._terrain), this._platform = new v.default, this.addEntity(this._platform), this._characterPower2Sprite = new m.default, this.addEntity(this._characterPower2Sprite), this.addEntity(u.default.lights)
                }
            }, {
                key: "_createTitle",
                value: function() {
                    this._signals.bigMsg.showTitleMessage.dispatch(this._sceneLocales.title.main, this._sceneLocales.title.sub)
                }
            }, {
                key: "_createAutoDialogues",
                value: function() {
                    this._dialogues = ["hope-youre-glad", "hurry-up-song", "hurry-up", "laugh", "sigh-2", "grr", "hmm", "i-hate-this-guy", "just-want-to-go-home"], (0, w.shuffle)(this._dialogues), this._dialoguesIndex = 0, this._prepareDialogue()
                }
            }, {
                key: "_destroyAutoDialogues",
                value: function() {
                    clearTimeout(this._audioDialogueTimeout)
                }
            }, {
                key: "_prepareDialogue",
                value: function() {
                    var e = this;
                    clearTimeout(this._audioDialogueTimeout), this._audioDialogueTimeout = setTimeout(function() {
                        !e._character.isDying && Date.now() - e._character.lastCharReset > 6e3 && e._state.dialogueEnabled && (e._dialoguesIndex = (0, x.modAbs)(e._dialoguesIndex + 1, e._dialogues.length), e._sounds.play(e._dialogues[e._dialoguesIndex])), e._prepareDialogue()
                    }, 4e4)
                }
            }, {
                key: "_onCharReset",
                value: function() {}
            }, {
                key: "_onKonamiToggle",
                value: function() {
                    this._konamiActivated || (this._konamiActivated = !0)
                }
            }, {
                key: "physics",
                get: function() {
                    return this._physics
                }
            }, {
                key: "character",
                get: function() {
                    return this._character
                }
            }, {
                key: "terrain",
                get: function() {
                    return this._terrain
                }
            }, {
                key: "progressionCtrl",
                get: function() {
                    return this._progressionCtrl
                }
            }, {
                key: "materialCtrl",
                get: function() {
                    return this._materialCtrl
                }
            }, {
                key: "gameCamera",
                get: function() {
                    return this._gameCamera
                }
            }]) && E(n.prototype, o), t
        }()).prototype, "_onCharReset", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onCharReset"), r.prototype), S(r.prototype, "_onKonamiToggle", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onKonamiToggle"), r.prototype), r);
        t.default = T, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#define SHADER_NAME Basic-raw-fog\n\nattribute vec3 position;\nattribute vec2 uv;\n\nuniform mat4 modelMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nvarying vec2 vUv;\n\n@import fogVertPars\n\nvoid main() {\n  vec4 worldPosition = modelMatrix * vec4(position, 1.0);\n  vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n  gl_Position = projectionMatrix * mvPosition;\n\n  vUv = uv;\n  @import fogVert\n}\n"
}, function(e, t) {
    var n = 0,
        o = Math.random();
    e.exports = function(e) {
        return "Symbol(".concat(void 0 === e ? "" : e, ")_", (++n + o).toString(36))
    }
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0;
    var o = a(n(171)),
        r = a(n(433)),
        i = a(n(170));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = window.AudioContext || window.webkitAudioContext || r.default,
        l = new s;
    l || (l = new r.default), i.default && 44100 !== l.sampleRate && ((0, o.default)(l), l.close(), l = new s), "suspended" === l.state && "function" == typeof l.resume && window.setTimeout(function() {
        return l.resume()
    }, 1e3), t.default = l
}, function(e, t) {
    var n = e.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = n)
}, function(e, t) {
    e.exports = function(e, t) {
        return {
            enumerable: !(1 & e),
            configurable: !(2 & e),
            writable: !(4 & e),
            value: t
        }
    }
}, function(e, t) {
    e.exports = function(e) {
        try {
            return !!e()
        } catch (e) {
            return !0
        }
    }
}, function(e, t, n) {
    e.exports = n(486)
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = d(n(188)),
            a = d(n(11)),
            s = d(n(4)),
            l = d(n(23)),
            u = d(n(17)),
            c = d(n(187)),
            f = d(n(65)),
            p = d(n(500));

        function d(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function h() {
            return (h = Object.assign || function(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = arguments[t];
                    for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
                }
                return e
            }).apply(this, arguments)
        }

        function y(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var v, _, m, g, b, w, x = 5,
            k = 512,
            O = 1.5,
            E = 1.5,
            P = 1,
            S = 60,
            T = 6,
            j = new(v = (r = function() {
                function e() {
                    ! function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, e), this._signals = s.default, this._directionalLights = [], this._lights = new THREE.Object3D, this._controls = [], this._gui = u.default, this._guiFolder = null, this._bind(), this._create()
                }
                var t, n;
                return t = e, (n = [{
                    key: "setShadowUpdate",
                    value: function() {
                        for (var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], t = 0, n = this._directionalLights.length; t < n; t++) this._directionalLights[t].shadow.needsUpdate = e
                    }
                }, {
                    key: "update",
                    value: function(e, t) {
                        var n = a.default.scene.character;
                        if (n) {
                            var o = this._keyLight,
                                r = n.position,
                                i = l.default.pool.get();
                            i.copy(o.offsetPos).normalize().multiplyScalar(x).add(r), o.position.copy(i), i.release(), o.target.position.copy(r), this._keyLightHelper.update();
                            for (var s = 0, u = this._directionalLights.length; s < u; s++) {
                                var c = this._directionalLights[s];
                                if (c.visible) {
                                    var f = l.default.pool.get().copy(o.offsetPos).normalize().add(c.offsetPos);
                                    c.position.copy(f), f.release()
                                }
                            }
                        }
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._unbind(), this._destroyGUI()
                    }
                }, {
                    key: "_bind",
                    value: function() {
                        this._signals.scene.created.add(this._onSceneCreate)
                    }
                }, {
                    key: "_unbind",
                    value: function() {
                        this._signals.scene.created.remove(this._onSceneCreate)
                    }
                }, {
                    key: "_createGUI",
                    value: function() {
                        this._guiFolder = this._gui.addFolder("LightsManager"), this._guiFolder.add(this, "_copyShadowsCfg").name("Copy to clipboard")
                    }
                }, {
                    key: "_destroyGUI",
                    value: function() {
                        this._guiFolder && this._gui.removeFolder(this._guiFolder)
                    }
                }, {
                    key: "_create",
                    value: function() {
                        for (var e = 0, t = T; e < t; e++) {
                            var n = new THREE.DirectionalLight("#000000", 0);
                            n.offsetPos = new THREE.Vector3, n.shadow.blacklist = ["character_head", "character_body", "way_indicator", "way_path_indicator"], n.visible = !1, this._createCameraHelper(n.shadow.camera), this._lights.add(n.target), this._lights.add(n), this._directionalLights.push(n)
                        }
                        this._keyLight = new THREE.DirectionalLight("#ffffff", 1), this._keyLight.shadow.whitelist = ["character_head", "character_body"], this._keyLight.offsetPos = new THREE.Vector3, this._keyLightHelper = new THREE.DirectionalLightHelper(this._keyLight, 2), this._keyLightHelper.name = "KeyLightHelper", this._keyLightHelper.visible = !1, this._lights.add(this._keyLight.target), this._lights.add(this._keyLight), this._lights.add(this._keyLightHelper), this._createCameraHelper(this._keyLight.shadow.camera), this.updateShadowCamera({
                            light: this._keyLight,
                            mapSize: k,
                            width: O,
                            height: E,
                            near: P,
                            far: x + S
                        })
                    }
                }, {
                    key: "_init",
                    value: function() {
                        for (var e = this, t = a.default.scene.name, n = p.default[t], o = function(t, o) {
                                var r = e._directionalLights[t];
                                r.visible = !1, r.shadow.camera.helper.visible = !1;
                                var i = n[t];
                                if (i) {
                                    var a = h({
                                        light: r
                                    }, i);
                                    e.updateShadowCamera(a), (0, c.default)({
                                        object: i,
                                        folder: e._guiFolder,
                                        folderName: "Baking light #".concat(t + 1),
                                        changeCb: function(t, n) {
                                            a[t] = "offset" === t ? i.offset : n, e.updateShadowCamera(a)
                                        }
                                    })
                                }
                            }, r = 0, i = this._directionalLights.length; r < i; r++) o(r);
                        var s = f.default[t].common.keyLight;
                        this._keyLight.color.set(s.color), this._keyLight.intensity = s.intensity, this._keyLight.offsetPos.copy(s.position)
                    }
                }, {
                    key: "updateShadowCamera",
                    value: function(e) {
                        var t = e.enabled,
                            n = void 0 === t || t,
                            o = e.light,
                            r = e.mapSize,
                            i = e.near,
                            a = e.far,
                            s = e.width,
                            l = e.height,
                            u = e.offset,
                            c = e.radius,
                            f = void 0 === c ? 2 : c,
                            p = e.bias,
                            d = void 0 === p ? .004 : p;
                        o.castShadow = !0, o.visible = n, r && (o.shadow.mapSize.width = r, o.shadow.mapSize.height = r), i && (o.shadow.camera.near = i), a && (o.shadow.camera.far = a), s && (o.shadow.camera.right = s, o.shadow.camera.left = -s), l && (o.shadow.camera.top = l, o.shadow.camera.bottom = -l), u && (o.offsetPos.copy(u), o.target.position.copy(u)), f && (o.shadow.radius = f), d && (o.shadow.bias = d), o.shadow.needsUpdate = !0, o.shadow.camera.helper && (o.shadow.camera.updateProjectionMatrix(), o.shadow.camera.helper.update())
                    }
                }, {
                    key: "_createCameraHelper",
                    value: function(e) {
                        var t = new THREE.CameraHelper(e);
                        return t.name = "CameraHelper", t.visible = !1, e.helper = t, this._lights.add(t), t
                    }
                }, {
                    key: "_copyShadowsCfg",
                    value: function() {
                        var e = a.default.scene.name,
                            t = JSON.stringify(p.default[e], null, 2);
                        (0, i.default)(t) && this._signals.toastMsg.log.dispatch("debug", "#LightsManager - Config copied to clipboard")
                    }
                }, {
                    key: "_onSceneCreate",
                    value: function(e) {
                        f.default[e.name] && (this._destroyGUI(), this._createGUI(), this._init())
                    }
                }, {
                    key: "lights",
                    get: function() {
                        return this._lights
                    }
                }, {
                    key: "keyLight",
                    get: function() {
                        return this._keyLight
                    }
                }]) && y(t.prototype, n), e
            }()).prototype, _ = "_onSceneCreate", m = [o], g = Object.getOwnPropertyDescriptor(r.prototype, "_onSceneCreate"), b = r.prototype, w = {}, Object.keys(g).forEach(function(e) {
                w[e] = g[e]
            }), w.enumerable = !!w.enumerable, w.configurable = !!w.configurable, ("value" in w || w.initializer) && (w.writable = !0), w = m.slice().reverse().reduce(function(e, t) {
                return t(v, _, e) || e
            }, w), b && void 0 !== w.initializer && (w.value = w.initializer ? w.initializer.call(b) : void 0, w.initializer = void 0), void 0 === w.initializer && (Object.defineProperty(v, _, w), w = null), r);
        t.default = j, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    e.exports = function(e, t, n, o, r, i, a, s) {
        if (!e) {
            var l;
            if (void 0 === t) l = new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");
            else {
                var u = [n, o, r, i, a, s],
                    c = 0;
                (l = new Error(t.replace(/%s/g, function() {
                    return u[c++]
                }))).name = "Invariant Violation"
            }
            throw l.framesToPop = 1, l
        }
    }
}, , , , function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = i(n(7)),
        r = i(n(11));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function a(e) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var l = function(e) {
        function t() {
            return function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t),
                function(e, t) {
                    if (t && ("object" === a(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
        }
        var i, l;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), i = t, (l = [{
            key: "init",
            value: function() {
                this.$name = "gl", this._wakeUpPromise = null, this._sleepPromise = null
            }
        }, {
            key: "mounted",
            value: function() {
                var e = this;
                (function e(t, n, o) {
                    null === t && (t = Function.prototype);
                    var r = Object.getOwnPropertyDescriptor(t, n);
                    if (void 0 === r) {
                        var i = Object.getPrototypeOf(t);
                        return null === i ? void 0 : e(i, n, o)
                    }
                    if ("value" in r) return r.value;
                    var a = r.get;
                    return void 0 !== a ? a.call(o) : void 0
                })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "mounted", this).call(this), this.sceneName = this.$props["scene-name"], this._wakeUpPromise = r.default.wakeUp(this.sceneName).then(function() {
                    e.$el && e.$el.appendChild(r.default.renderer.domElement)
                })
            }
        }, {
            key: "beforeDestroy",
            value: function() {
                this._sleepPromise = r.default.sleep(this.sceneName).then(function() {})
            }
        }, {
            key: "template",
            get: function() {
                return n(252)
            }
        }, {
            key: "promises",
            get: function() {
                return [this._wakeUpPromise, this._sleepPromise]
            }
        }]) && s(i.prototype, l), t
    }();
    t.default = l, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i, a = (r = n(7)) && r.__esModule ? r : {
            default: r
        };

        function s(e) {
            return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function l() {
            return (l = Object.assign || function(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = arguments[t];
                    for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
                }
                return e
            }).apply(this, arguments)
        }

        function u(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function c(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : c(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }

        function f(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var p = (f((i = function(e) {
            function t() {
                return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                    function(e, t) {
                        if (t && ("object" === s(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
            }
            var o, r;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, a.default), o = t, (r = [{
                key: "init",
                value: function() {
                    this.$name = "subtitles"
                }
            }, {
                key: "mounted",
                value: function() {
                    c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "mounted", this).call(this), this._bind()
                }
            }, {
                key: "data",
                value: function() {
                    return l({}, c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "data", this), {
                        pageName: this._router.currentRoute.name
                    })
                }
            }, {
                key: "beforeDestroy",
                value: function() {
                    this._unbind()
                }
            }, {
                key: "_createTls",
                value: function() {}
            }, {
                key: "_bind",
                value: function() {
                    this._signals.subtitles.add.add(this._onSubtitleAdd), this._signals.subtitles.remove.add(this._onSubtitleRemove)
                }
            }, {
                key: "_unbind",
                value: function() {
                    this._signals.subtitles.add.remove(this._onSubtitleAdd), this._signals.subtitles.remove.remove(this._onSubtitleRemove)
                }
            }, {
                key: "_onSubtitleAdd",
                value: function(e) {
                    this.$el.classList.add("subtitles--is-visible"), this.$els.text.innerHTML = e
                }
            }, {
                key: "_onSubtitleRemove",
                value: function() {
                    this.$el.classList.remove("subtitles--is-visible")
                }
            }, {
                key: "template",
                get: function() {
                    return n(253)
                }
            }, {
                key: "components",
                get: function() {
                    return {}
                }
            }]) && u(o.prototype, r), t
        }()).prototype, "_onSubtitleAdd", [o], Object.getOwnPropertyDescriptor(i.prototype, "_onSubtitleAdd"), i.prototype), f(i.prototype, "_onSubtitleRemove", [o], Object.getOwnPropertyDescriptor(i.prototype, "_onSubtitleRemove"), i.prototype), i);
        t.default = p, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0;
    var o = f(n(62)),
        r = f(n(96)),
        i = f(n(98)),
        a = f(n(97)),
        s = f(n(308)),
        l = f(n(48)),
        u = f(n(157)),
        c = f(n(307));

    function f(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var p = {
        panningModel: "HRTF",
        distanceModel: "linear",
        refDistance: 1,
        maxDistance: 1e3,
        rolloffFactor: 1,
        coneInnerAngle: 360,
        coneOuterAngle: 0,
        coneOuterGain: 0
    };

    function d(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
        return (0, u.default)(e) ? e : t
    }

    function h(e, t) {
        var n = e.x,
            o = e.y,
            r = e.z,
            i = t.x,
            a = t.y,
            s = t.z;
        e.x = o * s - r * a, e.y = r * i - n * s, e.z = n * a - o * i
    }

    function y(e) {
        if (0 === e.x && 0 === e.y && 0 === e.z) return e;
        var t = 1 / Math.sqrt(e.x * e.x + e.y * e.y + e.z * e.z);
        return e.x *= t, e.y *= t, e.z *= t, e
    }
    var v = {
            pool: [],
            get: function(e, t, n) {
                var o = this.pool.length ? this.pool.pop() : {
                    x: 0,
                    y: 0,
                    z: 0
                };
                return void 0 !== e && isNaN(e) && "x" in e && "y" in e && "z" in e ? (o.x = d(e.x), o.y = d(e.y), o.z = d(e.z)) : (o.x = d(e), o.y = d(t), o.z = d(n)), o
            },
            dispose: function(e) {
                this.pool.push(e)
            }
        },
        _ = v.get(0, 1, 0),
        m = Math.PI / 4,
        g = Math.PI / 2;

    function b(e, t) {
        var n = v.get(t.x, t.y, t.z);
        h(n, _), h(n, t), y(n), y(t), e.setOrientation(t.x, t.y, t.z, n.x, n.y, n.z), v.dispose(t), v.dispose(n)
    }

    function w(e, t) {
        e.setPosition(t.x, t.y, t.z), v.dispose(t)
    }
    var x = function(e) {
            function t() {
                var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    r = n.panningModel,
                    a = n.distanceModel,
                    s = n.refDistance,
                    u = n.maxDistance,
                    f = n.rolloffFactor,
                    d = n.coneInnerAngle,
                    h = n.coneOuterAngle,
                    y = n.coneOuterGain;
                (0, o.default)(this, t);
                var v = (0, i.default)(this, e.call(this, l.default.context.createPanner()));
                return v._node.panningModel = r || p.panningModel, v._node.distanceModel = a || p.distanceModel, v._node.refDistance = (0, c.default)(s) ? s : p.refDistance, v._node.maxDistance = (0, c.default)(u) ? u : p.maxDistance, v._node.rolloffFactor = (0, c.default)(f) ? f : p.rolloffFactor, v._node.coneInnerAngle = (0, c.default)(d) ? d : p.coneInnerAngle, v._node.coneOuterAngle = (0, c.default)(h) ? h : p.coneOuterAngle, v._node.coneOuterGain = (0, c.default)(y) ? y : p.coneOuterGain, v._node.setPosition(0, 0, 0), v._node.setOrientation(1, 0, 0), v.set(0), v
            }
            return (0, a.default)(t, e), t.prototype.update = function(e) {
                var t = e.x,
                    n = e.y,
                    o = e.z,
                    r = v.get(t, n, o);
                !(0, u.default)(t) || (0, u.default)(n) || (0, u.default)(o) || ((t = r.x) > 1 && (t = 1), t < -1 && (t = -1), (o = (t *= m) + g) > g && (o = Math.PI - o), r.x = Math.sin(t), r.y = 0, r.z = Math.sin(o)), w(this._node, r)
            }, t.prototype.setPosition = function(e, t, n) {
                w(this._node, v.get(e, t, n))
            }, t.prototype.setOrientation = function(e, t, n) {
                b(this._node, v.get(e, t, n))
            }, t.prototype.setListenerPosition = function(e, t, n) {
                w(l.default.context.listener, v.get(e, t, n))
            }, t.prototype.setListenerOrientation = function(e, t, n) {
                b(l.default.context.listener, v.get(e, t, n))
            }, t.prototype.set = function(e, t, n) {
                return this.update({
                    x: e,
                    y: t,
                    z: n
                })
            }, (0, r.default)(t, [{
                key: "defaults",
                get: function() {
                    return p
                },
                set: function(e) {
                    Object.assign(p, e)
                }
            }]), t
        }(s.default),
        k = l.default.register("panner", function(e) {
            return new x(e)
        });
    Object.defineProperties(k, {
        defaults: {
            get: function() {
                return p
            },
            set: function(e) {
                return Object.assign(p, e)
            }
        },
        setListenerPosition: {
            value: function(e, t, n) {
                return w(l.default.context.listener, v.get(e, t, n))
            }
        },
        setListenerOrientation: {
            value: function(e, t, n) {
                return b(l.default.context.listener, v.get(e, t, n))
            }
        }
    }), t.default = k
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = n(154),
        i = ((o = n(376)) && o.__esModule ? o : {
            default: o
        }).default.data[window.infos.locale];

    function a(e) {
        return new RegExp("\\%\\{" + e + "\\}", "g")
    }

    function s(e, t) {
        var n = i;
        return e.split(".").forEach(function(e) {
            n = n && void 0 !== n[e] && null !== n[e] ? n[e] : null
        }), t ? (0, r.template)(n, t, a) : n || e
    }

    function l(e, t, n) {
        var o = e,
            r = {};
        "string" == typeof e ? o = e : (o = e.tag, r = e);
        var i = Object.keys(r).map(function(e) {
            return "tag" === e ? "" : "".concat(e, '="').concat(r[e], '"')
        }).join(" ");
        return {
            template: "<".concat(o, " ").concat(i, ">").concat(s(t, n), "</").concat(o, ">")
        }
    }
    var u = {
        t: s,
        translate: s,
        tComponent: l,
        translateComponent: l,
        hasTranslation: function(e, t) {
            var n = s(e, t);
            return !(!n || 0 === n.length || n === e)
        },
        locales: i
    };
    t.default = u, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = u(n(156)),
            a = u(n(4)),
            s = u(n(383)),
            l = u(n(155));

        function u(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function c(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var f, p, d, h, y, v, _ = new(f = (r = function() {
            function e() {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this._bind()
            }
            var t, n;
            return t = e, (n = [{
                key: "destroy",
                value: function() {
                    this._unbind()
                }
            }, {
                key: "_bind",
                value: function() {
                    a.default.context.initialized.add(this._init)
                }
            }, {
                key: "_unbind",
                value: function() {
                    a.default.context.initialized.remove(this._init)
                }
            }, {
                key: "_init",
                value: function() {
                    this.debugMaterial = new i.default({
                        color: 16711680,
                        transparent: !0,
                        opacity: .3
                    }), this.debugMaterial2 = new i.default({
                        color: 16711935,
                        transparent: !0,
                        depthTest: !1,
                        opacity: 1,
                        wireframe: !0,
                        side: THREE.DoubleSide
                    }), this.depthMaterial = new s.default, this.depthMaterialSkinning = new s.default({
                        skinning: !0
                    }), this.instancedDepthMaterial = new l.default
                }
            }]) && c(t.prototype, n), e
        }()).prototype, p = "_init", d = [o], h = Object.getOwnPropertyDescriptor(r.prototype, "_init"), y = r.prototype, v = {}, Object.keys(h).forEach(function(e) {
            v[e] = h[e]
        }), v.enumerable = !!v.enumerable, v.configurable = !!v.configurable, ("value" in v || v.initializer) && (v.writable = !0), v = d.slice().reverse().reduce(function(e, t) {
            return t(f, p, e) || e
        }, v), y && void 0 !== v.initializer && (v.value = v.initializer ? v.initializer.call(y) : void 0, v.initializer = void 0), void 0 === v.initializer && (Object.defineProperty(f, p, v), v = null), r);
        t.default = _, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0;
    var o, r = (o = n(182)) && o.__esModule ? o : {
        default: o
    };
    t.default = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), (0, r.default)(e, o.key, o)
            }
        }
        return function(t, n, o) {
            return n && e(t.prototype, n), o && e(t, o), t
        }
    }()
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0;
    var o = a(n(405)),
        r = a(n(401)),
        i = a(n(112));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t.default = function(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + (void 0 === t ? "undefined" : (0, i.default)(t)));
        e.prototype = (0, r.default)(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (o.default ? (0, o.default)(e, t) : e.__proto__ = t)
    }
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0;
    var o, r = (o = n(112)) && o.__esModule ? o : {
        default: o
    };
    t.default = function(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" !== (void 0 === t ? "undefined" : (0, r.default)(t)) && "function" != typeof t ? e : t
    }
}, function(e, t) {
    t.f = {}.propertyIsEnumerable
}, function(e, t, n) {
    var o = n(27),
        r = n(47),
        i = n(109),
        a = n(101),
        s = n(34).f;
    e.exports = function(e) {
        var t = r.Symbol || (r.Symbol = i ? {} : o.Symbol || {});
        "_" == e.charAt(0) || e in t || s(t, e, {
            value: a.f(e)
        })
    }
}, function(e, t, n) {
    t.f = n(43)
}, function(e, t, n) {
    var o = n(34).f,
        r = n(32),
        i = n(43)("toStringTag");
    e.exports = function(e, t, n) {
        e && !r(e = n ? e : e.prototype, i) && o(e, i, {
            configurable: !0,
            value: t
        })
    }
}, function(e, t) {
    e.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
}, function(e, t, n) {
    var o = n(27),
        r = o["__core-js_shared__"] || (o["__core-js_shared__"] = {});
    e.exports = function(e) {
        return r[e] || (r[e] = {})
    }
}, function(e, t, n) {
    var o = n(104)("keys"),
        r = n(80);
    e.exports = function(e) {
        return o[e] || (o[e] = r(e))
    }
}, function(e, t, n) {
    var o = n(166),
        r = n(103);
    e.exports = Object.keys || function(e) {
        return o(e, r)
    }
}, function(e, t, n) {
    var o = n(63),
        r = n(427),
        i = n(103),
        a = n(105)("IE_PROTO"),
        s = function() {},
        l = function() {
            var e, t = n(179)("iframe"),
                o = i.length;
            for (t.style.display = "none", n(422).appendChild(t), t.src = "javascript:", (e = t.contentWindow.document).open(), e.write("<script>document.F=Object<\/script>"), e.close(), l = e.F; o--;) delete l.prototype[i[o]];
            return l()
        };
    e.exports = Object.create || function(e, t) {
        var n;
        return null !== e ? (s.prototype = o(e), n = new s, s.prototype = null, n[a] = e) : n = l(), void 0 === t ? n : r(n, t)
    }
}, function(e, t) {
    e.exports = {}
}, function(e, t) {
    e.exports = !0
}, function(e, t) {
    e.exports = function(e) {
        if (void 0 == e) throw TypeError("Can't call method on  " + e);
        return e
    }
}, function(e, t) {
    var n = Math.ceil,
        o = Math.floor;
    e.exports = function(e) {
        return isNaN(e = +e) ? 0 : (e > 0 ? o : n)(e)
    }
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0;
    var o = a(n(432)),
        r = a(n(415)),
        i = "function" == typeof r.default && "symbol" == typeof o.default ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof r.default && e.constructor === r.default && e !== r.default.prototype ? "symbol" : typeof e
        };

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t.default = "function" == typeof r.default && "symbol" === i(o.default) ? function(e) {
        return void 0 === e ? "undefined" : i(e)
    } : function(e) {
        return e && "function" == typeof r.default && e.constructor === r.default && e !== r.default.prototype ? "symbol" : void 0 === e ? "undefined" : i(e)
    }
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0;
    var o, r = (o = n(62)) && o.__esModule ? o : {
            default: o
        },
        i = function() {
            function e(t) {
                var n = this;
                (0, r.default)(this, e), this.context = t, this._destination = null, this._source = null, this._nodes = [], this._nodes.has = function(e) {
                    return n.has(e)
                }, this._nodes.add = function(e) {
                    return n.add(e)
                }, this._nodes.remove = function(e) {
                    return n.remove(e)
                }, this._nodes.toggle = function(e, t) {
                    return n.toggle(e, t)
                }, this._nodes.removeAll = function() {
                    return n.removeAll()
                }, Object.keys(e.prototype).forEach(function(t) {
                    n._nodes.hasOwnProperty(t) || "function" != typeof e.prototype[t] || (n._nodes[t] = n[t].bind(n))
                })
            }
            return e.prototype.setSource = function(e) {
                return this._source = e, this._updateConnections(), e
            }, e.prototype.setDestination = function(e) {
                return this._connectToDestination(e), e
            }, e.prototype.has = function(e) {
                return !!e && this._nodes.indexOf(e) > -1
            }, e.prototype.add = function(e) {
                if (!e) return null;
                if (this.has(e)) return e;
                if (Array.isArray(e)) {
                    for (var t = void 0, n = 0; n < e.length; n++) t = this.add(e[n]);
                    return t
                }
                return this._nodes.push(e), this._updateConnections(), e
            }, e.prototype.remove = function(e) {
                if (!e) return null;
                if (!this.has(e)) return e;
                for (var t = this._nodes.length, n = 0; n < t; n++)
                    if (e === this._nodes[n]) {
                        this._nodes.splice(n, 1);
                        break
                    }
                return e.disconnect(), this._updateConnections(), e
            }, e.prototype.toggle = function(e, t) {
                t = !!t;
                var n = this.has(e);
                return arguments.length > 1 && n === t ? this : (n ? this.remove(e) : this.add(e), this)
            }, e.prototype.removeAll = function() {
                for (; this._nodes.length;) this._nodes.pop().disconnect();
                return this._updateConnections(), this
            }, e.prototype.destroy = function() {
                this.removeAll(), this.context = null, this._destination = null, this._source && this._source.disconnect(), this._source = null
            }, e.prototype._connect = function(e, t) {
                e.disconnect(), e.connect(t._in || t)
            }, e.prototype._connectToDestination = function(e) {
                var t = this._nodes[this._nodes.length - 1] || this._source;
                t && this._connect(t, e), this._destination = e
            }, e.prototype._updateConnections = function() {
                if (this._source) {
                    for (var e = void 0, t = void 0, n = 0; n < this._nodes.length; n++) e = this._nodes[n], t = 0 === n ? this._source : this._nodes[n - 1], this._connect(t, e);
                    this._destination && this._connectToDestination(this._destination)
                }
            }, e
        }();
    t.default = i
}, function(e, t) {
    e.exports = function(e) {
        try {
            return !!e()
        } catch (e) {
            return !0
        }
    }
}, function(e, t, n) {
    e.exports = !n(114)(function() {
        return 7 != Object.defineProperty({}, "a", {
            get: function() {
                return 7
            }
        }).a
    })
}, function(e, t) {
    e.exports = function(e) {
        return "object" == typeof e ? null !== e : "function" == typeof e
    }
}, function(e, t) {
    var n = e.exports = {
        version: "2.5.4"
    };
    "number" == typeof __e && (__e = n)
}, function(e, t, n) {
    var o = n(45);
    e.exports = function(e, t) {
        if (!o(e)) return e;
        var n, r;
        if (t && "function" == typeof(n = e.toString) && !o(r = n.call(e))) return r;
        if ("function" == typeof(n = e.valueOf) && !o(r = n.call(e))) return r;
        if (!t && "function" == typeof(n = e.toString) && !o(r = n.call(e))) return r;
        throw TypeError("Can't convert object to primitive value")
    }
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = u(n(20)),
            a = u(n(19)),
            s = u(n(14)),
            l = u(n(11));

        function u(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function c(e) {
            return (c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function f(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function p(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var d = new THREE.Vector2,
            h = (p((r = function(e) {
                function t(e) {
                    var n, o = e.fov,
                        r = void 0 === o ? 75 : o,
                        s = e.aspect,
                        l = void 0 === s ? a.default.aspect : s,
                        u = e.near,
                        f = void 0 === u ? 1 : u,
                        p = e.far,
                        d = void 0 === p ? 1e5 : p,
                        h = e.name,
                        y = void 0 === h ? "Camera" : h,
                        v = e.isDefault,
                        _ = void 0 !== v && v;
                    return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t), (n = function(e, t) {
                        if (t && ("object" === c(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, r, l, f, d))).name = y, n.isDefault = _, n._state = i.default, n._guiIsCreated = !1, n._helper = null, n._charPos = new THREE.Vector3, n._cameraDirection = new THREE.Vector3, n._cameraAngle = 0, n._bind(), n._createHelper(), n
                }
                var n, o;
                return function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }(t, THREE.PerspectiveCamera), n = t, (o = [{
                    key: "createGUI",
                    value: function(e) {
                        var t = this,
                            n = e.addFolder(this.name);
                        n.add(this, "near", 1, 1e4, 1).name("Near").onChange(function(e) {
                            return t.updateProjectionMatrix()
                        }), n.add(this, "far", 1, 1e4, 1).name("Far").onChange(function(e) {
                            return t.updateProjectionMatrix()
                        }), n.add(this, "fov", 0, 180, 1).name("FOV").onChange(function(e) {
                            return t.updateProjectionMatrix()
                        }), this._helper && n.add(this._helper, "visible").name("Camera helper");
                        var o = n.addFolder("Position");
                        o.add({
                            log: function() {
                                return console.log(t.position)
                            }
                        }, "log").name("Log"), o.add(this.position, "x").step(.1).name("X"), o.add(this.position, "y").step(.1).name("Y"), o.add(this.position, "z").step(.1).name("Z");
                        var r = n.addFolder("Rotation");
                        return r.add({
                            log: function() {
                                return console.log(t.rotation)
                            }
                        }, "log").name("Log"), r.add(this.rotation, "x").step(.01).name("X"), r.add(this.rotation, "y").step(.01).name("Y"), r.add(this.rotation, "z").step(.01).name("Z"), n
                    }
                }, {
                    key: "start",
                    value: function() {}
                }, {
                    key: "stop",
                    value: function() {}
                }, {
                    key: "update",
                    value: function(e, t) {
                        this._helper && this._helper.visible && (this.updateMatrixWorld(), this._helper.update()), this._computeCameraAngle()
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        (function e(t, n, o) {
                            null === t && (t = Function.prototype);
                            var r = Object.getOwnPropertyDescriptor(t, n);
                            if (void 0 === r) {
                                var i = Object.getPrototypeOf(t);
                                return null === i ? void 0 : e(i, n, o)
                            }
                            if ("value" in r) return r.value;
                            var a = r.get;
                            return void 0 !== a ? a.call(o) : void 0
                        })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "remove", this).call(this), this._unbind(), this._destroyHelper()
                    }
                }, {
                    key: "_bind",
                    value: function() {
                        s.default.downed.add(this._onKeyDown), a.default.resized.add(this._handleWindowResize)
                    }
                }, {
                    key: "_unbind",
                    value: function() {
                        s.default.downed.remove(this._onKeyDown), a.default.resized.remove(this._handleWindowResize)
                    }
                }, {
                    key: "_handleWindowResize",
                    value: function(e, t) {
                        this.aspect = e / t, this.updateProjectionMatrix()
                    }
                }, {
                    key: "_onKeyDown",
                    value: function(e, t) {}
                }, {
                    key: "_createHelper",
                    value: function() {
                        this._helper = new THREE.CameraHelper(this), this._helper.name = "CameraHelper", this._helper.material.fog = !1
                    }
                }, {
                    key: "_destroyHelper",
                    value: function() {
                        this._helper && this._helper.remove()
                    }
                }, {
                    key: "_computeCameraAngle",
                    value: function() {
                        var e = l.default.scene.character;
                        e && (this._charPos.copy(e.position), this._cameraDirection.copy(this._charPos).sub(this.position), this._cameraAngle = d.set(this._cameraDirection.x, this._cameraDirection.z).angle() - Math.PI)
                    }
                }, {
                    key: "helper",
                    get: function() {
                        return this._helper
                    }
                }, {
                    key: "cameraAngle",
                    get: function() {
                        return this._cameraAngle
                    }
                }]) && f(n.prototype, o), t
            }()).prototype, "_handleWindowResize", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleWindowResize"), r.prototype), p(r.prototype, "_onKeyDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onKeyDown"), r.prototype), r);
        t.default = h, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e, t, n, o, i) {
        return e.add(t, o).name((0, r.default)(i))
    };
    var o, r = (o = n(22)) && o.__esModule ? o : {
        default: o
    };
    e.exports = t.default
}, function(e, t, n) {
    "use strict";

    function o() {
        return (o = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var r = o({}, function(e) {
        if (e && e.__esModule) return e;
        var t = {};
        if (null != e)
            for (var n in e)
                if (Object.prototype.hasOwnProperty.call(e, n)) {
                    var o = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(e, n) : {};
                    o.get || o.set ? Object.defineProperty(t, n, o) : t[n] = e[n]
                }
        return t.default = e, t
    }(n(123)), {
        shuffle: n(567).shuffle
    });
    t.default = r, e.exports = t.default
}, function(e, t, n) {
    (function(o) {
        var r;
        ! function(i) {
            "use strict";
            void 0 === (r = function(e) {
                var t, r = "undefined" != typeof setTimeout && setTimeout,
                    i = function(e, t) {
                        return setTimeout(e, t)
                    },
                    a = function(e) {
                        return clearTimeout(e)
                    },
                    s = function(e) {
                        return r(e, 0)
                    };
                if (void 0 !== o && "[object process]" === Object.prototype.toString.call(o)) s = function(e) {
                    return o.nextTick(e)
                };
                else if (t = "undefined" != typeof MutationObserver && MutationObserver || "undefined" != typeof WebKitMutationObserver && WebKitMutationObserver) s = function(e) {
                    var t, n = document.createTextNode("");
                    new e(function() {
                        var e = t;
                        t = void 0, e()
                    }).observe(n, {
                        characterData: !0
                    });
                    var o = 0;
                    return function(e) {
                        t = e, n.data = o ^= 1
                    }
                }(t);
                else if (!r) {
                    var l = n(606);
                    i = function(e, t) {
                        return l.setTimer(t, e)
                    }, a = l.cancelTimer, s = l.runOnLoop || l.runOnContext
                }
                return {
                    setTimer: i,
                    clearTimer: a,
                    asap: s
                }
            }.call(t, n, t, e)) || (e.exports = r)
        }(n(9))
    }).call(this, n(38))
}, function(e, t, n) {
    e.exports = n(614)
}, , , , , , , , , , , , , function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i, a = (r = n(7)) && r.__esModule ? r : {
            default: r
        };

        function s(e) {
            return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function l(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function u(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : u(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }

        function c(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var f = (c((i = function(e) {
            function t() {
                return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                    function(e, t) {
                        if (t && ("object" === s(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
            }
            var o, r;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, a.default), o = t, (r = [{
                key: "init",
                value: function() {
                    this.$name = "pause-btn"
                }
            }, {
                key: "mounted",
                value: function() {
                    u(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "mounted", this).call(this), this._bind()
                }
            }, {
                key: "beforeDestroy",
                value: function() {
                    clearTimeout(this._bindTimeout), this._unbind(), u(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "beforeDestroy", this).call(this)
                }
            }, {
                key: "_bind",
                value: function() {
                    this._signals.loader.started.add(this._onLoaderStart), this._signals.loader.hidden.add(this._onLoaderHide), this._signals.pause.shown.add(this._onPauseShow), this._signals.pause.hidden.add(this._onPauseHide), this.$el.addEventListener("click", this._handleClick, !1)
                }
            }, {
                key: "_unbind",
                value: function() {
                    this._signals.loader.started.remove(this._onLoaderStart), this._signals.loader.hidden.remove(this._onLoaderHide), this._signals.pause.shown.remove(this._onPauseShow), this._signals.pause.hidden.remove(this._onPauseHide), this.$el.removeEventListener("click", this._handleClick, !1)
                }
            }, {
                key: "_handleClick",
                value: function() {
                    this._signals.pause.toggle.dispatch()
                }
            }, {
                key: "_onLoaderStart",
                value: function() {
                    this.$el.classList.remove("pause-btn--is-visible")
                }
            }, {
                key: "_onLoaderHide",
                value: function() {
                    this.$el.classList.add("pause-btn--is-visible")
                }
            }, {
                key: "_onPauseShow",
                value: function() {
                    this.$el.classList.add("pause-btn--is-active")
                }
            }, {
                key: "_onPauseHide",
                value: function() {
                    this.$el.classList.remove("pause-btn--is-active")
                }
            }, {
                key: "template",
                get: function() {
                    return n(245)
                }
            }, {
                key: "components",
                get: function() {
                    return {}
                }
            }]) && l(o.prototype, r), t
        }()).prototype, "_handleClick", [o], Object.getOwnPropertyDescriptor(i.prototype, "_handleClick"), i.prototype), c(i.prototype, "_onLoaderStart", [o], Object.getOwnPropertyDescriptor(i.prototype, "_onLoaderStart"), i.prototype), c(i.prototype, "_onLoaderHide", [o], Object.getOwnPropertyDescriptor(i.prototype, "_onLoaderHide"), i.prototype), c(i.prototype, "_onPauseShow", [o], Object.getOwnPropertyDescriptor(i.prototype, "_onPauseShow"), i.prototype), c(i.prototype, "_onPauseHide", [o], Object.getOwnPropertyDescriptor(i.prototype, "_onPauseHide"), i.prototype), i);
        t.default = f, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = c(n(7)),
            a = c(n(60)),
            s = c(n(11)),
            l = c(n(12)),
            u = n(6);

        function c(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function f(e) {
            return (f = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function p(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function d(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : d(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }

        function h(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var y = (h((r = function(e) {
            function t() {
                return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                    function(e, t) {
                        if (t && ("object" === f(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
            }
            var o, r;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), o = t, (r = [{
                key: "init",
                value: function() {
                    this.$name = "pause", this._mode = "main", this._binded = !1, this._currentSelection = null, this._state.pauseDisplayed = !1, this._steps = ["keyboard", "gamepad", "toggleQwerty", "leave", "credits", "toggle"], this._directions = {
                        keyboard: {
                            right: "gamepad",
                            down: "topToBottom"
                        },
                        gamepad: {
                            left: "keyboard",
                            down: "topToBottom"
                        },
                        toggleQwerty: {
                            up: "gamepad",
                            down: "credits"
                        },
                        leave: {
                            up: "bottomToTop",
                            right: "credits"
                        },
                        credits: {
                            up: "bottomToTop",
                            left: "leave",
                            right: "toggle"
                        },
                        toggle: {
                            up: "bottomToTop",
                            left: "credits"
                        }
                    }, this._aboutBlackList = ["keyboard", "gamepad", "toggleQwerty"]
                }
            }, {
                key: "mounted",
                value: function() {
                    d(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "mounted", this).call(this), this._sceneName = this.$props["scene-name"], this._sceneLocales = this._locales[this._sceneName], this._signals.pause.toggle.add(this._toggle), this._signals.scene.started.add(this._onSceneStart);
                    var e = this._sceneLocales.title.main,
                        n = this._sceneLocales.title.sub;
                    this.$els.title.innerHTML = "".concat(e, " - ").concat(n), this._layoutMode = l.default.isConnected ? "gamepad" : "keyboard", this.$el.classList.add("pause--is-".concat(this._layoutMode, "-layout")), this._save.get("global.qwerty") && this.$els.checkbox.classList.add("pause__checkbox--is-qwerty"), this._setSelection(l.default.isConnected ? "gamepad" : "keyboard", !0)
                }
            }, {
                key: "beforeDestroy",
                value: function() {
                    clearTimeout(this._bindTimeout), this._unbind(), d(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "beforeDestroy", this).call(this)
                }
            }, {
                key: "_bind",
                value: function() {
                    if (!this._binded && this.$el) {
                        this._binded = !0, a.default.direction.add(this._onDirection), a.default.validate.add(this._onValidate), a.default.pause.add(this._onPause), l.default.connected.add(this._onGamepadConnect), l.default.buttonDowned.add(this._onButtonDowned), this.$els.overlay.addEventListener("click", this._handleOverlayClick, !1), this.$els.leave.addEventListener("click", this._handleLeaveClick, !1), this.$els.credits.addEventListener("click", this._handleCreditsClick, !1), this.$els.toggle.addEventListener("click", this._handleToggleClick, !1), this.$els.gamepad.addEventListener("click", this._handleGamepadClick, !1), this.$els.keyboard.addEventListener("click", this._handleKeyboardClick, !1), this.$els.toggleQwerty.addEventListener("click", this._handleToggleQwertyClick, !1);
                        for (var e = 0, t = this._steps.length; e < t; e++) {
                            var n = this._steps[e];
                            this.$els[n].addEventListener("mouseenter", this._handleElMouseEnter)
                        }
                    }
                }
            }, {
                key: "_unbind",
                value: function() {
                    if (this._binded) {
                        this._binded = !1, this._signals.pause.toggle.remove(this._toggle), this._signals.scene.started.remove(this._onSceneStart), a.default.direction.remove(this._onDirection), a.default.validate.remove(this._onValidate), a.default.pause.remove(this._onPause), l.default.connected.remove(this._onGamepadConnect), l.default.buttonDowned.remove(this._onButtonDowned), this.$els.overlay.removeEventListener("click", this._handleOverlayClick, !1), this.$els.leave.removeEventListener("click", this._handleLeaveClick, !1), this.$els.credits.removeEventListener("click", this._handleCreditsClick, !1), this.$els.toggle.removeEventListener("click", this._handleToggleClick, !1), this.$els.gamepad.removeEventListener("click", this._handleGamepadClick, !1), this.$els.keyboard.removeEventListener("click", this._handleKeyboardClick, !1), this.$els.toggleQwerty.removeEventListener("click", this._handleToggleQwertyClick, !1);
                        for (var e = 0, t = this._steps.length; e < t; e++) {
                            var n = this._steps[e];
                            this.$els[n].removeEventListener("mouseenter", this._handleElMouseEnter)
                        }
                    }
                }
            }, {
                key: "_toggle",
                value: function() {
                    this._state.pauseDisplayed ? this._hide() : this._show()
                }
            }, {
                key: "_show",
                value: function() {
                    this._setSelection(l.default.isConnected ? "gamepad" : "keyboard", !0), this._mode = "main", this.$el.classList.remove("pause--is-about-mode"), this._state.pauseDisplayed = !0, this.$el.classList.add("pause--is-visible"), this._signals.pause.shown.dispatch(), this._rootTl = TimelineLite.exportRoot(), this._rootTl.pause(), s.default.pause(), this._sounds.play("woosh-3"), this._sounds.get("walking").volume = 0, (0, u.event)("pause", "pause-show")
                }
            }, {
                key: "_hide",
                value: function() {
                    this._state.pauseDisplayed = !1, this.$el.classList.remove("pause--is-visible"), this._signals.pause.hidden.dispatch(), s.default.resume(), this._rootTl && this._rootTl.play(), this._sounds.play("woosh-2")
                }
            }, {
                key: "_leave",
                value: function() {
                    this._router.navigate("/"), (0, u.event)("pause", "pause-leave")
                }
            }, {
                key: "_goToCredits",
                value: function() {
                    this._router.navigate("/credits"), (0, u.event)("pause", "pause-credits")
                }
            }, {
                key: "_setSelection",
                value: function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                    if ("keyboard" === this._layoutMode ? "topToBottom" !== e && "bottomToTop" !== e || (e = "toggleQwerty") : "gamepad" === this._layoutMode && ("topToBottom" === e ? e = "keyboard" === this._currentSelection ? "leave" : "toggle" : "bottomToTop" === e && (e = "leave" === this._currentSelection ? "keyboard" : "gamepad")), !("about" === this._mode && this._aboutBlackList.indexOf(e) > -1) && this._currentSelection !== e) {
                        this._currentSelection = e;
                        for (var n = 0, o = this._steps.length; n < o; n++) {
                            var r = this._steps[n];
                            this.$els[r].classList.toggle("is-active", e === r)
                        }
                        t || this._sounds.play("interface-soft-stone")
                    }
                }
            }, {
                key: "_toggleMode",
                value: function() {
                    "main" === this._mode ? (this._mode = "about", (0, u.event)("pause", "pause-about")) : (this._mode = "main", (0, u.event)("pause", "pause-main")), this.$el.classList.toggle("pause--is-about-mode", "about" === this._mode)
                }
            }, {
                key: "_showKeyboardLayout",
                value: function() {
                    this._layoutMode = "keyboard", this.$el.classList.remove("pause--is-gamepad-layout"), this.$el.classList.add("pause--is-keyboard-layout")
                }
            }, {
                key: "_showGamepadLayout",
                value: function() {
                    this._layoutMode = "gamepad", this.$el.classList.remove("pause--is-keyboard-layout"), this.$el.classList.add("pause--is-gamepad-layout")
                }
            }, {
                key: "_toggleQwerty",
                value: function() {
                    var e = this._save.get("global.qwerty");
                    this._save.set("global.qwerty", !e), this.$els.checkbox.classList.toggle("pause__checkbox--is-qwerty", !e), (0, u.event)("pause", "pause-toggle-azerty", e)
                }
            }, {
                key: "_handleOverlayClick",
                value: function() {
                    this._hide()
                }
            }, {
                key: "_handleLeaveClick",
                value: function() {
                    this._leave()
                }
            }, {
                key: "_handleCreditsClick",
                value: function() {
                    this._goToCredits()
                }
            }, {
                key: "_handleToggleClick",
                value: function() {
                    this._toggleMode()
                }
            }, {
                key: "_handleGamepadClick",
                value: function() {
                    this._showGamepadLayout()
                }
            }, {
                key: "_handleKeyboardClick",
                value: function() {
                    this._showKeyboardLayout()
                }
            }, {
                key: "_handleToggleQwertyClick",
                value: function() {
                    this._toggleQwerty()
                }
            }, {
                key: "_handleElMouseEnter",
                value: function(e) {
                    var t = e.currentTarget.getAttribute("data-id");
                    this._setSelection(t)
                }
            }, {
                key: "_onSceneStart",
                value: function() {
                    var e = this;
                    this._bindTimeout = setTimeout(function() {
                        e._bind()
                    }, 7e3)
                }
            }, {
                key: "_onPause",
                value: function() {
                    this._toggle()
                }
            }, {
                key: "_onGamepadConnect",
                value: function() {
                    this._showGamepadLayout(), "main" === this._mode && this._setSelection("gamepad", !0)
                }
            }, {
                key: "_onButtonDowned",
                value: function(e) {
                    this._state.pauseDisplayed && "button_2" === e && "about" === this._mode && this._toggleMode()
                }
            }, {
                key: "_onDirection",
                value: function(e, t) {
                    if (this._state.pauseDisplayed) {
                        var n = this._directions[this._currentSelection];
                        if (n && n[t]) {
                            var o = n[t];
                            o && this._setSelection(o)
                        }
                    }
                }
            }, {
                key: "_onValidate",
                value: function(e, t) {
                    if (this._state.pauseDisplayed) {
                        var n = !0;
                        switch (this._currentSelection) {
                            case "keyboard":
                                this._showKeyboardLayout();
                                break;
                            case "gamepad":
                                this._showGamepadLayout();
                                break;
                            case "toggleQwerty":
                                this._toggleQwerty();
                                break;
                            case "leave":
                                this._leave();
                                break;
                            case "credits":
                                this._goToCredits();
                                break;
                            case "toggle":
                                this._toggleMode();
                                break;
                            default:
                                n = !1
                        }
                        n && this._sounds.play("active-selection")
                    }
                }
            }, {
                key: "template",
                get: function() {
                    return n(246)
                }
            }, {
                key: "components",
                get: function() {
                    return {}
                }
            }]) && p(o.prototype, r), t
        }()).prototype, "_toggle", [o], Object.getOwnPropertyDescriptor(r.prototype, "_toggle"), r.prototype), h(r.prototype, "_handleOverlayClick", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleOverlayClick"), r.prototype), h(r.prototype, "_handleLeaveClick", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleLeaveClick"), r.prototype), h(r.prototype, "_handleCreditsClick", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleCreditsClick"), r.prototype), h(r.prototype, "_handleToggleClick", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleToggleClick"), r.prototype), h(r.prototype, "_handleGamepadClick", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleGamepadClick"), r.prototype), h(r.prototype, "_handleKeyboardClick", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleKeyboardClick"), r.prototype), h(r.prototype, "_handleToggleQwertyClick", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleToggleQwertyClick"), r.prototype), h(r.prototype, "_handleElMouseEnter", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleElMouseEnter"), r.prototype), h(r.prototype, "_onSceneStart", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onSceneStart"), r.prototype), h(r.prototype, "_onPause", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPause"), r.prototype), h(r.prototype, "_onGamepadConnect", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onGamepadConnect"), r.prototype), h(r.prototype, "_onButtonDowned", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onButtonDowned"), r.prototype), h(r.prototype, "_onDirection", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onDirection"), r.prototype), h(r.prototype, "_onValidate", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onValidate"), r.prototype), r);
        t.default = y, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i, a = (r = n(7)) && r.__esModule ? r : {
            default: r
        };

        function s(e) {
            return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function l(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function u(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : u(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }

        function c(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var f = (0, n(3).getLogger)("Instructions", "#fd79a8", !1),
            p = (c((i = function(e) {
                function t() {
                    return function(e, t) {
                            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                        }(this, t),
                        function(e, t) {
                            if (t && ("object" === s(t) || "function" == typeof t)) return t;
                            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                            return e
                        }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
                }
                var o, r;
                return function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }(t, a.default), o = t, (r = [{
                    key: "init",
                    value: function() {
                        this.$name = "instructions"
                    }
                }, {
                    key: "mounted",
                    value: function() {
                        u(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "mounted", this).call(this), this._bind()
                    }
                }, {
                    key: "beforeDestroy",
                    value: function() {
                        u(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "beforeDestroy", this).call(this), this._unbind()
                    }
                }, {
                    key: "_createTl",
                    value: function(e) {}
                }, {
                    key: "_bind",
                    value: function() {
                        this._signals.instructions.show.add(this._show), this._signals.instructions.hide.add(this._hide), this._signals.character.reseted.add(this._onCharReset)
                    }
                }, {
                    key: "_unbind",
                    value: function() {
                        this._signals.instructions.show.remove(this._show), this._signals.instructions.hide.remove(this._hide), this._signals.character.reseted.remove(this._onCharReset)
                    }
                }, {
                    key: "_show",
                    value: function(e) {
                        var t = e.match(/\[\[[a-zA-Z0-9-]*\]\]/g);
                        if (t)
                            for (var n = 0, o = t.length; n < o; n++) {
                                var r = t[n],
                                    i = r.replace("[[", "").replace("]]", "").toLowerCase();
                                e = e.replace(r, '<span class="introduction__input introduction__input--'.concat(i, '"></span>'))
                            }
                        this.$els.text.innerHTML = e, this.$el.classList.add("instructions--is-visible"), this._sounds.play("helper"), f("Show", e)
                    }
                }, {
                    key: "_hide",
                    value: function() {
                        this.$el.classList.remove("instructions--is-visible"), f("Hide")
                    }
                }, {
                    key: "_onCharReset",
                    value: function() {
                        this._hide()
                    }
                }, {
                    key: "template",
                    get: function() {
                        return n(247)
                    }
                }, {
                    key: "components",
                    get: function() {
                        return {}
                    }
                }]) && l(o.prototype, r), t
            }()).prototype, "_show", [o], Object.getOwnPropertyDescriptor(i.prototype, "_show"), i.prototype), c(i.prototype, "_hide", [o], Object.getOwnPropertyDescriptor(i.prototype, "_hide"), i.prototype), c(i.prototype, "_onCharReset", [o], Object.getOwnPropertyDescriptor(i.prototype, "_onCharReset"), i.prototype), i);
        t.default = p, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = u(n(7)),
            a = n(121),
            s = n(2),
            l = u(n(11));

        function u(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function c(e) {
            return (c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function f(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function p(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : p(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }

        function d(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var h = (d((r = function(e) {
            function t() {
                return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                    function(e, t) {
                        if (t && ("object" === c(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
            }
            var o, r;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), o = t, (r = [{
                key: "init",
                value: function() {
                    this.$name = "big-msg", this._msgs = {}, this._lvlLocales = this._locales.level, this._delayedCb = null
                }
            }, {
                key: "mounted",
                value: function() {
                    p(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "mounted", this).call(this), this._bind(), this._initMsgs("death_title"), this._initMsgs("death_laser"), this._initMsgs("death_fall"), this._initMsgs("death_thunder"), "function" == typeof this._delayedCb && this._delayedCb()
                }
            }, {
                key: "beforeDestroy",
                value: function() {
                    p(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "beforeDestroy", this).call(this), this._unbind(), this.$el.classList.remove("big-msg--is-visible"), this._showTl && (this._showTl.kill(), this._showTl.clear())
                }
            }, {
                key: "_initMsgs",
                value: function(e) {
                    var t = [],
                        n = this._lvlLocales[e];
                    for (var o in n) t.push(n[o]);
                    return (0, a.shuffle)(t), this._msgs[e] = t, t
                }
            }, {
                key: "_createTl",
                value: function(e) {
                    var t = this,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                        o = arguments.length > 2 ? arguments[2] : void 0,
                        r = 1.1;
                    l.default.renderer.postProcessing.getPass("PostPass") && (r = l.default.scene.materialCtrl.defaultConfig.common.postProcessing.postPass.vignette), this._showTl && (this._showTl.pause(), this._showTl.kill()), this._showTl = new TimelineMax({
                        paused: !0,
                        onComplete: function() {
                            t._signals.postPass.vignetteAnimation.dispatch(1, r, 0, "in"), t.$el.classList.remove("big-msg--is-visible")
                        }
                    }), this._showTl.timeScale(n);
                    var i = new SplitText(this.$els.title, {
                            type: "words",
                            wordsClass: "word"
                        }),
                        a = new SplitText(this.$els.msg, {
                            type: "words",
                            wordsClass: "word"
                        });
                    i = i.words, a = a.words, this.$el.classList.add("big-msg--is-visible"), TweenMax.set([i, a], {
                        opacity: 0
                    }), this._showTl.set(i, {
                        z: 1e3,
                        opacity: 0
                    }, 0).set(a, {
                        opacity: 0
                    }, 0).addCallback(function() {
                        o && o()
                    }, e - .5).staggerTo(i, 1.5, {
                        z: 0,
                        opacity: 1,
                        force3D: !0,
                        ease: Elastic.easeOut.config(.4)
                    }, .1, e).staggerTo(a, 1.1, {
                        opacity: 1,
                        force3D: !0,
                        ease: Expo.easeOut
                    }, .05, e).staggerTo(i, 1, {
                        z: 1e3,
                        opacity: 0,
                        force3D: !0,
                        ease: Elastic.easeIn.config(.8)
                    }, .04, "+=1").to(a, 1, {
                        opacity: 0,
                        ease: Expo.easeOut
                    }, "-=1").addCallback(function() {
                        t._signals.postPass.vignetteAnimation.dispatch(1, r, 0, "in")
                    }, "-=.7"), this._showTl.play(0), this._tls.push(this._showTl)
                }
            }, {
                key: "_bind",
                value: function() {
                    this._signals.bigMsg.showLaserDeath.add(this._showLaserDeath), this._signals.bigMsg.showFallDeath.add(this._showFallDeath), this._signals.bigMsg.showThunderDeath.add(this._showThunderDeath), this._signals.bigMsg.showWaterDeath.add(this._showWaterDeath), this._signals.bigMsg.showTitleMessage.add(this._showTitleMessage)
                }
            }, {
                key: "_unbind",
                value: function() {
                    this._signals.bigMsg.showLaserDeath.remove(this._showLaserDeath), this._signals.bigMsg.showFallDeath.remove(this._showFallDeath), this._signals.bigMsg.showThunderDeath.remove(this._showThunderDeath), this._signals.bigMsg.showWaterDeath.remove(this._showWaterDeath), this._signals.bigMsg.showTitleMessage.remove(this._showTitleMessage)
                }
            }, {
                key: "_showTitleMessage",
                value: function(e, t) {
                    var n = this,
                        o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
                        r = function() {
                            n.$el.classList.add("big-msg--is-title"), n.$els.title.innerHTML = e, n.$els.msg.innerHTML = t, n._createTl(o, .7, function() {
                                n._sounds.play("woosh")
                            })
                        };
                    this.$el ? r() : this._delayedCb = r
                }
            }, {
                key: "_showLaserDeath",
                value: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                    this.$el.classList.remove("big-msg--is-title"), this._switchTitle("death_title"), this._switchMsg("death_laser"), this._createTl(e)
                }
            }, {
                key: "_showFallDeath",
                value: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                    this.$el.classList.remove("big-msg--is-title"), this._switchTitle("death_title"), this._switchMsg("death_fall"), this._createTl(e)
                }
            }, {
                key: "_showThunderDeath",
                value: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                    this.$el.classList.remove("big-msg--is-title"), this._switchTitle("death_title"), this._switchMsg("death_thunder"), this._createTl(e)
                }
            }, {
                key: "_showWaterDeath",
                value: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                    this.$el.classList.remove("big-msg--is-title"), this._switchTitle("death_title"), this._switchMsg("death_water"), this._createTl(e)
                }
            }, {
                key: "_switchTitle",
                value: function(e) {
                    this.$els.title.innerHTML = this._getTxt(e)
                }
            }, {
                key: "_switchMsg",
                value: function(e) {
                    this.$els.msg.innerHTML = this._getTxt(e)
                }
            }, {
                key: "_getTxt",
                value: function(e) {
                    this._msgs[e] && this._msgs[e].length || this._initMsgs(e);
                    var t = this._msgs[e],
                        n = (0, s.randomInt)(0, t.length - 1),
                        o = t[n];
                    return t.splice(n, 1), o
                }
            }, {
                key: "template",
                get: function() {
                    return n(248)
                }
            }, {
                key: "components",
                get: function() {
                    return {}
                }
            }]) && f(o.prototype, r), t
        }()).prototype, "_showTitleMessage", [o], Object.getOwnPropertyDescriptor(r.prototype, "_showTitleMessage"), r.prototype), d(r.prototype, "_showLaserDeath", [o], Object.getOwnPropertyDescriptor(r.prototype, "_showLaserDeath"), r.prototype), d(r.prototype, "_showFallDeath", [o], Object.getOwnPropertyDescriptor(r.prototype, "_showFallDeath"), r.prototype), d(r.prototype, "_showThunderDeath", [o], Object.getOwnPropertyDescriptor(r.prototype, "_showThunderDeath"), r.prototype), d(r.prototype, "_showWaterDeath", [o], Object.getOwnPropertyDescriptor(r.prototype, "_showWaterDeath"), r.prototype), r);
        t.default = h, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = c(n(7)),
            a = c(n(14)),
            s = c(n(12)),
            l = n(2),
            u = n(6);

        function c(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function f(e) {
            return (f = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function p() {
            return (p = Object.assign || function(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = arguments[t];
                    for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
                }
                return e
            }).apply(this, arguments)
        }

        function d(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function h(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : h(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }

        function y(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var v = (y((r = function(e) {
            function t() {
                return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                    function(e, t) {
                        if (t && ("object" === f(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
            }
            var o, r;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), o = t, (r = [{
                key: "init",
                value: function() {
                    this.$name = "powers", this._powerEnableIndex = 0, this._entered = !1, this._powerList = [], this._pictoAvailable = [], this._spritesCount = [{
                        value: 0
                    }, {
                        value: 0
                    }, {
                        value: 0
                    }], this._keyIsDown = !0, this._spriteData = this._loader.get("level.json.power"), this._framesData = this._spriteData.frames, this._frameNb = this._framesData.length, this._lastPowerEnable = Date.now(), this._cdLimits = [2, 7, 1.2], this._timersTl = [], this._indexSound = 0
                }
            }, {
                key: "mounted",
                value: function() {
                    h(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "mounted", this).call(this), this._previousPower = null, this._currentPower = 0, this._state.currentPower = 0, this._bind(), this._createTls()
                }
            }, {
                key: "beforeDestroy",
                value: function() {
                    h(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "beforeDestroy", this).call(this), TweenMax.killTweensOf(this.$el);
                    for (var e = 0, n = this.$els.powers.length; e < n; e++) TweenMax.killTweensOf(this.$els.powers[e]);
                    this._unbind()
                }
            }, {
                key: "data",
                value: function() {
                    for (var e = {}, n = 0; n < 3; n++) e["picto".concat(n, "-enable")] = this._loader.get("level.images.powers.picto_".concat(n, "_enable")).src, e["picto".concat(n, "-disable")] = this._loader.get("level.images.powers.picto_".concat(n, "_disable")).src, e["bg".concat(n, "-enable")] = this._loader.get("level.images.powers.bg_".concat(n, "_enable")).src, e["bg".concat(n, "-disable")] = this._loader.get("level.images.powers.bg_".concat(n, "_disable")).src;
                    return e["power-sprite"] = this._loader.get("level.images.powers.power_sprite").src, p({}, h(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "data", this).call(this), {
                        images: e
                    })
                }
            }, {
                key: "_bind",
                value: function() {
                    this._signals.powers.set.add(this._set), this._signals.powers.enter.add(this._enter), this._signals.powers.change.add(this._change), this._signals.powers.enabled.add(this._onPowerEnable), this._signals.powers.disabled.add(this._onPowerDisable), this._signals.powers.setCooldown.add(this._setCooldown), this._signals.pause.shown.dispatch(this._onPauseShow), this._signals.pause.hidden.dispatch(this._onPauseHide), this._signals.instructions.lvl1Power1Activated.add(this._onLvl1Power1Activate), this._signals.instructions.lvl2Power2Activated.add(this._onLvl2Power2Activate), this._signals.konami.toggle.add(this._onKonamiToggle), a.default.downed.add(this._onKeyDown), a.default.upped.add(this._onKeyUp), s.default.buttonDowned.add(this._onButtonDown), s.default.buttonUpped.add(this._onButtonUp);
                    for (var e = 0, t = this.$els.powers.length; e < t; e++) this.$els.powers[e].addEventListener("click", this._handlePowerClick, !1), this.$els.powers[e].addEventListener("mouseenter", this._handlePowerMouseEnter, !1), this.$els.powers[e].addEventListener("mouseleave", this._handlePowerMouseLeave, !1)
                }
            }, {
                key: "_unbind",
                value: function() {
                    this._signals.powers.set.remove(this._set), this._signals.powers.enter.remove(this._enter), this._signals.powers.change.remove(this._change), this._signals.powers.enabled.remove(this._onPowerEnable), this._signals.powers.disabled.remove(this._onPowerDisable), this._signals.powers.setCooldown.remove(this._setCooldown), this._signals.pause.shown.remove(this._onPauseShow), this._signals.pause.hidden.remove(this._onPauseHide), this._signals.konami.toggle.remove(this._onKonamiToggle), this._signals.instructions.lvl1Power1Activated.remove(this._onLvl1Power1Activate), this._signals.instructions.lvl2Power2Activated.remove(this._onLvl2Power2Activate), a.default.downed.remove(this._onKeyDown), a.default.upped.remove(this._onKeyUp), s.default.buttonDowned.remove(this._onButtonDown), s.default.buttonUpped.remove(this._onButtonUp);
                    for (var e = 0, t = this.$els.powers.length; e < t; e++) this.$els.powers[e].removeEventListener("click", this._handlePowerClick, !1), this.$els.powers[e].removeEventListener("mouseenter", this._handlePowerMouseEnter, !1), this.$els.powers[e].removeEventListener("mouseleave", this._handlePowerMouseLeave, !1);
                    for (var n = 0, o = this._timersTl.length; n < o; n++) this._timersTl[n].kill()
                }
            }, {
                key: "_set",
                value: function(e) {
                    this._powerList = [], this._pictoAvailable = [], this._powerEnableIndex = e;
                    for (var t = 0; t < 3; t++) {
                        var n = this.$els.powers[t];
                        n.classList.remove("powers__el--is-disabled"), t <= e ? (n.classList.add("powers__el--is-enabled"), this._pictoAvailable.push(this.$els.pictos[t]), this._powerList.push(n)) : n.classList.add("powers__el--is-disabled")
                    }
                }
            }, {
                key: "_createTls",
                value: function() {
                    var e = this;
                    this._spriteTls = [], this._pictoEnableTls = [], this._isUsingTls = [], this._cdTls = [];
                    for (var t = function(t, n) {
                            var o = new TimelineMax({
                                paused: !0,
                                onComplete: function() {}
                            });
                            e._spriteTls.push(o);
                            var r = e._spritesCount[t];
                            o.set(r, {
                                value: 0
                            }), o.to(r, 1, {
                                value: e._frameNb - 1,
                                ease: SteppedEase.config(e._frameNb),
                                onUpdate: function() {
                                    var n = Math.round(r.value),
                                        o = e._framesData[n].frame;
                                    e.$els.sprites[t].style.backgroundPosition = "".concat(-o.x, "px ").concat(-o.y, "px")
                                }
                            });
                            var i = new TimelineMax({
                                paused: !0,
                                yoyo: !0,
                                repeatDelay: .1,
                                repeat: -1
                            });
                            e._pictoEnableTls.push(i), i.fromTo(e.$els.pictos[t], .4, {
                                opacity: .7
                            }, {
                                opacity: 1,
                                ease: RoughEase.ease.config({
                                    template: Power0.easeNone,
                                    strength: 2,
                                    points: 50,
                                    taper: "none",
                                    randomize: !0,
                                    clamp: !1
                                })
                            });
                            var a = new TimelineMax({
                                paused: !0,
                                yoyo: !0,
                                repeatDelay: .1,
                                repeat: -1
                            });
                            e._isUsingTls.push(a), a.set(e.$els.powers[t], {
                                scale: .9
                            }).to(e.$els.powers[t], .25, {
                                scale: .85,
                                ease: Power0.easeNone
                            });
                            var s = new TimelineMax({
                                paused: !0,
                                onComplete: function() {
                                    e.$els.sprites[t].style.transform = "scale(".concat(0 === (0, l.randomInt)(0, 1) ? 1 : -1, ", ").concat(0 === (0, l.randomInt)(0, 1) ? 1 : -1, ")"), TweenMax.to(e.$els.powers[t], .2, {
                                        scale: 1.2,
                                        ease: Expo.easeOut
                                    }), TweenMax.to(e.$els.powers[t], .3, {
                                        scale: 1,
                                        delay: .2,
                                        ease: Expo.easeOut
                                    }), t === e._currentPower && e._pictoEnableTls[e._currentPower].play(0)
                                }
                            });
                            e._cdTls.push(s), s.to(e.$els.pictoEnable[t], .4, {
                                opacity: 0,
                                ease: Expo.easeOut
                            }, 0).to(e.$els.bgEnable[t], .4, {
                                opacity: 0,
                                ease: Expo.easeOut
                            }, 0).to(e.$els.pictoEnable[t], e._cdLimits[t] - .4, {
                                opacity: .7,
                                ease: Power0.easeOut
                            }, .2).to(e.$els.bgEnable[t], e._cdLimits[t] - .4, {
                                opacity: 1,
                                ease: Power0.easeOut
                            }, .2).addCallback(function() {
                                e._spriteTls[t].play(0), e._signals.powers.cdAlmostDone.dispatch(t)
                            }, "-=1");
                            var u = new TimelineMax({
                                paused: !0
                            });
                            u.addCallback(function() {
                                e._state.powerCdActivated[t] = !1
                            }, e._cdLimits[t]), e._timersTl.push(u), e._tls.push(o, a, s, u)
                        }, n = 0; n < 3; n++) t(n);
                    this._tls = this._tls.concat(this._spriteTls, this._pictoEnableTls, this._isUsingTls, this._cdTls)
                }
            }, {
                key: "_enter",
                value: function() {
                    var e = this;
                    this._enterTl = new TimelineMax({
                        onComplete: function() {
                            e._change(e._powerEnableIndex, !0), e._entered = !0
                        }
                    }), this._enterTl.set(this.$els.powers, {
                        opacity: 0,
                        y: 100,
                        z: 200,
                        rotationY: 150,
                        force3D: !0
                    }, 2.5).set(this._pictoAvailable, {
                        opacity: 0,
                        scale: 0,
                        rotationZ: 50,
                        force3D: !0
                    }, 2.5).staggerTo(this.$els.powers, 1, {
                        opacity: 1,
                        y: 0,
                        z: 0,
                        rotationY: 0,
                        force3D: !0,
                        ease: Expo.easeOut
                    }, .1, 3.5).staggerTo(this._pictoAvailable, 1, {
                        opacity: 1,
                        scale: 1,
                        rotationZ: 0,
                        force3D: !0,
                        ease: Elastic.easeOut.config(.7)
                    }, .2, 3.6), this._tls.push(this._enterTl)
                }
            }, {
                key: "_change",
                value: function(e) {
                    var t = this,
                        n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                    if (this._currentPower !== e || n) {
                        n ? this._state.currentPower = e : this._sounds.play("interface-soft-stone"), this._currentPower = e, this._signals.powers.changed.dispatch(e);
                        for (var o = 0, r = this._powerList.length; o < r; o++) {
                            var i = this._powerList[o],
                                a = this._currentPower === o;
                            i.classList.toggle("powers__el--is-active", a)
                        }
                        if (null !== this._previousPower) {
                            var s = this.$els.pictoEnable[this._previousPower];
                            TweenMax.to(s, .3, {
                                opacity: 0,
                                scale: 1,
                                rotation: 0
                            }), this._pictoEnableTls[this._previousPower].pause(), this._spriteTls[this._previousPower].timeScale(1.5)
                        }
                        var c = this.$els.pictos[this._currentPower],
                            f = this.$els.pictoEnable[this._currentPower],
                            p = this.$els.sprites[this._currentPower],
                            d = 0 === (0, l.randomInt)(0, 1) ? -1 : 1;
                        TweenMax.to(c, .2, {
                            scale: .8,
                            rotation: (0, l.randomFloat)(2, 6) * d,
                            ease: Expo.easeOut
                        }), TweenMax.to(c, .3, {
                            scale: 1,
                            rotation: 0,
                            delay: .5,
                            ease: Expo.easeOut
                        }), TweenMax.to(f, .5, {
                            opacity: 1,
                            onComplete: function() {
                                t._pictoEnableTls[t._currentPower].play(0)
                            }
                        }), p.style.transform = "scale(".concat(0 === (0, l.randomInt)(0, 1) ? 1 : -1, ", ").concat(0 === (0, l.randomInt)(0, 1) ? 1 : -1, ")"), this._spriteTls[this._currentPower].timeScale(1), this._spriteTls[this._currentPower].play(0), this._previousPower = this._currentPower, n || (0, u.event)("powers", "power-change", this._currentPower)
                    }
                }
            }, {
                key: "_setCooldown",
                value: function(e) {
                    this._state.powerCdActivated[e] = !0, this._isUsingTls[e].pause(), this._pictoEnableTls[e].pause(), 2 === e ? (TweenMax.to(this.$els.powers[e], .2, {
                        scale: .8,
                        ease: Expo.easeOut
                    }), TweenMax.to(this.$els.powers[e], this._cdLimits[e] - .4, {
                        scale: 1,
                        y: 0,
                        rotationY: 0,
                        ease: Power0.easeOut,
                        delay: .2
                    })) : (TweenMax.to(this.$els.powers[e], .3, {
                        scale: .3,
                        ease: Expo.easeOut
                    }), TweenMax.to(this.$els.powers[e], this._cdLimits[e] - .4, {
                        scale: 1,
                        y: 0,
                        rotationY: 0,
                        ease: Power0.easeOut,
                        delay: .2
                    })), this._cdTls[e].play(0), this._timersTl[e].pause(), this._timersTl[e].play(0)
                }
            }, {
                key: "_handlePowerClick",
                value: function(e) {
                    var t = e.currentTarget;
                    if (!this._state.isUsingPower) {
                        var n = parseInt(t.getAttribute("data-index"), 10);
                        n < this._powerList.length && (this._state.currentPower = n)
                    }
                }
            }, {
                key: "_handlePowerMouseEnter",
                value: function(e) {
                    var t = e.currentTarget;
                    this._state.isUsingPower || parseInt(t.getAttribute("data-index"), 10) < this._powerList.length && t.classList.add("powers__el--is-hovered")
                }
            }, {
                key: "_handlePowerMouseLeave",
                value: function(e) {
                    var t = e.currentTarget;
                    parseInt(t.getAttribute("data-index"), 10) < this._powerList.length && t.classList.remove("powers__el--is-hovered")
                }
            }, {
                key: "_onKeyDown",
                value: function(e, t) {
                    if (this._entered && !this._state.isUsingPower && !this._state.pauseDisplayed) {
                        var n = this._save.get("global.qwerty") ? "q" : "a";
                        this._keyIsDown || t !== n || (this._keyIsDown = !0, this._state.currentPower = (0, l.modAbs)(this._state.currentPower + 1, this._powerList.length))
                    }
                }
            }, {
                key: "_onKeyUp",
                value: function(e, t) {
                    this._keyIsDown = !1
                }
            }, {
                key: "_onButtonDown",
                value: function(e) {
                    !this._entered || this._state.isUsingPower || this._state.pauseDisplayed || this._keyIsDown || "button_2" !== e || (this._keyIsDown = !0, this._state.currentPower = (0, l.modAbs)(this._state.currentPower + 1, this._powerList.length))
                }
            }, {
                key: "_onButtonUp",
                value: function(e) {
                    "button_2" === e && (this._keyIsDown = !1)
                }
            }, {
                key: "_onPowerEnable",
                value: function(e) {
                    var t = this;
                    Date.now() - this._lastPowerEnable > 1e3 && this._sounds.play("hus-".concat((0, l.randomInt)(0, 1))), this._lastPowerEnable = Date.now();
                    for (var n = 0, o = this._powerList.length; n < o; n++) {
                        var r = this._currentPower === e;
                        this._powerList[n].classList.toggle("powers__el--is-using", r)
                    }
                    TweenMax.to(this.$els.powers[e], .5, {
                        scale: .9,
                        ease: Power2.easeOut,
                        onComplete: function() {
                            t._isUsingTls[e].play(0)
                        }
                    }), this._pictoEnableTls[e].timeScale(3), (0, u.event)("powers", "power-enable", e)
                }
            }, {
                key: "_onPowerDisable",
                value: function(e) {
                    for (var t = 0, n = this._powerList.length; t < n; t++) this._isUsingTls[t].pause(), this._pictoEnableTls[t].timeScale(1), this._powerList[t].classList.remove("powers__el--is-using")
                }
            }, {
                key: "_onLvl1Power1Activate",
                value: function() {
                    var e = this.$els.powers[1];
                    e.classList.remove("powers__el--is-disabled"), e.classList.add("powers__el--is-enabled"), TweenMax.to(this.$el, .5, {
                        scale: .5
                    }), TweenMax.to(this.$el, 1, {
                        scale: 1,
                        ease: Elastic.easeOut,
                        delay: .5
                    }), TweenMax.to(e, 1, {
                        scale: .7,
                        ease: Expo.easeOut
                    }), TweenMax.to(e, 1, {
                        scale: 1,
                        delay: 1.5,
                        ease: Expo.easeOut
                    }), TweenMax.to(e, 3, {
                        rotationY: "720deg",
                        ease: Elastic.easeOut
                    })
                }
            }, {
                key: "_onLvl2Power2Activate",
                value: function() {
                    var e = this;
                    this._set(2), TweenMax.to(this.$el, .5, {
                        scale: .5
                    }), TweenMax.to(this.$el, 1, {
                        scale: 1,
                        ease: Elastic.easeOut,
                        delay: .5
                    }), TweenMax.to(this.$els.powers[2], 1, {
                        scale: .7,
                        ease: Expo.easeOut
                    }), TweenMax.to(this.$els.powers[2], 1, {
                        scale: 1,
                        delay: 1.5,
                        ease: Expo.easeOut
                    }), TweenMax.to(this.$els.powers[2], 3, {
                        rotationY: "720deg",
                        onComplete: function() {
                            e._state.currentPower = 2, e._signals.powers.changed.dispatch(2)
                        },
                        ease: Elastic.easeOut
                    })
                }
            }, {
                key: "_onKonamiToggle",
                value: function() {
                    this._powerEnableIndex < 2 && this._onLvl2Power2Activate()
                }
            }, {
                key: "_onPauseShow",
                value: function() {}
            }, {
                key: "_onPauseHide",
                value: function() {}
            }, {
                key: "template",
                get: function() {
                    return n(249)
                }
            }, {
                key: "components",
                get: function() {
                    return {}
                }
            }]) && d(o.prototype, r), t
        }()).prototype, "_set", [o], Object.getOwnPropertyDescriptor(r.prototype, "_set"), r.prototype), y(r.prototype, "_enter", [o], Object.getOwnPropertyDescriptor(r.prototype, "_enter"), r.prototype), y(r.prototype, "_change", [o], Object.getOwnPropertyDescriptor(r.prototype, "_change"), r.prototype), y(r.prototype, "_setCooldown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_setCooldown"), r.prototype), y(r.prototype, "_handlePowerClick", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handlePowerClick"), r.prototype), y(r.prototype, "_handlePowerMouseEnter", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handlePowerMouseEnter"), r.prototype), y(r.prototype, "_handlePowerMouseLeave", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handlePowerMouseLeave"), r.prototype), y(r.prototype, "_onKeyDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onKeyDown"), r.prototype), y(r.prototype, "_onKeyUp", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onKeyUp"), r.prototype), y(r.prototype, "_onButtonDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onButtonDown"), r.prototype), y(r.prototype, "_onButtonUp", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onButtonUp"), r.prototype), y(r.prototype, "_onPowerEnable", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPowerEnable"), r.prototype), y(r.prototype, "_onPowerDisable", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPowerDisable"), r.prototype), y(r.prototype, "_onLvl1Power1Activate", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onLvl1Power1Activate"), r.prototype), y(r.prototype, "_onLvl2Power2Activate", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onLvl2Power2Activate"), r.prototype), y(r.prototype, "_onKonamiToggle", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onKonamiToggle"), r.prototype), y(r.prototype, "_onPauseShow", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPauseShow"), r.prototype), y(r.prototype, "_onPauseHide", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPauseHide"), r.prototype), r);
        t.default = v, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = i(n(256)),
        r = i(n(255));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var a = {
        intro: o.default,
        outro: r.default
    };
    t.default = a, e.exports = t.default
}, function(e, t, n) {
    var o;
    "undefined" != typeof self && self, o = function() {
        return function(e) {
            var t = {};

            function n(o) {
                if (t[o]) return t[o].exports;
                var r = t[o] = {
                    i: o,
                    l: !1,
                    exports: {}
                };
                return e[o].call(r.exports, r, r.exports, n), r.l = !0, r.exports
            }
            return n.m = e, n.c = t, n.d = function(e, t, o) {
                n.o(e, t) || Object.defineProperty(e, t, {
                    configurable: !1,
                    enumerable: !0,
                    get: o
                })
            }, n.n = function(e) {
                var t = e && e.__esModule ? function() {
                    return e.default
                } : function() {
                    return e
                };
                return n.d(t, "a", t), t
            }, n.o = function(e, t) {
                return Object.prototype.hasOwnProperty.call(e, t)
            }, n.p = "", n(n.s = 5)
        }([function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                if (!isNaN(e)) return e;
                var t = e.match(/^(?:(\d{2,}):)?(\d{2}):(\d{2})[,.](\d{3})$/);
                if (!t) throw new Error('Invalid SRT or VTT time format: "' + e + '"');
                return (t[1] ? 36e5 * parseInt(t[1], 10) : 0) + 6e4 * parseInt(t[2], 10) + 1e3 * parseInt(t[3], 10) + parseInt(t[4], 10)
            }
        }, function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                if (isNaN(e)) return e;
                var t = new Date(0, 0, 0, 0, 0, 0, e),
                    n = (0, r.default)(2, t.getHours()),
                    o = (0, r.default)(2, t.getMinutes()),
                    i = (0, r.default)(2, t.getSeconds()),
                    a = e - (36e5 * n + 6e4 * o + 1e3 * i);
                return n + ":" + o + ":" + i + "," + (0, r.default)(3, a)
            };
            var o, r = (o = n(2)) && o.__esModule ? o : {
                default: o
            }
        }, function(e, t) {
            e.exports = function e(t, n, o) {
                return void 0 === n ? function(n, o) {
                    return e(t, n, o)
                } : (void 0 === o && (o = "0"), (t -= n.toString().length) > 0 ? new Array(t + (/\./.test(n) ? 2 : 1)).join(o) + n : n + "")
            }
        }, function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                if (isNaN(e)) return e;
                var t = new Date(0, 0, 0, 0, 0, 0, e),
                    n = (0, r.default)(2, t.getHours()),
                    o = (0, r.default)(2, t.getMinutes()),
                    i = (0, r.default)(2, t.getSeconds()),
                    a = e - (36e5 * n + 6e4 * o + 1e3 * i);
                return n + ":" + o + ":" + i + "." + (0, r.default)(3, a)
            };
            var o, r = (o = n(2)) && o.__esModule ? o : {
                default: o
            }
        }, function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = i.exec(e),
                    n = {
                        start: (0, r.default)(t[1]),
                        end: (0, r.default)(t[2])
                    };
                return t[3] && (n.settings = t[3]), n
            };
            var o, r = (o = n(0)) && o.__esModule ? o : {
                    default: o
                },
                i = /^((?:\d{2,}:)?\d{2}:\d{2}[,.]\d{3}) --> ((?:\d{2,}:)?\d{2}:\d{2}[,.]\d{3})(?: (.*))?$/
        }, function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = n(0);
            Object.defineProperty(t, "toMS", {
                enumerable: !0,
                get: function() {
                    return f(o).default
                }
            });
            var r = n(1);
            Object.defineProperty(t, "toSrtTime", {
                enumerable: !0,
                get: function() {
                    return f(r).default
                }
            });
            var i = n(3);
            Object.defineProperty(t, "toVttTime", {
                enumerable: !0,
                get: function() {
                    return f(i).default
                }
            });
            var a = n(6);
            Object.defineProperty(t, "parse", {
                enumerable: !0,
                get: function() {
                    return f(a).default
                }
            });
            var s = n(7);
            Object.defineProperty(t, "stringify", {
                enumerable: !0,
                get: function() {
                    return f(s).default
                }
            });
            var l = n(8);
            Object.defineProperty(t, "stringifyVtt", {
                enumerable: !0,
                get: function() {
                    return f(l).default
                }
            });
            var u = n(9);
            Object.defineProperty(t, "resync", {
                enumerable: !0,
                get: function() {
                    return f(u).default
                }
            });
            var c = n(4);

            function f(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            Object.defineProperty(t, "parseTimestamps", {
                enumerable: !0,
                get: function() {
                    return f(c).default
                }
            })
        }, function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                if (!e) return [];
                var t = e.trim().concat("\n").replace(/\r\n/g, "\n").replace(/\n{3,}/g, "\n\n").replace(/^WEBVTT.*\n{2}/, "").split("\n");
                return t.reduce(function(e, n, o) {
                    var i = e[e.length - 1];
                    return !i.index && /^\d+$/.test(n) ? (i.index = parseInt(n, 10), e) : i.hasOwnProperty("start") ? ("" === n.trim() ? (delete i.index, o !== t.length - 1 && e.push({})) : i.text = i.text ? i.text + "\n" + n : n, e) : (Object.assign(i, (0, r.default)(n)), e)
                }, [{}])
            };
            var o, r = (o = n(4)) && o.__esModule ? o : {
                default: o
            }
        }, function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return e.map(function(e, t) {
                    return (t > 0 ? "\n" : "") + [t + 1, (0, r.default)(e.start) + " --\x3e " + (0, r.default)(e.end), e.text].join("\n")
                }).join("\n") + "\n"
            };
            var o, r = (o = n(1)) && o.__esModule ? o : {
                default: o
            }
        }, function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return "WEBVTT\n\n" + e.map(function(e, t) {
                    return (t > 0 ? "\n" : "") + [t + 1, (0, r.default)(e.start) + " --\x3e " + (0, r.default)(e.end) + (e.settings ? " " + e.settings : ""), e.text].join("\n")
                }).join("\n") + "\n"
            };
            var o, r = (o = n(3)) && o.__esModule ? o : {
                default: o
            }
        }, function(e, t, n) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t) {
                return e.map(function(e) {
                    var n = (0, r.default)(e.start) + t,
                        o = (0, r.default)(e.end) + t;
                    return Object.assign({}, e, {
                        start: n,
                        end: o
                    })
                })
            };
            var o, r = (o = n(0)) && o.__esModule ? o : {
                default: o
            }
        }])
    }, e.exports = o()
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = i(n(5)),
        r = i(n(155));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function a(e) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var l = function(e) {
        function t(e) {
            var n, o = e.name,
                i = void 0 === o ? "" : o,
                s = e.geometry,
                l = e.material,
                u = e.nb,
                c = void 0 === u ? 0 : u,
                f = e.positions,
                p = e.scales,
                d = e.orientations;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (n = function(e, t) {
                if (t && ("object" === a(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this))).name = i, n._geometry = s, n._material = l, n._instanceNb = c, n._positions = f || n._scaffold("positions"), n._scales = p || n._scaffold("scales"), n._orientations = d || n._scaffold("orientations"), n._geometry.isInstancedBufferGeometry = !0, n._geometry.maxInstancedCount = n._instanceNb, n._geometry.computeBoundingBox(), n._bbox = n._geometry.boundingBox, n._bboxSize = new THREE.Vector3, n._geometry.boundingBox.getSize(n._bboxSize), n._mesh = new THREE.Mesh(s, l), n._mesh.name = i, n._mesh.customDepthMaterial = new r.default, n._mesh.castShadow = !0, n._mesh.receiveShadow = !0, n._mesh.frustumCulled = !1, n.add(n._mesh), n._init(), n
        }
        var n, i;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), n = t, (i = [{
            key: "_scaffold",
            value: function(e) {
                var t, n = [];
                switch (e) {
                    case "positions":
                        t = new THREE.Vector4(0, 0, 0, 1);
                        break;
                    case "scales":
                        t = new THREE.Vector3(1, 1, 1);
                        break;
                    case "orientations":
                        t = new THREE.Quaternion
                }
                for (var o = 0, r = this._instanceNb; o < r; o++) n.push(t.clone());
                return n
            }
        }, {
            key: "_init",
            value: function() {
                for (var e = new THREE.InstancedBufferAttribute(new Float32Array(this._instanceNb), 1, 1), t = 0, n = e.count; t < n; t++) e.setX(t, t);
                this._geometry.addAttribute("id", e);
                var o = new THREE.InstancedBufferAttribute(new Float32Array(4 * this._instanceNb), 4, 1);
                o.copyVector4sArray(this._positions), this._geometry.addAttribute("instancePosition", o);
                var r = new THREE.InstancedBufferAttribute(new Float32Array(3 * this._instanceNb), 3, 1);
                r.copyVector3sArray(this._scales), this._geometry.addAttribute("instanceScale", r);
                var i = new THREE.InstancedBufferAttribute(new Float32Array(4 * this._instanceNb), 4, 1);
                i.copyVector4sArray(this._orientations), this._geometry.addAttribute("instanceOrientation", i)
            }
        }, {
            key: "nb",
            get: function() {
                return this._instanceNb
            }
        }, {
            key: "positions",
            get: function() {
                return this._positions
            }
        }, {
            key: "scales",
            get: function() {
                return this._scales
            }
        }, {
            key: "orientations",
            get: function() {
                return this._orientations
            }
        }, {
            key: "bbox",
            get: function() {
                return this._bbox
            }
        }]) && s(n.prototype, i), t
    }();
    t.default = l, e.exports = t.default
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#define SHADER_NAME WayIndicator\n\n@import common\n\nuniform vec3 uColor1;\nuniform vec3 uColor2;\nuniform float uOpacity;\n\n@import fogFragPars\n\nvoid main() {\n  float progressVariation = \n    sin(uTime * .5) + \n    sin(uTime * .2 + 2.7) + \n    cos(uTime * .4 + 1.2);\n  progressVariation = progressVariation / 3.; // average\n  progressVariation = (progressVariation + 1.) / 2.; // normalise\n\n  vec3 color = mix(uColor1, uColor2, progressVariation);\n  gl_FragColor = vec4(color,  uOpacity);\n\n  @import fogFrag\n}\n"
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(21)) && o.__esModule ? o : {
        default: o
    };

    function i(e) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function a() {
        return (a = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }

    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var l = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === i(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, n))).defines = a({}, e.defines, {
                IS_CHARACTER: !0
            }), e.uniforms = a({
                uExplode: {
                    value: 0
                }
            }, e.uniforms), e.whitelistGui = function(e) {
                if (Array.isArray(e)) {
                    for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                    return n
                }
                return Array.from(e)
            }(e.whitelistGui).concat(["explode"]), e
        }
        var n, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, r.default), n = t, (o = [{
            key: "explode",
            get: function() {
                return this.uniforms.uExplode.value
            },
            set: function(e) {
                this.uniforms.uExplode.value = e
            }
        }]) && s(n.prototype, o), t
    }();
    t.default = l, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = t.KernelSize = void 0, t.KernelSize = {
        VERY_SMALL: 0,
        SMALL: 1,
        MEDIUM: 2,
        LARGE: 3,
        VERY_LARGE: 4,
        HUGE: 5
    }, t.default = {
        VERY_SMALL: 0,
        SMALL: 1,
        MEDIUM: 2,
        LARGE: 3,
        VERY_LARGE: 4,
        HUGE: 5
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = s(n(348)),
        r = s(n(345)),
        i = s(n(342)),
        a = s(n(146));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = {
        ConvolutionMaterial: o.default,
        LuminosityMaterial: r.default,
        CombineMaterial: i.default,
        KernelSize: a.default
    };
    t.default = l, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e, t, n, r, i, a) {
        i && this._resetSpeed(a);
        var s = this._getSpeed(a);
        return s += (-(e - t) / (n.friction / o) + -n.rigidity * s) / n.mass * r, this._setSpeed(s, a), e + s * r
    };
    var o = 100;
    e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = d(n(20)),
            a = d(n(5)),
            s = d(n(60)),
            l = d(n(35)),
            u = d(n(59)),
            c = n(2),
            f = d(n(150)),
            p = d(n(359));

        function d(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function h(e) {
            return (h = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function y(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function v(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var _ = (v((r = function(e) {
            function t() {
                var e;
                return function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), (e = function(e, t) {
                    if (t && ("object" === h(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)))._name = "AbstractHomePanel", e._modeId = "", e._stepsIds = [], e._steps = [], e._intersectables = [], e._previousStep = null, e._activeStep = null, e._currentIndex = null, e._raycaster = e._context.raycaster, e._previousIntersect = null, e._currentIntersect = null, e._canNavigate = !1, e._lightSource = new THREE.Vector3(-.11, .56, -.11), e
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, a.default), n = t, (o = [{
                key: "destroy",
                value: function() {
                    clearTimeout(this._enterTimeout),
                        function e(t, n, o) {
                            null === t && (t = Function.prototype);
                            var r = Object.getOwnPropertyDescriptor(t, n);
                            if (void 0 === r) {
                                var i = Object.getPrototypeOf(t);
                                return null === i ? void 0 : e(i, n, o)
                            }
                            if ("value" in r) return r.value;
                            var a = r.get;
                            return void 0 !== a ? a.call(o) : void 0
                        }(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._unbind(), this._destroyGUI(), l.default.removeCursor("pointer")
                }
            }, {
                key: "update",
                value: function(e, t) {
                    for (var n = 0, o = this._steps.length; n < o; n++) {
                        var r = this._steps[n],
                            i = r.timeOffsets;
                        r.inertiaRot.stopped || r.inertiaRot.update();
                        var a = r.inertiaRot.value;
                        r.material.uniforms.uTime.value = t, r.position.copy(r.basePos).add(r.offsetPos), r.rotation.copy(r.baseRot), r.position.y += .001 * (Math.sin(.002 * t) + Math.sin(.002 * t + 100)), r.rotation.x += a.x + r.offsetRot.x + .03 * Math.sin(.002 * t + i.x), r.rotation.y += a.y + r.offsetRot.y + .03 * Math.sin(.002 * t + i.y), r.rotation.z += a.z + r.offsetRot.z + .1 * Math.sin(.002 * t + i.z)
                    }
                }
            }, {
                key: "_init",
                value: function() {
                    this._addModels(), this._prepareAnimationIn(), this._createGUI()
                }
            }, {
                key: "_bind",
                value: function() {
                    s.default.direction.add(this._onDirection), s.default.validate.add(this._onValidate), s.default.back.add(this._onBack), l.default.moved.add(this._onPointerMove), l.default.downed.add(this._onPointerDown)
                }
            }, {
                key: "_unbind",
                value: function() {
                    s.default.direction.remove(this._onDirection), s.default.validate.remove(this._onValidate), s.default.back.remove(this._onBack), l.default.moved.remove(this._onPointerMove), l.default.downed.remove(this._onPointerDown)
                }
            }, {
                key: "_createGUI",
                value: function() {
                    this._guiFolder = this._gui.addFolder(this._name);
                    var e = this._guiFolder.addFolder("position");
                    e.add(this.position, "x"), e.add(this.position, "y"), e.add(this.position, "z");
                    var t = this._guiFolder.addFolder("lightSource");
                    t.add(this._lightSource, "x").min(-2).max(2).step(.01), t.add(this._lightSource, "y").min(-2).max(2).step(.01), t.add(this._lightSource, "z").min(-2).max(2).step(.01)
                }
            }, {
                key: "_destroyGUI",
                value: function() {
                    this._guiFolder && this._gui.removeFolder(this._guiFolder)
                }
            }, {
                key: "_prepareAnimationIn",
                value: function() {}
            }, {
                key: "_animationIn",
                value: function() {}
            }, {
                key: "_addModels",
                value: function() {}
            }, {
                key: "_initObj",
                value: function(e, t, n, o) {
                    return e.material = new THREE.ShaderMaterial({
                        vertexShader: f.default,
                        fragmentShader: p.default,
                        uniforms: {
                            tDisable: {
                                value: t
                            },
                            tEnable: {
                                value: n
                            },
                            uProgress: {
                                value: 0
                            },
                            uTime: {
                                value: 0
                            },
                            uLightSource: {
                                value: this._lightSource
                            },
                            uTimeOffset: {
                                value: (0, c.randomFloat)(0, 100)
                            },
                            uAlpha: {
                                value: 1
                            }
                        },
                        transparent: !0,
                        side: THREE.FrontSide
                    }), e.indexId = o, e.basePos = e.position.clone(), e.offsetPos = new THREE.Vector3, e.baseRot = e.rotation.clone(), e.offsetRot = new THREE.Vector3, e.timeOffsets = {
                        x: (0, c.randomFloat)(-1e3, 1e3),
                        y: (0, c.randomFloat)(-1e3, 1e3),
                        z: (0, c.randomFloat)(-1e3, 1e3)
                    }, e.inertiaRot = new u.default({
                        value: {
                            x: 0,
                            y: 0,
                            z: 0
                        },
                        interpolation: "linear"
                    }), e
                }
            }, {
                key: "_setActiveStep",
                value: function() {
                    this._previousStep = this._activeStep, this._activeStep = this._steps[this.currentIndex];
                    var e = this._previousStep,
                        t = this._activeStep;
                    e && (TweenMax.to(e.offsetPos, .7, {
                        z: 0,
                        ease: Expo.easeOut
                    }), TweenMax.to(e.material.uniforms.uProgress, .6, {
                        value: 0,
                        ease: Expo.easeOut
                    })), TweenMax.to(t.offsetPos, 1, {
                        z: 1.4,
                        ease: Elastic.easeOut.config(1)
                    }), TweenMax.to(t.material.uniforms.uProgress, .3, {
                        value: 1,
                        ease: Expo.easeOut
                    })
                }
            }, {
                key: "_inputUp",
                value: function() {
                    this.currentIndex = (0, c.modAbs)(this.currentIndex - 1, this._steps.length), this._sounds.play("interface-soft-stone")
                }
            }, {
                key: "_inputDown",
                value: function() {
                    this.currentIndex = (0, c.modAbs)(this.currentIndex + 1, this._steps.length), this._sounds.play("interface-soft-stone")
                }
            }, {
                key: "_inputValidate",
                value: function(e) {}
            }, {
                key: "_onIntersectEnter",
                value: function(e) {
                    var t = e.object;
                    e.uv, l.default.addCursor("pointer"), t !== this._activeStep && (this.currentIndex = t.indexId, this._sounds.play("interface-soft-stone"))
                }
            }, {
                key: "_onIntersectMove",
                value: function(e) {
                    var t = e.object,
                        n = e.point;
                    l.default.addCursor("pointer");
                    var o = n.sub(t.position).sub(this.position);
                    t.inertiaRot.to({
                        x: -.13 * o.y,
                        z: -.13 * o.x
                    })
                }
            }, {
                key: "_onIntersectLeave",
                value: function(e) {
                    l.default.removeCursor("pointer")
                }
            }, {
                key: "_onDirection",
                value: function(e, t) {
                    this.canInteract && ("up" === t ? this._inputUp() : "down" === t && this._inputDown())
                }
            }, {
                key: "_onValidate",
                value: function(e, t) {
                    this.canInteract && this._inputValidate()
                }
            }, {
                key: "_onBack",
                value: function(e, t) {}
            }, {
                key: "_onPointerMove",
                value: function() {
                    if (this.canInteract) {
                        var e = {
                            x: 2 * l.default.client.norm.x - 1,
                            y: 2 * -l.default.client.norm.y + 1
                        };
                        this._raycaster.setFromCamera(e, this._scene.camera);
                        var t = this._raycaster.intersectObjects(this._intersectables, !0);
                        t.length > 0 ? (this._currentIntersect = t[0].object, this._onIntersectMove(t[0]), this._currentIntersect !== this._previousIntersect && this._onIntersectEnter(t[0])) : (this._currentIntersect = null, this._currentIntersect !== this._previousIntersect && this._onIntersectLeave(this._previousIntersect)), this._previousIntersect = this._currentIntersect
                    }
                }
            }, {
                key: "_onPointerDown",
                value: function(e) {
                    this.canInteract && this._currentIntersect && e.button === l.default.LEFT_BUTTON && this._inputValidate(this._currentIntersect.name)
                }
            }, {
                key: "currentIndex",
                set: function(e) {
                    this._currentIndex = e, this._setActiveStep()
                },
                get: function() {
                    return this._currentIndex
                }
            }, {
                key: "canInteract",
                get: function() {
                    return this._canNavigate && i.default.homeMode === this._modeId
                }
            }]) && y(n.prototype, o), t
        }()).prototype, "_onDirection", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onDirection"), r.prototype), v(r.prototype, "_onValidate", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onValidate"), r.prototype), v(r.prototype, "_onBack", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onBack"), r.prototype), v(r.prototype, "_onPointerMove", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPointerMove"), r.prototype), v(r.prototype, "_onPointerDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPointerDown"), r.prototype), r);
        t.default = _, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\nvarying vec2 vUv;\nvarying vec3 vNormal;\n\nvoid main() {\n  vUv = uv;\n  vNormal = normal;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(119)) && o.__esModule ? o : {
        default: o
    };

    function i(e) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }
    var a = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === i(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, n))).name = n.name || "Basic camera", e
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, r.default), t
    }();
    t.default = a, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = i(n(154)),
        r = i(n(22));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function a() {
        return (a = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }
    var s = a({}, o.default, {
        capitalize: r.default
    });
    t.default = s, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = n(152),
        i = (o = n(17)) && o.__esModule ? o : {
            default: o
        };

    function a(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var s = function() {
        function e() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._gui = i.default, this._folderName = (0, r.toCapitalize)(t), this._folder = i.default.addFolder(this._folderName)
        }
        var t, n;
        return t = e, (n = [{
            key: "destroy",
            value: function() {
                i.default.removeFolder(this._folder), this._unbind()
            }
        }, {
            key: "_bind",
            value: function() {}
        }, {
            key: "_unbind",
            value: function() {}
        }, {
            key: "folder",
            get: function() {
                return this._folder
            }
        }]) && a(t.prototype, n), e
    }();
    t.default = s, e.exports = t.default
}, function(e, t) {
    "use string";

    function n(e) {
        return new RegExp("\\$\\{" + e + "\\}", "g")
    }

    function o(e) {
        return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&")
    }
    var r = new RegExp("(^\\s+|\\s+$)", "g");

    function i(e) {
        return e.toString().toLowerCase().replace(/\s+/g, "-").replace(/[^\w\-]+/g, "").replace(/\-\-+/g, "-").replace(/^-+/, "").replace(/-+$/, "")
    }
    e.exports = {
        template: function(e, t, o) {
            t = t || {};
            var r, i = e;
            for (var a in t) r = t[a], i = i.replace(o ? o(a) : n(a), r);
            return i
        },
        template2: function(e, t, n) {
            t = t || {}, n = Object.assign({
                open: "${",
                body: "[a-z@$#-_?!]+",
                close: "}"
            }, n || {});
            var r, i = e,
                a = i.match(new RegExp(o(n.open) + n.body + o(n.close), "g")) || [],
                s = a.map(function(e) {
                    return ""
                });
            for (var l in t) "string" == typeof(r = t[l]) && (s = s.map(function(e, t) {
                if (a[t].match(new RegExp(l))) {
                    var o = a[t].replace(l, r);
                    return o.slice(n.open.length, o.length - n.close.length)
                }
                return e
            }));
            return a.forEach(function(e, t) {
                i = i.replace(e, s[t])
            }), i
        },
        trimWhiteSpace: function(e) {
            return e.replace(r, "")
        },
        pad: function e(t, n, o, r) {
            var i = t.toString();
            return i.length < n ? (r ? i = o + i : i += o, e(i, n, o, r)) : i
        },
        toSlug: i,
        toCamelCase: function(e) {
            return (e = i(e)).split("-").map(function(e) {
                return e.slice(0, 1).toUpperCase() + e.slice(1)
            }).join("")
        },
        toUnderscore: function(e) {
            return i(e).replace(/-+/, "_")
        },
        toCapitalize: function(e) {
            var t = e.split(/\s/g);
            return (t = t.map(function(e) {
                return e[0].toUpperCase() + e.slice(1).toLowerCase()
            })).join(" ")
        }
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = i(n(16)),
        r = i(n(381));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function a(e) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function s() {
        return (s = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }
    var l = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === a(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, n))).vertexShader = r.default, e.fragmentShader = THREE.ShaderChunk.depth_frag, e.uniforms = THREE.UniformsUtils.clone(THREE.ShaderLib.depth.uniforms), e.defines = s({}, e.defines, {
                DEPTH_PACKING: THREE.RGBADepthPacking
            }), e
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), t
    }();
    t.default = l, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = a(n(16)),
        r = a(n(385)),
        i = a(n(384));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function s(e) {
        return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }
    var l = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                o = n.color,
                a = n.opacity,
                l = void 0 === a ? 1 : a,
                u = function(e, t) {
                    if (null == e) return {};
                    var n, o, r = {},
                        i = Object.keys(e);
                    for (o = 0; o < i.length; o++) n = i[o], t.indexOf(n) >= 0 || (r[n] = e[n]);
                    if (Object.getOwnPropertySymbols) {
                        var a = Object.getOwnPropertySymbols(e);
                        for (o = 0; o < a.length; o++) n = a[o], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (r[n] = e[n])
                    }
                    return r
                }(n, ["color", "opacity"]);
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === s(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, u))).vertexShader = r.default, e.fragmentShader = i.default, e.uniforms = {
                uColor: {
                    value: new THREE.Color(o || 16777215)
                },
                uOpacity: {
                    value: l
                }
            }, e
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), t
    }();
    t.default = l, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function(e) {
        return "number" == typeof e && !isNaN(e) && isFinite(e)
    }
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0;
    var o, r = (o = n(81)) && o.__esModule ? o : {
            default: o
        },
        i = void 0;
    t.default = {
        getOfflineContext: function(e, t, n) {
            if (i) return i;
            e = e || 2, t = (n = n || 44100) || e;
            var o = window.OfflineAudioContext || window.webkitOfflineAudioContext;
            return i = o ? new o(e, t, n) : null
        },
        cloneBuffer: function(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : e.length;
            if (!r.default || r.default.isFake) return e;
            for (var o = e.numberOfChannels, i = r.default.createBuffer(o, n, e.sampleRate), a = 0; a < o; a++) i.getChannelData(a).set(e.getChannelData(a).slice(t, t + n));
            return i
        },
        reverseBuffer: function(e) {
            for (var t = e.numberOfChannels, n = 0; n < t; n++) Array.prototype.reverse.call(e.getChannelData(n));
            return e
        },
        ramp: function(e, t, n, o, i) {
            r.default.isFake || (e.setValueAtTime(t, r.default.currentTime), i ? e.linearRampToValueAtTime(n, r.default.currentTime + o) : e.exponentialRampToValueAtTime(n, r.default.currentTime + o))
        },
        getFrequency: function(e) {
            if (r.default.isFake) return 0;
            var t = r.default.sampleRate / 2,
                n = Math.log(t / 40) / Math.LN2;
            return t * Math.pow(2, n * (e - 1))
        },
        timeCode: function(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ":",
                n = Math.floor(e / 60),
                o = Math.floor(e % 3600 % 60);
            return (n < 10 ? "0" + n : n) + t + (o < 10 ? "0" + o : o)
        }
    }
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0;
    var o = a(n(62)),
        r = a(n(98)),
        i = a(n(97));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function(e) {
        function t() {
            return (0, o.default)(this, t), (0, r.default)(this, e.call(this))
        }
        return (0, i.default)(t, e), t.prototype.off = function(e, t) {
            return t ? this.removeListener(e, t) : e ? this.removeAllListeners(e) : this.removeAllListeners()
        }, t
    }(a(n(398)).default.EventEmitter);
    t.default = s
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = a;
    var o, r = (o = n(159)) && o.__esModule ? o : {
            default: o
        },
        i = ["", "ABORTED", "NETWORK", "DECODE", "SRC_NOT_SUPPORTED"];

    function a(e, t) {
        var n = new r.default,
            o = null,
            a = null,
            s = !1,
            l = 0,
            u = null,
            c = null;

        function f() {
            n.off(), a && "function" == typeof a.removeEventListener && (a.removeEventListener("load", m), a.removeEventListener("canplaythrough", m), a.removeEventListener("error", h), a.onerror = null), u && (u.removeEventListener("progress", d), u.removeEventListener("load", _), u.removeEventListener("error", h))
        }

        function p(e) {
            n.emit("progress", 1), n.emit("loaded", e), n.emit("complete", e), f()
        }

        function d(e) {
            e.lengthComputable && (l = e.loaded / e.total, n.emit("progress", l))
        }

        function h() {
            y();
            var t = "";
            u ? t = u.status + " " + u.statusText : a && a.error && (t = i[a.error.code]), n.listenerCount("error") && n.emit("error", new Error("Load Error: " + t + " " + e)), f()
        }

        function y() {
            window.clearTimeout(c)
        }

        function v(e) {
            o.decodeAudioData(e, function(e) {
                a = e, u = null, l = 1, p(e)
            }, h)
        }

        function _() {
            u.status >= 400 ? h() : v(u.response)
        }

        function m() {
            y(), a && (a.readyState ? (l = 1, p(a)) : h())
        }

        function g() {
            y(), f(), u && 4 !== u.readyState && u.abort(), u = null
        }

        function b() {
            var n = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
            !e || t && !n || (o ? e instanceof window.ArrayBuffer ? v(e) : ((u = new XMLHttpRequest).open("GET", e, !0), u.responseType = "arraybuffer", u.addEventListener("progress", d), u.addEventListener("load", _), u.addEventListener("error", h), u.send()) : (a && a.tagName || (a = document.createElement("audio")), s || (y(), c = window.setTimeout(m, 3e3), a.addEventListener("canplaythrough", m, !1), a.addEventListener("load", m, !1)), a.addEventListener("error", h, !1), a.preload = "auto", a.onerror = h, a.src = e, a.load(), s && p(a)))
        }
        var w = {
            on: n.on.bind(n),
            once: n.once.bind(n),
            off: n.off.bind(n),
            load: function(t) {
                e = t, b()
            },
            start: b,
            cancel: g,
            destroy: function() {
                g(), u = null, a = null, o = null
            }
        };
        return Object.defineProperties(w, {
            data: {
                get: function() {
                    return a
                }
            },
            progress: {
                get: function() {
                    return l
                }
            },
            audioContext: {
                set: function(e) {
                    o = e
                }
            },
            isTouchLocked: {
                set: function(e) {
                    s = e
                }
            },
            url: {
                get: function() {
                    return e
                }
            }
        }), Object.freeze(w)
    }
    a.Group = function() {
        var e = new r.default,
            t = [],
            n = 0,
            o = 0,
            i = null;

        function a(t) {
            var r = n + t;
            e.emit("progress", r / o)
        }

        function s() {
            n++, c(), e.emit("progress", n / o), u()
        }

        function l(t) {
            c(), e.listenerCount("error") && e.emit("error", t), u()
        }

        function u() {
            if (0 === t.length) return i = null, void e.emit("complete");
            (i = t.pop()).on("progress", a), i.once("loaded", s), i.once("error", l), i.start()
        }

        function c() {
            i.off("progress", a), i.off("loaded", s), i.off("error", l)
        }
        return Object.freeze({
            on: e.on.bind(e),
            once: e.once.bind(e),
            off: e.off.bind(e),
            add: function(e) {
                return t.push(e), o++, e
            },
            start: function() {
                o = t.length, u()
            }
        })
    }
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = i;
    var o, r = (o = n(113)) && o.__esModule ? o : {
        default: o
    };

    function i(e, t) {
        var n = [],
            o = new r.default(e),
            i = e.createGain(),
            a = 1,
            s = null;

        function l(e, t) {
            var o = void 0;
            return e || 0 === e ? (n.some(function(t) {
                return (t === e || t.id === e) && (o = t, !0)
            }), o && t ? t(o) : o) : o
        }

        function u(e) {
            return l(e, function(e) {
                return n.splice(n.indexOf(e), 1)
            }), s
        }
        return e && (o.setSource(i), o.setDestination(t || e.destination)), s = {
            add: function(e) {
                return e.gain.disconnect(), e.gain.connect(i), n.push(e), e.once("destroy", u), s
            },
            find: l,
            remove: u,
            play: function(e, t) {
                return n.forEach(function(n) {
                    return n.play(e, t)
                }), s
            },
            pause: function() {
                return n.forEach(function(e) {
                    e.playing && e.pause()
                }), s
            },
            resume: function() {
                return n.forEach(function(e) {
                    e.paused && e.play()
                }), s
            },
            stop: function() {
                return n.forEach(function(e) {
                    return e.stop()
                }), s
            },
            seek: function(e) {
                return n.forEach(function(t) {
                    return t.seek(e)
                }), s
            },
            setVolume: function(e) {
                return s.volume = e, s
            },
            mute: function() {
                return a = s.volume, s.volume = 0, s
            },
            unMute: function() {
                return s.volume = a || 1, s
            },
            fade: function(t, o) {
                if (e) {
                    var r = i.gain,
                        a = e.currentTime;
                    r.cancelScheduledValues(a), r.setValueAtTime(r.value, a), r.linearRampToValueAtTime(t, a + o)
                } else n.forEach(function(e) {
                    return e.fade(t, o)
                });
                return s
            },
            load: function() {
                n.forEach(function(e) {
                    return e.load()
                })
            },
            unload: function() {
                n.forEach(function(e) {
                    return e.unload()
                })
            },
            destroy: function() {
                for (; n.length;) n.pop().destroy()
            },
            gain: i,
            get effects() {
                return o._nodes
            },
            set effects(e) {
                o.removeAll().add(e)
            },
            get fx() {
                return this.effects
            },
            set fx(e) {
                this.effects = e
            },
            get sounds() {
                return n
            },
            get volume() {
                return i.gain.value
            },
            set volume(t) {
                isNaN(t) || (t = Math.min(Math.max(t, 0), 1), e ? (i.gain.cancelScheduledValues(e.currentTime), i.gain.value = t, i.gain.setValueAtTime(t, e.currentTime)) : i.gain.value = t, n.forEach(function(e) {
                    e.context || (e.groupVolume = t)
                }))
            }
        }
    }
    i.Effects = r.default
}, function(e, t, n) {
    var o = n(99),
        r = n(83),
        i = n(44),
        a = n(118),
        s = n(32),
        l = n(180),
        u = Object.getOwnPropertyDescriptor;
    t.f = n(33) ? u : function(e, t) {
        if (e = i(e), t = a(t, !0), l) try {
            return u(e, t)
        } catch (e) {}
        if (s(e, t)) return r(!o.f.call(e, t), e[t])
    }
}, function(e, t, n) {
    var o = n(166),
        r = n(103).concat("length", "prototype");
    t.f = Object.getOwnPropertyNames || function(e) {
        return o(e, r)
    }
}, function(e, t) {
    t.f = Object.getOwnPropertySymbols
}, function(e, t) {
    var n = {}.toString;
    e.exports = function(e) {
        return n.call(e).slice(8, -1)
    }
}, function(e, t, n) {
    var o = n(32),
        r = n(44),
        i = n(425)(!1),
        a = n(105)("IE_PROTO");
    e.exports = function(e, t) {
        var n, s = r(e),
            l = 0,
            u = [];
        for (n in s) n != a && o(s, n) && u.push(n);
        for (; t.length > l;) o(s, n = t[l++]) && (~i(u, n) || u.push(n));
        return u
    }
}, function(e, t, n) {
    e.exports = n(46)
}, function(e, t, n) {
    "use strict";
    var o = n(109),
        r = n(64),
        i = n(167),
        a = n(46),
        s = n(108),
        l = n(428),
        u = n(102),
        c = n(421),
        f = n(43)("iterator"),
        p = !([].keys && "next" in [].keys()),
        d = function() {
            return this
        };
    e.exports = function(e, t, n, h, y, v, _) {
        l(n, t, h);
        var m, g, b, w = function(e) {
                if (!p && e in E) return E[e];
                switch (e) {
                    case "keys":
                    case "values":
                        return function() {
                            return new n(this, e)
                        }
                }
                return function() {
                    return new n(this, e)
                }
            },
            x = t + " Iterator",
            k = "values" == y,
            O = !1,
            E = e.prototype,
            P = E[f] || E["@@iterator"] || y && E[y],
            S = P || w(y),
            T = y ? k ? w("entries") : S : void 0,
            j = "Array" == t && E.entries || P;
        if (j && (b = c(j.call(new e))) !== Object.prototype && b.next && (u(b, x, !0), o || "function" == typeof b[f] || a(b, f, d)), k && P && "values" !== P.name && (O = !0, S = function() {
                return P.call(this)
            }), o && !_ || !p && !O && E[f] || a(E, f, S), s[t] = S, s[x] = d, y)
            if (m = {
                    values: k ? S : w("values"),
                    keys: v ? S : w("keys"),
                    entries: T
                }, _)
                for (g in m) g in E || i(E, g, m[g]);
            else r(r.P + r.F * (p || O), t, m);
        return m
    }
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0;
    var o, r = (o = n(112)) && o.__esModule ? o : {
            default: o
        },
        i = [],
        a = {},
        s = document.createElement("audio");

    function l(e) {
        if ("string" != typeof e) return "";
        if ("data:" === e.slice(0, 5)) {
            var t = e.match(/data:audio\/(ogg|mp3|opus|wav|m4a)/i);
            if (t && t.length > 1) return t[1].toLowerCase()
        }
        var n = (e = (e = e.split("?")[0]).slice(e.lastIndexOf("/") + 1)).split(".");
        return 1 === n.length || "" === n[0] && 2 === n.length ? "" : n.pop().toLowerCase()
    }

    function u(e) {
        return !!(e && window.ArrayBuffer && e instanceof window.ArrayBuffer)
    }

    function c(e) {
        return !!(e && window.HTMLMediaElement && e instanceof window.HTMLMediaElement)
    }

    function f(e) {
        return !(!e || "string" != typeof e || !(e.indexOf(".") > -1 || "data:" === e.slice(0, 5)))
    }

    function p(e) {
        return e.src || e.url || e.data || e
    }
    s && ([{
        ext: "ogg",
        type: 'audio/ogg; codecs="vorbis"'
    }, {
        ext: "mp3",
        type: "audio/mpeg;"
    }, {
        ext: "opus",
        type: 'audio/ogg; codecs="opus"'
    }, {
        ext: "wav",
        type: 'audio/wav; codecs="1"'
    }, {
        ext: "m4a",
        type: "audio/x-m4a;"
    }, {
        ext: "m4a",
        type: "audio/aac;"
    }].forEach(function(e) {
        var t = !!s.canPlayType(e.type);
        t && -1 === i.indexOf(e.ext) && i.push(e.ext), a[e.ext] = t
    }), s = null), t.default = {
        canPlay: a,
        containsURL: function(e) {
            if (!e || c(e)) return !1;
            var t = p(e);
            return f(t) || u(t) || Array.isArray(t) && f(t[0])
        },
        extensions: i,
        getFileExtension: l,
        getSrc: p,
        getSupportedFile: function(e) {
            var t = void 0;
            if (Array.isArray(e))
                for (var n = 0; n < e.length; n++) {
                    var o = l(t = e[n]);
                    if (i.indexOf(o) > -1) break
                } else "object" === (void 0 === e ? "undefined" : (0, r.default)(e)) && Object.keys(e).some(function(n) {
                    var o = l(t = e[n]);
                    return i.indexOf(o) > -1
                });
            return t || e
        },
        isAudioBuffer: function(e) {
            return !!(e && window.AudioBuffer && e instanceof window.AudioBuffer)
        },
        isArrayBuffer: u,
        isMediaElement: c,
        isMediaStream: function(e) {
            return !!(e && "function" == typeof e.getAudioTracks && e.getAudioTracks().length && window.MediaStreamTrack && e.getAudioTracks()[0] instanceof window.MediaStreamTrack)
        },
        isOscillatorType: function(e) {
            return !(!e || "string" != typeof e || "sine" !== e && "square" !== e && "sawtooth" !== e && "triangle" !== e)
        },
        isURL: f
    }
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = navigator && /(iPhone|iPad|iPod)/i.test(navigator.userAgent)
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function(e) {
        var t = e.createBuffer(1, 1, e.sampleRate),
            n = e.createBufferSource();
        n.buffer = t, n.connect(e.destination), n.start(0), n.stop(0), n.disconnect()
    }
}, function(e, t) {
    var n = Math.ceil,
        o = Math.floor;
    e.exports = function(e) {
        return isNaN(e = +e) ? 0 : (e > 0 ? o : n)(e)
    }
}, function(e, t) {
    e.exports = function(e) {
        if (void 0 == e) throw TypeError("Can't call method on  " + e);
        return e
    }
}, function(e, t, n) {
    var o = n(443);
    e.exports = Object("z").propertyIsEnumerable(0) ? Object : function(e) {
        return "String" == o(e) ? e.split("") : Object(e)
    }
}, function(e, t, n) {
    var o = n(174),
        r = n(173);
    e.exports = function(e) {
        return o(r(e))
    }
}, function(e, t) {
    var n = 0,
        o = Math.random();
    e.exports = function(e) {
        return "Symbol(".concat(void 0 === e ? "" : e, ")_", (++n + o).toString(36))
    }
}, function(e, t) {
    var n = {}.hasOwnProperty;
    e.exports = function(e, t) {
        return n.call(e, t)
    }
}, function(e, t, n) {
    var o = n(455),
        r = n(450);
    e.exports = n(115) ? function(e, t, n) {
        return o.f(e, t, r(1, n))
    } : function(e, t, n) {
        return e[t] = n, e
    }
}, function(e, t, n) {
    var o = n(45),
        r = n(27).document,
        i = o(r) && o(r.createElement);
    e.exports = function(e) {
        return i ? r.createElement(e) : {}
    }
}, function(e, t, n) {
    e.exports = !n(33) && !n(84)(function() {
        return 7 != Object.defineProperty(n(179)("div"), "a", {
            get: function() {
                return 7
            }
        }).a
    })
}, function(e, t, n) {
    var o = n(459);
    e.exports = function(e, t, n) {
        if (o(e), void 0 === t) return e;
        switch (n) {
            case 1:
                return function(n) {
                    return e.call(t, n)
                };
            case 2:
                return function(n, o) {
                    return e.call(t, n, o)
                };
            case 3:
                return function(n, o, r) {
                    return e.call(t, n, o, r)
                }
        }
        return function() {
            return e.apply(t, arguments)
        }
    }
}, function(e, t, n) {
    e.exports = {
        default: n(461),
        __esModule: !0
    }
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = l(n(4)),
            a = l(n(464)),
            s = l(n(67));

        function l(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function u(e) {
            return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function c(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var f, p, d, h, y, v, _ = (f = (r = function(e) {
            function t(e, n) {
                var o, r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                return function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), (o = function(e, t) {
                    if (t && ("object" === u(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n, null))).name = "RenderPass", o.clearPass = new a.default(r), o.overrideMaterial = r.overrideMaterial || null, o.clearDepth = r.clearDepth || !1, o.clear = r.clear || !0, o._bind(), o
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, s.default), n = t, (o = [{
                key: "destroy",
                value: function() {
                    (function e(t, n, o) {
                        null === t && (t = Function.prototype);
                        var r = Object.getOwnPropertyDescriptor(t, n);
                        if (void 0 === r) {
                            var i = Object.getPrototypeOf(t);
                            return null === i ? void 0 : e(i, n, o)
                        }
                        if ("value" in r) return r.value;
                        var a = r.get;
                        return void 0 !== a ? a.call(o) : void 0
                    })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._unbind()
                }
            }, {
                key: "render",
                value: function(e, t) {
                    var n = this.scene,
                        o = this.renderToScreen ? null : t;
                    this.clear ? this.clearPass.render(e, o) : this.clearDepth && (e.setRenderTarget(o), e.clearDepth()), n.overrideMaterial = this.overrideMaterial, e.render(n, this.camera, o), n.overrideMaterial = null
                }
            }, {
                key: "_bind",
                value: function() {
                    i.default.camera.changed.add(this._handleCameraChange)
                }
            }, {
                key: "_unbind",
                value: function() {
                    i.default.camera.changed.remove(this._handleCameraChange)
                }
            }, {
                key: "_handleCameraChange",
                value: function(e) {
                    this.camera = e
                }
            }]) && c(n.prototype, o), t
        }()).prototype, p = "_handleCameraChange", d = [o], h = Object.getOwnPropertyDescriptor(r.prototype, "_handleCameraChange"), y = r.prototype, v = {}, Object.keys(h).forEach(function(e) {
            v[e] = h[e]
        }), v.enumerable = !!v.enumerable, v.configurable = !!v.configurable, ("value" in v || v.initializer) && (v.writable = !0), v = d.slice().reverse().reduce(function(e, t) {
            return t(f, p, e) || e
        }, v), y && void 0 !== v.initializer && (v.value = v.initializer ? v.initializer.call(y) : void 0, v.initializer = void 0), void 0 === v.initializer && (Object.defineProperty(f, p, v), v = null), r);
        t.default = _, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";

    function o(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var r = function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._set = new Set
        }
        var t, n;
        return t = e, (n = [{
            key: "add",
            value: function(e) {
                return this._set.add(e)
            }
        }, {
            key: "delete",
            value: function(e) {
                return this._set.delete(e)
            }
        }, {
            key: "has",
            value: function(e) {
                return this._set.has(e)
            }
        }, {
            key: "clear",
            value: function() {
                this._set.clear()
            }
        }, {
            key: "entries",
            value: function() {
                return this._set.entries()
            }
        }, {
            key: "keys",
            value: function() {
                return this._set.keys()
            }
        }, {
            key: "values",
            value: function() {
                return this._set.values()
            }
        }, {
            key: "set",
            get: function() {
                return this._set
            }
        }, {
            key: "size",
            get: function() {
                return this._set.size
            }
        }]) && o(t.prototype, n), e
    }();
    t.default = r, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.clamp = function(e, t, n) {
        return Math.min(n, Math.max(t, e))
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = O(n(29)),
        r = O(n(22)),
        i = O(n(491)),
        a = O(n(66)),
        s = O(n(489)),
        l = O(n(20)),
        u = O(n(487)),
        c = O(n(11)),
        f = O(n(465)),
        p = O(n(183)),
        d = O(n(12)),
        h = O(n(49)),
        y = O(n(4)),
        v = O(n(69)),
        _ = O(n(95)),
        m = O(n(51)),
        g = O(n(28)),
        b = O(n(61)),
        w = O(n(94)),
        x = O(n(375)),
        k = O(n(374));

    function O(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function E(e) {
        return (E = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function P(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var S = function(e) {
        function t(e) {
            var n;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (n = function(e, t) {
                if (t && ("object" === E(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)))._name = e, n._state = l.default, n._signals = y.default, n._save = v.default, n._materials = _.default, n._textures = m.default, n._quality = g.default, n._sounds = h.default, n._gamepad = d.default, n._gltf = b.default, n._locales = w.default.locales, n._sceneLocales = n._locales[e], n._tls = [], n._running = !1, n._paused = !1, n._entities = new f.default, n._renderer = c.default.renderer, n._postProcessing = n._renderer.postProcessing, n._loader = a.default, n._renderer.pixelRatio = 1, n._renderer.shadowMap.enabled = !1, n._createStack(), n._bind(), n._init(), n
        }
        var n, O;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, THREE.Scene), n = t, (O = [{
            key: "create",
            value: function() {
                return this._batcher = new i.default(this._stack.getAll()), this._batcher.execute()
            }
        }, {
            key: "destroy",
            value: function() {
                return this._unbind(), this._destroyTls(), this._destroyGUI(), this._destroyAudios(), this._gltf.destroy(), this._cameraCtrl.destroy(), this._entities.clear(), this._postProcessing.destroyPasses(), (0, o.default)()
            }
        }, {
            key: "start",
            value: function() {
                return this._cameraCtrl.start(), (0, o.default)()
            }
        }, {
            key: "pause",
            value: function() {
                return this._cameraCtrl.pause(), (0, o.default)()
            }
        }, {
            key: "update",
            value: function(e, t) {
                this._cameraCtrl.update(e, t), this._onUpdate(e, t), this._guiStats.update(e, t)
            }
        }, {
            key: "addEntity",
            value: function(e) {
                this._entities.add(e), this.add(e)
            }
        }, {
            key: "addCamera",
            value: function(e) {
                this._cameraCtrl.addCamera(e)
            }
        }, {
            key: "_init",
            value: function() {}
        }, {
            key: "_bind",
            value: function() {}
        }, {
            key: "_unbind",
            value: function() {}
        }, {
            key: "_onUpdate",
            value: function(e, t) {}
        }, {
            key: "_createStack",
            value: function() {
                var e = this;
                this._stack = new s.default, ["ctrls", "cameras", "postProcessing", "audios", "entities", "lights", "tls", "GUI", "title"].forEach(function(t) {
                    e._stack.add(t, function() {
                        return e["_create".concat((0, r.default)(t))]()
                    })
                })
            }
        }, {
            key: "_createCtrls",
            value: function() {
                this._cameraCtrl = new u.default, this.addEntity(this._cameraCtrl.helpers)
            }
        }, {
            key: "_createCameras",
            value: function() {}
        }, {
            key: "_createPostProcessing",
            value: function() {
                this._postProcessing.enabled && (this._renderPass = new p.default(this, this.camera), this._postProcessing.addPass(this._renderPass))
            }
        }, {
            key: "_createEnvironment",
            value: function() {}
        }, {
            key: "_createAudios",
            value: function() {
                this._sounds.config[this.name] && (this._sounds.create(this.name), "home" !== this.name && (this._sounds.play("".concat(this.name, "-theme")), this._sounds.get("".concat(this.name, "-theme")).fade(1, 1)))
            }
        }, {
            key: "_createEntities",
            value: function() {}
        }, {
            key: "_createLights",
            value: function() {}
        }, {
            key: "_createTls",
            value: function() {}
        }, {
            key: "_createTitle",
            value: function() {}
        }, {
            key: "_createGUI",
            value: function() {
                this._guiStats = new k.default(this._renderer), this._gui = new x.default(this), this._guiFolder = this._gui.folder
            }
        }, {
            key: "_destroyGUI",
            value: function() {
                this._gui && this._guiStats && (this._gui.destroy(), this._guiStats.destroy(), this._gui = this._guiStats = this._guiFolder = null)
            }
        }, {
            key: "_destroyAudios",
            value: function() {
                if (this._sounds.sonoGroups[this.name]) {
                    var e = this._sounds.get("".concat(this.name, "-theme"));
                    e.fade(0, 1), setTimeout(function() {
                        e.stop()
                    }, 1e3)
                }
            }
        }, {
            key: "_destroyTls",
            value: function() {
                for (var e = 0, t = this._tls.length; e < t; e++) this._tls[e] && (this._tls[e].kill(), this._tls[e].clear())
            }
        }, {
            key: "name",
            get: function() {
                return this._name
            },
            set: function(e) {
                this._name = e
            }
        }, {
            key: "running",
            get: function() {
                return this._running
            },
            set: function(e) {
                this._running = e
            }
        }, {
            key: "paused",
            get: function() {
                return this._paused
            },
            set: function(e) {
                this._paused = e
            }
        }, {
            key: "guiFolder",
            get: function() {
                return this._guiFolder
            }
        }, {
            key: "camera",
            get: function() {
                return this._cameraCtrl.camera
            }
        }, {
            key: "postProcessing",
            get: function() {
                return this._postProcessing
            }
        }]) && P(n.prototype, O), t
    }();
    t.default = S, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e) {
        var t = e.object,
            n = e.folder,
            s = e.propertiesWhitelist,
            f = void 0 === s ? [] : s,
            p = e.folderName,
            d = void 0 === p ? null : p,
            h = e.changeCb,
            y = void 0 === h ? null : h;
        d || (d = void 0 !== t.uuid ? "".concat(t.type, "  [").concat(t.uuid.slice(0, 3), "]") : void 0 !== t.type ? t.type : "Folder"), n || (n = r.default.addFolder(d));
        var v = n.addFolder(d),
            _ = function(e) {
                var n = t[e];
                if (-1 === (f.length && f.indexOf(e)) || void 0 === n) return m = e, "continue";
                var r = void 0;
                for (var s in u) {
                    var l = u[s];
                    e.match(l) && (r = s)
                }
                if (r || (r = c[e]), !r) return console.error("[parseObject] Undefined parse function for '".concat(e, "'")), m = e, {
                    v: void 0
                };
                var p = e,
                    d = t;
                "u" === e.charAt(0) && (d = n, p = e, e = "value");
                var h = (0, a["parse".concat((0, i.default)(r))])(v, d, n, e, p);
                y && "function" == typeof h.onChange && h.onChange(function(t) {
                    return y(e, t)
                }), h instanceof o.default && h.add(function(t) {
                    return y(e, t)
                }), m = e
            };
        for (var m in t) {
            var g = _(m);
            switch (g) {
                case "continue":
                    continue;
                default:
                    if ("object" === l(g)) return g.v
            }
        }
        return v
    };
    var o = s(n(15)),
        r = s(n(17)),
        i = s(n(22)),
        a = function(e) {
            if (e && e.__esModule) return e;
            var t = {};
            if (null != e)
                for (var n in e)
                    if (Object.prototype.hasOwnProperty.call(e, n)) {
                        var o = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(e, n) : {};
                        o.get || o.set ? Object.defineProperty(t, n, o) : t[n] = e[n]
                    }
            return t.default = e, t
        }(n(511));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function l(e) {
        return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }
    var u = {
            color: /color/gi,
            boolean: /transparent|fog|visible|enabled/gi,
            vector3: /position|scale|rotation/gi,
            number: /intensity|size|near|far|width|height|progress|bias|boost/gi
        },
        c = {
            distance: "number",
            strength: "number",
            radius: "number",
            threshold: "number",
            opacity: "number",
            specularShininess: "number",
            normalMap: "string",
            offset: "vector3",
            offsetFloat: "number",
            explode: "number"
        };
    e.exports = t.default
}, function(e, t) {
    e.exports = function(e) {
        if (navigator.clipboard) return navigator.clipboard.writeText(e);
        var t = document.createElement("span");
        t.textContent = e, t.style.whiteSpace = "pre";
        var n = document.createElement("iframe");
        n.sandbox = "allow-same-origin", document.body.appendChild(n);
        var o = n.contentWindow;
        o.document.body.appendChild(t);
        var r = o.getSelection();
        r || (r = (o = window).getSelection(), document.body.appendChild(t));
        var i = o.document.createRange();
        r.removeAllRanges(), i.selectNode(t), r.addRange(i);
        var a = !1;
        try {
            a = o.document.execCommand("copy")
        } catch (e) {}
        return r.removeAllRanges(), o.document.body.removeChild(t), document.body.removeChild(n), a ? Promise.resolve() : Promise.reject()
    }
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#define SHADER_NAME Basic-raw\n\nattribute vec3 position;\nattribute vec2 uv;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  \n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"
}, function(e, t, n) {
    "use strict";
    (function(e) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.camelToKebab = function(e) {
            return e.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase()
        }, t.capitalize = function(e) {
            return e.charAt(0).toUpperCase() + e.slice(1)
        }, t.isBrowser = function() {
            return !(void 0 !== e && "node" === e.title)
        }
    }).call(this, n(38))
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var o = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        return function(t, n, o) {
            return n && e(t.prototype, n), o && e(t, o), t
        }
    }();
    t.hasCookies = function() {
        var e = new s;
        try {
            e.setItem("__test", "1");
            var t = e.getItem("__test");
            return e.removeItem("__test"), "1" === t
        } catch (e) {
            return !1
        }
    };
    var r, i = (r = n(578)) && r.__esModule ? r : {
            default: r
        },
        a = "lS_",
        s = function() {
            function e() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this.cookieOptions = Object.assign({
                    path: "/"
                }, t), a = void 0 === t.prefix ? a : t.prefix
            }
            return o(e, [{
                key: "getItem",
                value: function(e) {
                    var t = i.default.parse(document.cookie);
                    return t && t.hasOwnProperty(a + e) ? t[a + e] : null
                }
            }, {
                key: "setItem",
                value: function(e, t) {
                    return document.cookie = i.default.serialize(a + e, t, this.cookieOptions), t
                }
            }, {
                key: "removeItem",
                value: function(e) {
                    var t = Object.assign({}, this.cookieOptions, {
                        maxAge: -1
                    });
                    return document.cookie = i.default.serialize(a + e, "", t), null
                }
            }, {
                key: "clear",
                value: function() {
                    var e = i.default.parse(document.cookie);
                    for (var t in e) 0 === t.indexOf(a) && this.removeItem(t.substr(a.length));
                    return null
                }
            }]), e
        }();
    t.default = s
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.MemoryStorage = t.CookieStorage = t.isSupported = t.storage = void 0;
    var o = a(n(579)),
        r = a(n(191)),
        i = a(n(577));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = null;
    (0, o.default)("localStorage") ? t.storage = s = window.localStorage: (0, o.default)("sessionStorage") ? t.storage = s = window.sessionStorage : (0, o.default)("cookieStorage") ? t.storage = s = new r.default : t.storage = s = new i.default, t.default = s, t.storage = s, t.isSupported = o.default, t.CookieStorage = r.default, t.MemoryStorage = i.default
}, function(e, t) {
    e.exports = function(e) {
        return e.webpackPolyfill || (e.deprecate = function() {}, e.paths = [], e.children || (e.children = []), Object.defineProperty(e, "loaded", {
            enumerable: !0,
            get: function() {
                return e.l
            }
        }), Object.defineProperty(e, "id", {
            enumerable: !0,
            get: function() {
                return e.i
            }
        }), e.webpackPolyfill = 1), e
    }
}, function(e, t, n) {
    "use strict";
    (function(t) {
        function n(e) {
            r.length || o(), r[r.length] = e
        }
        e.exports = n;
        var o, r = [],
            i = 0,
            a = 1024;

        function s() {
            for (; i < r.length;) {
                var e = i;
                if (i += 1, r[e].call(), i > a) {
                    for (var t = 0, n = r.length - i; t < n; t++) r[t] = r[t + i];
                    r.length -= i, i = 0
                }
            }
            r.length = 0, i = 0
        }
        var l, u, c, f = void 0 !== t ? t : self,
            p = f.MutationObserver || f.WebKitMutationObserver;

        function d(e) {
            return function() {
                var t = setTimeout(o, 0),
                    n = setInterval(o, 50);

                function o() {
                    clearTimeout(t), clearInterval(n), e()
                }
            }
        }
        "function" == typeof p ? (l = 1, u = new p(s), c = document.createTextNode(""), u.observe(c, {
            characterData: !0
        }), o = function() {
            l = -l, c.data = l
        }) : o = d(s), n.requestFlush = o, n.makeRequestCallFromTimer = d
    }).call(this, n(18))
}, function(e, t, n) {
    var o;
    ! function(r) {
        "use strict";
        void 0 === (o = function() {
            return e.tryCatchResolve = t, e;

            function e(e, n) {
                return arguments.length < 2 && (n = t),
                    function(t, r, i) {
                        var a = e._defer(),
                            s = i.length;
                        return o({
                            f: t,
                            thisArg: r,
                            args: i,
                            params: new Array(s),
                            i: s - 1,
                            call: n
                        }, a._handler), a
                    };

                function o(t, o) {
                    if (t.i < 0) return n(t.f, t.thisArg, t.params, o);
                    e._handler(t.args[t.i]).fold(r, t, void 0, o)
                }

                function r(e, t, n) {
                    e.params[e.i] = t, e.i -= 1, o(e, n)
                }
            }

            function t(e, t, n, o) {
                try {
                    o.resolve(e.apply(t, n))
                } catch (e) {
                    o.reject(e)
                }
            }
        }.call(t, n, t, e)) || (e.exports = o)
    }(n(9))
}, function(e, t, n) {
    var o;
    ! function(r) {
        "use strict";
        void 0 === (o = function() {
            return {
                pending: function() {
                    return {
                        state: "pending"
                    }
                },
                fulfilled: t,
                rejected: e,
                inspect: function(n) {
                    var o = n.state();
                    return 0 === o ? {
                        state: "pending"
                    } : o > 0 ? t(n.value) : e(n.value)
                }
            };

            function e(e) {
                return {
                    state: "rejected",
                    reason: e
                }
            }

            function t(e) {
                return {
                    state: "fulfilled",
                    value: e
                }
            }
        }.call(t, n, t, e)) || (e.exports = o)
    }(n(9))
}, function(e, t, n) {
    var o;
    ! function(r) {
        "use strict";
        void 0 === (o = function() {
            function e(t) {
                Error.call(this), this.message = t, this.name = e.name, "function" == typeof Error.captureStackTrace && Error.captureStackTrace(this, e)
            }
            return e.prototype = Object.create(Error.prototype), e.prototype.constructor = e, e
        }.call(t, n, t, e)) || (e.exports = o)
    }(n(9))
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.isArray = function(e) {
        return !(!e || e.constructor !== Array)
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
        return typeof e
    } : function(e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    };
    t.isElement = function(e) {
        return "HTMLElement" in window ? e && e instanceof window.HTMLElement : !(!e || "object" !== (void 0 === e ? "undefined" : o(e)) || 1 !== e.nodeType || "string" != typeof e.nodeName)
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var o, r = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        },
        i = function() {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var o = t[n];
                    o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
                }
            }
            return function(t, n, o) {
                return n && e(t.prototype, n), o && e(t, o), t
            }
        }(),
        a = (o = n(623)) && o.__esModule ? o : {
            default: o
        },
        s = n(620),
        l = n(123),
        u = n(608),
        c = function() {
            function e() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    n = t.el,
                    o = void 0 === n ? null : n,
                    r = t.name,
                    i = void 0 === r ? "anonymous" : r,
                    a = t.components,
                    l = void 0 === a ? {} : a;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this.$el = "string" == typeof o ? document.querySelector(o) : o, null === o || (0, s.isElement)(this.$el) ? (this.$name = i, this._components = l, this.$parent = null, this.$root = this, this.$els = {}, this.$refs = {}, this.$props = {}, this._instances = [], this._isRoot = !0, this._isRoot && this.$el && this.template ? this.$mount(this.$el) : this._isRoot && this.$el && (this._callHook("init", this), this._render(), this._callHook("mounted", this))) : console.error("Cannot select a valid $el HTMLElement")
            }
            return i(e, [{
                key: "init",
                value: function() {}
            }, {
                key: "mounted",
                value: function() {}
            }, {
                key: "beforeDestroy",
                value: function() {}
            }, {
                key: "destroyed",
                value: function() {}
            }, {
                key: "data",
                value: function() {
                    return {}
                }
            }, {
                key: "$preRenderMount",
                value: function(e) {
                    if (e = "string" == typeof e ? document.querySelector(e) : e, (0, s.isElement)(e)) return this.$el = e, this._preRender(), this;
                    console.error("$preRenderMount() : Cannot select a valid $el HTMLElement")
                }
            }, {
                key: "$mount",
                value: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                        t = arguments[1];
                    if (e = "string" == typeof e ? document.querySelector(e) : e, this._callHook("init", this), this.$el = this._renderTemplate(e, this, {}, t), this.$el) return this._render(), this._callHook("mounted", this), this
                }
            }, {
                key: "$destroy",
                value: function() {
                    this._callHook("beforeDestroy", this);
                    for (var e = 0, t = this._instances.length; e < t; e++) this._instances[e].$destroy();
                    null !== this.$el && this.$el.parentNode.removeChild(this.$el), this.$el = null, this.$name = null, this.$parent = null, this.$root = null, this.$els = {}, this.$refs = {}, this._components = {}, this._instances = [], this.destroyed()
                }
            }, {
                key: "$debug",
                value: function() {
                    console.group("%cDebug component '" + this.$name + "'", "background: #000000; color: #FFFFFF; padding: 3px 5px;"), console.log("%cAttributes", "font-weight: bold"), console.log("$el", this.$el), console.log("$els", this.$els), console.log("$refs", this.$refs), console.log("$props", this.$props), console.log("$parent", this.$parent), console.log("$root", this.$root), console.log(""), console.log("%cTree", "font-weight: bold");
                    for (var e = this._getComponentTree(), t = 0, n = e.length; t < n; t++) {
                        var o = Array(2 * t).join(" "),
                            r = t ? "➔ " : "",
                            i = e[t],
                            a = t === n - 1 ? "font-weight: bold" : "";
                        console.log("%c" + o + r + i, a)
                    }
                    console.groupEnd("Debug component '" + this.$name + "'")
                }
            }, {
                key: "$scope",
                value: function() {
                    for (var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [], t = 0, n = e.length; t < n; t++) {
                        var o = e[t];
                        if (void 0 === this[o]) return void console.error("$scope : Cannot bind method '" + o + "' on '" + this.$name + "' component instance");
                        this[o] = this[o].bind(this)
                    }
                }
            }, {
                key: "$nextTick",
                value: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : function() {};
                    window.requestAnimationFrame(e)
                }
            }, {
                key: "_preRender",
                value: function() {
                    this._callHook("init", this), this.$root = this._getRootInstance(this), this._parseSubComponents(!0), this._parseEls(this.$el, this), this._parseRefs(this.$el, this), this._parseProps(this.$el, this), this._callHook("mounted", this), this.$el.removeAttribute("data-prerendered")
                }
            }, {
                key: "_render",
                value: function() {
                    this._parseSubComponents(!1), this._isRoot && (this._parseEls(this.$el, this), this._parseRefs(this.$el, this), this._parseProps(this.$el, this))
                }
            }, {
                key: "_getRootInstance",
                value: function(e) {
                    if (null === e.$parent) return e;
                    for (var t = e.$parent; null !== t.$parent;) t = t.$parent;
                    return t
                }
            }, {
                key: "_getComponentTree",
                value: function() {
                    var e = [this.$name],
                        t = this.$parent;
                    if (null === t) return e;
                    for (; null !== t;) e.push(t.$name), t = t.$parent;
                    return e.reverse()
                }
            }, {
                key: "_walkNode",
                value: function(e, t) {
                    (0, s.isElement)(e) ? (0, u.walk)(e, function(e) {
                        if (e.nodeType === window.Node.ELEMENT_NODE) return t(e)
                    }) : console.error("Node argument must be a HTMLElement")
                }
            }, {
                key: "_hasAttribute",
                value: function(e, t) {
                    return "function" == typeof e.getAttribute && e.getAttribute(t)
                }
            }, {
                key: "_getAttribute",
                value: function(e, t) {
                    var n = e.getAttribute(t);
                    return e.removeAttribute(t), n
                }
            }, {
                key: "_parseSubComponents",
                value: function() {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    (0, s.isElement)(this.$el) && this._walkNode(this.$el, function(n) {
                        var o = t ? "data-prerendered" : "data-component";
                        e._hasAttribute(n, o) && e.$el !== n && e._parseSubComponent(n, t)
                    })
                }
            }, {
                key: "_parseSubComponent",
                value: function(e, t) {
                    if ((0, s.isElement)(e)) {
                        var n = t ? "data-prerendered" : "data-component",
                            o = this._getAttribute(e, n),
                            r = this.components[o];
                        if (void 0 !== r) {
                            var i = new r;
                            this._instances.push(i), i.$name = o, i.$parent = this, i.$root = this._getRootInstance(i), i._isRoot = !1, this._callHook("init", i);
                            var a = e;
                            if (t) i.$el = e, this._parseEls(e, i), this._parseRefs(e, i), this._parseProps(e, i), i._parseSubComponents(!0);
                            else {
                                var l = this._parseProps(e, i);
                                null !== i.template && (a = this._renderTemplate(e, i, l)), i.$el = a, this._parseEls(a, i), this._parseRefs(e, i), i._render()
                            }
                            this._callHook("mounted", i)
                        } else console.error("Cannot instanciate a component that does not exist : '" + o + "'")
                    } else console.error("Node argument must be a HTMLElement")
                }
            }, {
                key: "_renderTemplate",
                value: function(e, t) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
                        o = arguments[3],
                        i = t.data();
                    if ((0, l.isObject)(i)) {
                        if (null !== t.template) {
                            var s = r({}, n, i),
                                u = a.default.twig({
                                    data: t.template
                                }).render(s);
                            return this._renderDOM(e, u, o)
                        }
                        console.error("No template to render for component : '" + t.$name + "'")
                    } else console.error("data() method must return an object")
                }
            }, {
                key: "_renderDOM",
                value: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                        n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "replace";
                    e || (e = document.createElement("div"), n = "append"), e.insertAdjacentHTML("afterbegin", t);
                    var o = e.firstElementChild;
                    if ((0, s.isElement)(o)) {
                        if ("append" === n) e.appendChild(o);
                        else {
                            if ("replace" !== n) return void console.error("Invalid render type");
                            e && e.parentNode ? e.parentNode.replaceChild(o, e) : console.warn("No parent node found to replace child")
                        }
                        return o
                    }
                    console.error("Cannot render to DOM new node")
                }
            }, {
                key: "_parseEls",
                value: function(e, t) {
                    var n = this;
                    this._walkNode(e, function(e) {
                        if (null !== e.getAttribute("data-prerendered")) return !0;
                        if (n._hasAttribute(e, "data-el")) {
                            var o = n._getAttribute(e, "data-el");
                            void 0 === t.$els[o] ? t.$els[o] = e : (0, l.isArray)(t.$els[o]) ? t.$els[o].push(e) : t.$els[o] = [t.$els[o], e]
                        }
                    })
                }
            }, {
                key: "_parseRefs",
                value: function(e, t) {
                    if (this._hasAttribute(e, "data-ref")) {
                        var n = this._getAttribute(e, "data-ref");
                        if (void 0 !== t.$parent.$refs[n]) return void console.error("A 'data-ref' already exists with the name '" + n + "' in '" + t.$parent.$name + "' component");
                        t.$parent.$refs[n] = t
                    }
                }
            }, {
                key: "_parseProps",
                value: function(e, t) {
                    for (var n = ["data-component", "data-prerendered", "data-ref", "data-el"], o = e.attributes, r = {}, i = 0, a = o.length; i < a; i++) {
                        var s = o[i].nodeName,
                            l = o[i].nodeValue; - 1 === n.indexOf(s) && (0, u.startsWith)(s, "data-") && (r[s.replace("data-", "")] = l)
                    }
                    return t.$props = r, r
                }
            }, {
                key: "_findInstance",
                value: function(e) {
                    for (var t = 0, n = this._instances.length; t < n; t++) {
                        var o = this._instances[t];
                        if (o.$name === e) return o
                    }
                    return null
                }
            }, {
                key: "_callHook",
                value: function(e, t) {
                    try {
                        t[e]()
                    } catch (e) {
                        this._logError(e)
                    }
                }
            }, {
                key: "_logError",
                value: function(e) {
                    "function" == typeof this.errorHandler ? this.errorHandler(e) : console.error(e)
                }
            }, {
                key: "template",
                get: function() {
                    return null
                }
            }, {
                key: "components",
                get: function() {
                    return this._components
                }
            }]), e
        }();
    t.default = {
        Component: c,
        Twig: a.default
    }, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    n.r(t);
    var o = n(10),
        r = n.n(o),
        i = n(87),
        a = n.n(i);

    function s(e) {
        return "/" === e.charAt(0)
    }

    function l(e, t) {
        for (var n = t, o = n + 1, r = e.length; o < r; n += 1, o += 1) e[n] = e[o];
        e.pop()
    }
    var u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        },
        c = function(e) {
            return "/" === e.charAt(0) ? e : "/" + e
        },
        f = function(e) {
            return "/" === e.charAt(0) ? e.substr(1) : e
        },
        p = function(e, t) {
            return new RegExp("^" + t + "(\\/|\\?|#|$)", "i").test(e)
        },
        d = function(e, t) {
            return p(e, t) ? e.substr(t.length) : e
        },
        h = function(e) {
            return "/" === e.charAt(e.length - 1) ? e.slice(0, -1) : e
        },
        y = function(e) {
            var t = e || "/",
                n = "",
                o = "",
                r = t.indexOf("#"); - 1 !== r && (o = t.substr(r), t = t.substr(0, r));
            var i = t.indexOf("?");
            return -1 !== i && (n = t.substr(i), t = t.substr(0, i)), {
                pathname: t,
                search: "?" === n ? "" : n,
                hash: "#" === o ? "" : o
            }
        },
        v = function(e) {
            var t = e.pathname,
                n = e.search,
                o = e.hash,
                r = t || "/";
            return n && "?" !== n && (r += "?" === n.charAt(0) ? n : "?" + n), o && "#" !== o && (r += "#" === o.charAt(0) ? o : "#" + o), r
        },
        _ = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        },
        m = function(e, t, n, o) {
            var r = void 0;
            "string" == typeof e ? (r = y(e)).state = t : (void 0 === (r = _({}, e)).pathname && (r.pathname = ""), r.search ? "?" !== r.search.charAt(0) && (r.search = "?" + r.search) : r.search = "", r.hash ? "#" !== r.hash.charAt(0) && (r.hash = "#" + r.hash) : r.hash = "", void 0 !== t && void 0 === r.state && (r.state = t));
            try {
                r.pathname = decodeURI(r.pathname)
            } catch (e) {
                throw e instanceof URIError ? new URIError('Pathname "' + r.pathname + '" could not be decoded. This is likely caused by an invalid percent-encoding.') : e
            }
            return n && (r.key = n), o ? r.pathname ? "/" !== r.pathname.charAt(0) && (r.pathname = function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                    n = e && e.split("/") || [],
                    o = t && t.split("/") || [],
                    r = e && s(e),
                    i = t && s(t),
                    a = r || i;
                if (e && s(e) ? o = n : n.length && (o.pop(), o = o.concat(n)), !o.length) return "/";
                var u = void 0;
                if (o.length) {
                    var c = o[o.length - 1];
                    u = "." === c || ".." === c || "" === c
                } else u = !1;
                for (var f = 0, p = o.length; p >= 0; p--) {
                    var d = o[p];
                    "." === d ? l(o, p) : ".." === d ? (l(o, p), f++) : f && (l(o, p), f--)
                }
                if (!a)
                    for (; f--; f) o.unshift("..");
                !a || "" === o[0] || o[0] && s(o[0]) || o.unshift("");
                var h = o.join("/");
                return u && "/" !== h.substr(-1) && (h += "/"), h
            }(r.pathname, o.pathname)) : r.pathname = o.pathname : r.pathname || (r.pathname = "/"), r
        },
        g = function(e, t) {
            return e.pathname === t.pathname && e.search === t.search && e.hash === t.hash && e.key === t.key && function e(t, n) {
                if (t === n) return !0;
                if (null == t || null == n) return !1;
                if (Array.isArray(t)) return Array.isArray(n) && t.length === n.length && t.every(function(t, o) {
                    return e(t, n[o])
                });
                var o = void 0 === t ? "undefined" : u(t);
                if (o !== (void 0 === n ? "undefined" : u(n))) return !1;
                if ("object" === o) {
                    var r = t.valueOf(),
                        i = n.valueOf();
                    if (r !== t || i !== n) return e(r, i);
                    var a = Object.keys(t),
                        s = Object.keys(n);
                    return a.length === s.length && a.every(function(o) {
                        return e(t[o], n[o])
                    })
                }
                return !1
            }(e.state, t.state)
        },
        b = function() {
            var e = null,
                t = [];
            return {
                setPrompt: function(t) {
                    return r()(null == e, "A history supports only one prompt at a time"), e = t,
                        function() {
                            e === t && (e = null)
                        }
                },
                confirmTransitionTo: function(t, n, o, i) {
                    if (null != e) {
                        var a = "function" == typeof e ? e(t, n) : e;
                        "string" == typeof a ? "function" == typeof o ? o(a, i) : (r()(!1, "A history needs a getUserConfirmation function in order to use a prompt message"), i(!0)) : i(!1 !== a)
                    } else i(!0)
                },
                appendListener: function(e) {
                    var n = !0,
                        o = function() {
                            n && e.apply(void 0, arguments)
                        };
                    return t.push(o),
                        function() {
                            n = !1, t = t.filter(function(e) {
                                return e !== o
                            })
                        }
                },
                notifyListeners: function() {
                    for (var e = arguments.length, n = Array(e), o = 0; o < e; o++) n[o] = arguments[o];
                    t.forEach(function(e) {
                        return e.apply(void 0, n)
                    })
                }
            }
        },
        w = !("undefined" == typeof window || !window.document || !window.document.createElement),
        x = function(e, t, n) {
            return e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent("on" + t, n)
        },
        k = function(e, t, n) {
            return e.removeEventListener ? e.removeEventListener(t, n, !1) : e.detachEvent("on" + t, n)
        },
        O = function(e, t) {
            return t(window.confirm(e))
        },
        E = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        },
        P = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        },
        S = function() {
            try {
                return window.history.state || {}
            } catch (e) {
                return {}
            }
        },
        T = function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            a()(w, "Browser history needs a DOM");
            var t, n = window.history,
                o = (-1 === (t = window.navigator.userAgent).indexOf("Android 2.") && -1 === t.indexOf("Android 4.0") || -1 === t.indexOf("Mobile Safari") || -1 !== t.indexOf("Chrome") || -1 !== t.indexOf("Windows Phone")) && window.history && "pushState" in window.history,
                i = !(-1 === window.navigator.userAgent.indexOf("Trident")),
                s = e.forceRefresh,
                l = void 0 !== s && s,
                u = e.getUserConfirmation,
                f = void 0 === u ? O : u,
                y = e.keyLength,
                _ = void 0 === y ? 6 : y,
                g = e.basename ? h(c(e.basename)) : "",
                T = function(e) {
                    var t = e || {},
                        n = t.key,
                        o = t.state,
                        i = window.location,
                        a = i.pathname + i.search + i.hash;
                    return r()(!g || p(a, g), 'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "' + a + '" to begin with "' + g + '".'), g && (a = d(a, g)), m(a, o, n)
                },
                j = function() {
                    return Math.random().toString(36).substr(2, _)
                },
                M = b(),
                C = function(e) {
                    P(V, e), V.length = n.length, M.notifyListeners(V.location, V.action)
                },
                D = function(e) {
                    (function(e) {
                        return void 0 === e.state && -1 === navigator.userAgent.indexOf("CriOS")
                    })(e) || L(T(e.state))
                },
                R = function() {
                    L(T(S()))
                },
                A = !1,
                L = function(e) {
                    A ? (A = !1, C()) : M.confirmTransitionTo(e, "POP", f, function(t) {
                        t ? C({
                            action: "POP",
                            location: e
                        }) : z(e)
                    })
                },
                z = function(e) {
                    var t = V.location,
                        n = F.indexOf(t.key); - 1 === n && (n = 0);
                    var o = F.indexOf(e.key); - 1 === o && (o = 0);
                    var r = n - o;
                    r && (A = !0, N(r))
                },
                I = T(S()),
                F = [I.key],
                H = function(e) {
                    return g + v(e)
                },
                N = function(e) {
                    n.go(e)
                },
                U = 0,
                B = function(e) {
                    1 === (U += e) ? (x(window, "popstate", D), i && x(window, "hashchange", R)) : 0 === U && (k(window, "popstate", D), i && k(window, "hashchange", R))
                },
                G = !1,
                V = {
                    length: n.length,
                    action: "POP",
                    location: I,
                    createHref: H,
                    push: function(e, t) {
                        r()(!("object" === (void 0 === e ? "undefined" : E(e)) && void 0 !== e.state && void 0 !== t), "You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");
                        var i = m(e, t, j(), V.location);
                        M.confirmTransitionTo(i, "PUSH", f, function(e) {
                            if (e) {
                                var t = H(i),
                                    a = i.key,
                                    s = i.state;
                                if (o)
                                    if (n.pushState({
                                            key: a,
                                            state: s
                                        }, null, t), l) window.location.href = t;
                                    else {
                                        var u = F.indexOf(V.location.key),
                                            c = F.slice(0, -1 === u ? 0 : u + 1);
                                        c.push(i.key), F = c, C({
                                            action: "PUSH",
                                            location: i
                                        })
                                    }
                                else r()(void 0 === s, "Browser history cannot push state in browsers that do not support HTML5 history"), window.location.href = t
                            }
                        })
                    },
                    replace: function(e, t) {
                        r()(!("object" === (void 0 === e ? "undefined" : E(e)) && void 0 !== e.state && void 0 !== t), "You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");
                        var i = m(e, t, j(), V.location);
                        M.confirmTransitionTo(i, "REPLACE", f, function(e) {
                            if (e) {
                                var t = H(i),
                                    a = i.key,
                                    s = i.state;
                                if (o)
                                    if (n.replaceState({
                                            key: a,
                                            state: s
                                        }, null, t), l) window.location.replace(t);
                                    else {
                                        var u = F.indexOf(V.location.key); - 1 !== u && (F[u] = i.key), C({
                                            action: "REPLACE",
                                            location: i
                                        })
                                    }
                                else r()(void 0 === s, "Browser history cannot replace state in browsers that do not support HTML5 history"), window.location.replace(t)
                            }
                        })
                    },
                    go: N,
                    goBack: function() {
                        return N(-1)
                    },
                    goForward: function() {
                        return N(1)
                    },
                    block: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                            t = M.setPrompt(e);
                        return G || (B(1), G = !0),
                            function() {
                                return G && (G = !1, B(-1)), t()
                            }
                    },
                    listen: function(e) {
                        var t = M.appendListener(e);
                        return B(1),
                            function() {
                                B(-1), t()
                            }
                    }
                };
            return V
        },
        j = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        },
        M = {
            hashbang: {
                encodePath: function(e) {
                    return "!" === e.charAt(0) ? e : "!/" + f(e)
                },
                decodePath: function(e) {
                    return "!" === e.charAt(0) ? e.substr(1) : e
                }
            },
            noslash: {
                encodePath: f,
                decodePath: c
            },
            slash: {
                encodePath: c,
                decodePath: c
            }
        },
        C = function() {
            var e = window.location.href,
                t = e.indexOf("#");
            return -1 === t ? "" : e.substring(t + 1)
        },
        D = function(e) {
            var t = window.location.href.indexOf("#");
            window.location.replace(window.location.href.slice(0, t >= 0 ? t : 0) + "#" + e)
        },
        R = function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            a()(w, "Hash history needs a DOM");
            var t = window.history,
                n = -1 === window.navigator.userAgent.indexOf("Firefox"),
                o = e.getUserConfirmation,
                i = void 0 === o ? O : o,
                s = e.hashType,
                l = void 0 === s ? "slash" : s,
                u = e.basename ? h(c(e.basename)) : "",
                f = M[l],
                y = f.encodePath,
                _ = f.decodePath,
                E = function() {
                    var e = _(C());
                    return r()(!u || p(e, u), 'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "' + e + '" to begin with "' + u + '".'), u && (e = d(e, u)), m(e)
                },
                P = b(),
                S = function(e) {
                    j($, e), $.length = t.length, P.notifyListeners($.location, $.action)
                },
                T = !1,
                R = null,
                A = function() {
                    var e = C(),
                        t = y(e);
                    if (e !== t) D(t);
                    else {
                        var n = E(),
                            o = $.location;
                        if (!T && g(o, n)) return;
                        if (R === v(n)) return;
                        R = null, L(n)
                    }
                },
                L = function(e) {
                    T ? (T = !1, S()) : P.confirmTransitionTo(e, "POP", i, function(t) {
                        t ? S({
                            action: "POP",
                            location: e
                        }) : z(e)
                    })
                },
                z = function(e) {
                    var t = $.location,
                        n = N.lastIndexOf(v(t)); - 1 === n && (n = 0);
                    var o = N.lastIndexOf(v(e)); - 1 === o && (o = 0);
                    var r = n - o;
                    r && (T = !0, U(r))
                },
                I = C(),
                F = y(I);
            I !== F && D(F);
            var H = E(),
                N = [v(H)],
                U = function(e) {
                    r()(n, "Hash history go(n) causes a full page reload in this browser"), t.go(e)
                },
                B = 0,
                G = function(e) {
                    1 === (B += e) ? x(window, "hashchange", A) : 0 === B && k(window, "hashchange", A)
                },
                V = !1,
                $ = {
                    length: t.length,
                    action: "POP",
                    location: H,
                    createHref: function(e) {
                        return "#" + y(u + v(e))
                    },
                    push: function(e, t) {
                        r()(void 0 === t, "Hash history cannot push state; it is ignored");
                        var n = m(e, void 0, void 0, $.location);
                        P.confirmTransitionTo(n, "PUSH", i, function(e) {
                            if (e) {
                                var t = v(n),
                                    o = y(u + t);
                                if (C() !== o) {
                                    R = t,
                                        function(e) {
                                            window.location.hash = e
                                        }(o);
                                    var i = N.lastIndexOf(v($.location)),
                                        a = N.slice(0, -1 === i ? 0 : i + 1);
                                    a.push(t), N = a, S({
                                        action: "PUSH",
                                        location: n
                                    })
                                } else r()(!1, "Hash history cannot PUSH the same path; a new entry will not be added to the history stack"), S()
                            }
                        })
                    },
                    replace: function(e, t) {
                        r()(void 0 === t, "Hash history cannot replace state; it is ignored");
                        var n = m(e, void 0, void 0, $.location);
                        P.confirmTransitionTo(n, "REPLACE", i, function(e) {
                            if (e) {
                                var t = v(n),
                                    o = y(u + t);
                                C() !== o && (R = t, D(o));
                                var r = N.indexOf(v($.location)); - 1 !== r && (N[r] = t), S({
                                    action: "REPLACE",
                                    location: n
                                })
                            }
                        })
                    },
                    go: U,
                    goBack: function() {
                        return U(-1)
                    },
                    goForward: function() {
                        return U(1)
                    },
                    block: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                            t = P.setPrompt(e);
                        return V || (G(1), V = !0),
                            function() {
                                return V && (V = !1, G(-1)), t()
                            }
                    },
                    listen: function(e) {
                        var t = P.appendListener(e);
                        return G(1),
                            function() {
                                G(-1), t()
                            }
                    }
                };
            return $
        },
        A = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        },
        L = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        },
        z = function(e, t, n) {
            return Math.min(Math.max(e, t), n)
        },
        I = function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                t = e.getUserConfirmation,
                n = e.initialEntries,
                o = void 0 === n ? ["/"] : n,
                i = e.initialIndex,
                a = void 0 === i ? 0 : i,
                s = e.keyLength,
                l = void 0 === s ? 6 : s,
                u = b(),
                c = function(e) {
                    L(_, e), _.length = _.entries.length, u.notifyListeners(_.location, _.action)
                },
                f = function() {
                    return Math.random().toString(36).substr(2, l)
                },
                p = z(a, 0, o.length - 1),
                d = o.map(function(e) {
                    return m(e, void 0, "string" == typeof e ? f() : e.key || f())
                }),
                h = v,
                y = function(e) {
                    var n = z(_.index + e, 0, _.entries.length - 1),
                        o = _.entries[n];
                    u.confirmTransitionTo(o, "POP", t, function(e) {
                        e ? c({
                            action: "POP",
                            location: o,
                            index: n
                        }) : c()
                    })
                },
                _ = {
                    length: d.length,
                    action: "POP",
                    location: d[p],
                    index: p,
                    entries: d,
                    createHref: h,
                    push: function(e, n) {
                        r()(!("object" === (void 0 === e ? "undefined" : A(e)) && void 0 !== e.state && void 0 !== n), "You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");
                        var o = m(e, n, f(), _.location);
                        u.confirmTransitionTo(o, "PUSH", t, function(e) {
                            if (e) {
                                var t = _.index + 1,
                                    n = _.entries.slice(0);
                                n.length > t ? n.splice(t, n.length - t, o) : n.push(o), c({
                                    action: "PUSH",
                                    location: o,
                                    index: t,
                                    entries: n
                                })
                            }
                        })
                    },
                    replace: function(e, n) {
                        r()(!("object" === (void 0 === e ? "undefined" : A(e)) && void 0 !== e.state && void 0 !== n), "You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");
                        var o = m(e, n, f(), _.location);
                        u.confirmTransitionTo(o, "REPLACE", t, function(e) {
                            e && (_.entries[_.index] = o, c({
                                action: "REPLACE",
                                location: o
                            }))
                        })
                    },
                    go: y,
                    goBack: function() {
                        return y(-1)
                    },
                    goForward: function() {
                        return y(1)
                    },
                    canGo: function(e) {
                        var t = _.index + e;
                        return t >= 0 && t < _.entries.length
                    },
                    block: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        return u.setPrompt(e)
                    },
                    listen: function(e) {
                        return u.appendListener(e)
                    }
                };
            return _
        };
    n.d(t, "createBrowserHistory", function() {
        return T
    }), n.d(t, "createHashHistory", function() {
        return R
    }), n.d(t, "createMemoryHistory", function() {
        return I
    }), n.d(t, "createLocation", function() {
        return m
    }), n.d(t, "locationsAreEqual", function() {
        return g
    }), n.d(t, "parsePath", function() {
        return y
    }), n.d(t, "createPath", function() {
        return v
    })
}, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function(e, t) {
    e.exports = '<div class="fallback fallback--{{ type }}">\n  <div class="fallback__container">\n    <p class="fallback__msg">\n      {{ locales.global.site[type] }}\n    </p>\n  </div>\n</div>\n'
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(7)) && o.__esModule ? o : {
            default: o
        },
        i = n(6);

    function a(e) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function s() {
        return (s = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }

    function l(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }

    function u(e, t, n) {
        null === e && (e = Function.prototype);
        var o = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === o) {
            var r = Object.getPrototypeOf(e);
            return null === r ? void 0 : u(r, t, n)
        }
        if ("value" in o) return o.value;
        var i = o.get;
        return void 0 !== i ? i.call(n) : void 0
    }
    var c = function(e) {
        function t() {
            return function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t),
                function(e, t) {
                    if (t && ("object" === a(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
        }
        var o, c;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, r.default), o = t, (c = [{
            key: "init",
            value: function() {
                this.$name = "pause-btn"
            }
        }, {
            key: "data",
            value: function() {
                return s({}, u(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "data", this).call(this), {
                    type: this._state.fallbackType
                })
            }
        }, {
            key: "mounted",
            value: function() {
                u(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "mounted", this).call(this), this._bind(), (0, i.event)("fallback", "fallback-".concat(this._state.fallbackType))
            }
        }, {
            key: "beforeDestroy",
            value: function() {
                this._unbind(), u(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "beforeDestroy", this).call(this)
            }
        }, {
            key: "_bind",
            value: function() {}
        }, {
            key: "_unbind",
            value: function() {}
        }, {
            key: "template",
            get: function() {
                return n(231)
            }
        }, {
            key: "components",
            get: function() {
                return {}
            }
        }]) && l(o.prototype, c), t
    }();
    t.default = c, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = a(n(94)),
        r = a(n(50)),
        i = n(200);

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var l = function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e)
        }
        var t, n;
        return t = e, n = [{
            key: "addFunctions",
            value: function() {
                i.Twig.extendFunction("t", function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
                    return o.default.t(e, t)
                }), i.Twig.extendFunction("asset_path", function(e) {
                    return r.default[e] ? r.default[e] : e
                })
            }
        }], null && s(t.prototype, null), n && s(t, n), e
    }();
    t.default = l, e.exports = t.default
}, function(e, t) {
    e.exports = '<div id="application">\n\n  <div data-component="Loader"></div>\n  \n  <div data-component="Quality"></div>\n\n  <div data-component="ToastMsg"></div>\n\n  <div data-component="SoundBars"></div>\n\n  <div data-component="Fullscreen"></div>\n\n  <div class="router-view" data-el="router"></div>\n\n</div>\n'
}, function(e, t) {
    e.exports = '{% set mainLocale = locales.credits.main %}\n{% set collabLocale = locales.credits.collaborators %}\n{% set voiceLocale = locales.credits.voiceover %}\n{% set thksLocale = locales.credits.thanks %}\n{% set extraLocale = locales.credits.extra %}\n\n<section class="page credits credits--animation-in credits--animation-in-timing">\n  <video\n    class="credits__video"\n    data-el="video"\n    preload\n    autoplay\n    muted\n  >\n    <source src="{{ asset_path(\'/assets/videos/credits.mp4\') }}" type="video/mp4">\n    <source src="{{ asset_path(\'/assets/videos/credits.webm\') }}" type="video/webm">\n  </video>\n\n  <svg class="credits__play" version="1.1" x="0px" y="0px" viewBox="0 0 86 86.8" style="enable-background:new 0 0 86 86.8;" xml:space="preserve">\n    <path d="M42.5,0.2C18.8,0.2-0.5,19.5-0.5,43.3c0,23.8,19.3,43.1,43.1,43.1c23.8,0,43.1-19.3,43.1-43.1C85.6,19.5,66.3,0.2,42.5,0.2z\n        M42.5,84.1C20,84.1,1.7,65.8,1.7,43.3C1.7,20.7,20,2.5,42.5,2.5s40.8,18.3,40.8,40.8C83.4,65.8,65.1,84.1,42.5,84.1z"/>\n    <path d="M42.5,9.1C23.6,9.1,8.3,24.4,8.3,43.3c0,18.9,15.3,34.2,34.2,34.2c18.9,0,34.2-15.3,34.2-34.2C76.8,24.4,61.4,9.1,42.5,9.1z\n        M45.5,52.5l-15.9,9.1l0-18.3l0-18.3l15.8,9.2l15.8,9.2L45.5,52.5z"/>\n  </svg>\n\n  <a class="credits__back" data-el="back">\n    <span class="credits__back-container"><span class="credits__back-arrow">&larr;</span> Back to menu</span>\n  </a>\n\n  <div class="credits__scroll-indicator" data-el="scrollIndicator">\n    <span class="credits__scroll-text"><span class="credits__scroll-arrow">&darr;</span> Scroll down</span>\n  </div>\n\n  <div class="credits__scroll" data-el="scroll">\n    <div class="credits__block credits__block--main">\n      <h1 class="credits__title">{{ mainLocale.title }}</h1>\n      <ul class="credits__staff">\n        {% for mainStaff in main %}\n        <li class="credits__staff-el">\n            <strong class="credits__name">{{ mainStaff.name }}</strong>\n            <ul class="credits__roles">\n              {% for role in mainStaff.roles %}\n              <li class="credits__role">{{role}}</li>\n              {% endfor %}\n            </ul>\n        </li>\n        {% endfor %}\n      </ul>\n    </div>\n\n    <div class="credits__block credits__block--collab">\n      <h1 class="credits__title">{{ collabLocale.title }}</h1>\n      <ul class="credits__staff">\n        {% for collabStaff in collab %}\n        <li class="credits__staff-el">\n            <strong class="credits__name">{{ collabStaff.name }}</strong>\n            <ul class="credits__roles">\n              {% for role in collabStaff.roles %}\n              <li class="credits__role">{{role}}</li>\n              {% endfor %}\n            </ul>\n        </li>\n        {% endfor %}\n      </ul>\n    </div>\n\n    <div class="credits__block credits__block--voiceovers">\n      <h1 class="credits__title">{{ voiceLocale.title }}</h1>\n      <ul class="credits__staff">\n        {% for voiceArtist in voices %}\n        <li class="credits__staff-el">\n            <strong class="credits__name">{{ voiceArtist.name }}</strong>\n            <ul class="credits__roles">\n              <li class="credits__role">{{ voiceArtist.role }}</li>\n            </ul>\n        </li>\n        {% endfor %}\n      </ul>\n    </div>\n\n    <div class="credits__block credits__block--thks">\n      <h1 class="credits__title">{{ thksLocale.title }}</h1>\n      <ul class="credits__staff">\n        {% for name in thanks %}\n        <li class="credits__staff-el">{{ name }}</li>\n        {% endfor %}\n        <li class="credits__staff-el credits__staff-el--gob">{{ extraLocale.gobelins }}</li>\n      </ul>\n    </div>\n\n  </div>\n</section>\n'
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i, a = (r = n(15)) && r.__esModule ? r : {
            default: r
        };

        function s(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function l(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var u = new(l((i = function() {
            function e() {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this._binded = !1, this._createSignals(), this.wheelDelta = {
                    x: 0,
                    y: 0
                }, this.scroll = {
                    x: 0,
                    y: 0
                }, this.preventWheel = !1, this.preventScroll = !1, this.bind()
            }
            var t, n;
            return t = e, (n = [{
                key: "bind",
                value: function() {
                    this._binded || (document.body.addEventListener("wheel", this._handleWheel, !1), window.addEventListener("scroll", this._handleScroll, !1), this._binded = !0)
                }
            }, {
                key: "unbind",
                value: function() {
                    this._binded && (document.body.removeEventListener("mousewheel", this._handleWheel, !1), window.removeEventListener("scroll", this._handleScroll, !1), this._binded = !1)
                }
            }, {
                key: "_createSignals",
                value: function() {
                    this.wheeled = new a.default, this.scrolled = new a.default
                }
            }, {
                key: "_handleWheel",
                value: function(e) {
                    this.preventWheel && (e.preventDefault(), e.stopPropagation()), this.wheelDelta = {
                        x: e.deltaX,
                        y: e.deltaY
                    }, this.wheeled.dispatch(e)
                }
            }, {
                key: "_handleScroll",
                value: function(e) {
                    this.preventScroll && (e.preventDefault(), e.stopPropagation()), this.scroll = {
                        x: window.scrollX,
                        y: window.scrollY
                    }, this.scrolled.dispatch(this.scroll)
                }
            }]) && s(t.prototype, n), e
        }()).prototype, "_handleWheel", [o], Object.getOwnPropertyDescriptor(i.prototype, "_handleWheel"), i.prototype), l(i.prototype, "_handleScroll", [o], Object.getOwnPropertyDescriptor(i.prototype, "_handleScroll"), i.prototype), i);
        t.default = u, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = p(n(57)),
            a = p(n(236)),
            s = p(n(52)),
            l = p(n(60)),
            u = p(n(12)),
            c = n(2),
            f = n(6);

        function p(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function d(e) {
            return (d = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function h() {
            return (h = Object.assign || function(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = arguments[t];
                    for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
                }
                return e
            }).apply(this, arguments)
        }

        function y(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function v(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : v(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }

        function _(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var m = (_((r = function(e) {
            function t() {
                return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                    function(e, t) {
                        if (t && ("object" === d(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
            }
            var o, r;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), o = t, (r = [{
                key: "init",
                value: function() {
                    this.$name = "credits", this._sounds.create(this.$name), this._cLocales = this._locales.credits, this._mainLocales = this._cLocales.main, this._collabLocales = this._cLocales.collaborators, this._thksLocales = this._cLocales.thanks, this._voiceoverLocales = this._cLocales.voiceover, this._scroll = 0, this._scrollTarget = 0, this._scrollIndicatorHidden = !1, this._played = !1, document.title = "Credits | ".concat(this._locales.global.meta.title), (0, f.pageview)("/credits")
                }
            }, {
                key: "getDependencies",
                value: function() {
                    var e = [],
                        t = this._quality.level,
                        n = this._textures.format;
                    return e.push("common-textures-".concat(t, "-").concat(n)), e
                }
            }, {
                key: "data",
                value: function() {
                    for (var e = {}, n = ["maud", "alexandre", "lovis", "patrick", "fabien"], o = 0, r = n.length; o < r; o++) {
                        var i = n[o];
                        e[i] = {
                            name: this._mainLocales["member_name_".concat(i)],
                            roles: this._mainLocales["member_role_".concat(i)].split(",")
                        }
                    }
                    for (var a = {}, s = ["mohave", "antoine"], l = 0, u = s.length; l < u; l++) {
                        var c = s[l];
                        a[c] = {
                            name: this._collabLocales["collaborator_name_".concat(c)],
                            roles: this._collabLocales["collaborator_role_".concat(c)].split(",")
                        }
                    }
                    for (var f = [], p = 0; p < 2; p++) f[p] = {
                        name: this._voiceoverLocales["voiceover_name_".concat(p)],
                        role: this._voiceoverLocales["voiceover_role_".concat(p)]
                    };
                    var d = [];
                    for (var y in this._thksLocales) y.indexOf("thanks") > -1 && d.push(this._thksLocales[y]);
                    return h({}, v(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "data", this).call(this), {
                        main: e,
                        mainIds: n,
                        collab: a,
                        collabIds: s,
                        voices: f,
                        thanks: d
                    })
                }
            }, {
                key: "mounted",
                value: function() {
                    var e = this;
                    v(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "mounted", this).call(this), this.$els.video.play(), this._playTimeout = setTimeout(function() {
                        e.$els.video.paused ? e.$el.classList.add("credits--is-not-playing") : e._played = !0
                    }, 200), this._fromEnd = this._router.lastRoute && "end" === this._router.lastRoute.name, this._fromEnd ? (this.$el.classList.add("credits--is-from-end"), this._createAutoScroll()) : this.$els.video.loop = !0, this._bind(), this._sounds.create(this.$name), this._sounds.play("".concat(this.$name, "-theme")), this._sounds.get("".concat(this.$name, "-theme")).fade(1, 1)
                }
            }, {
                key: "beforeDestroy",
                value: function() {
                    if (clearTimeout(this._playTimeout), clearTimeout(this._enterTimeout), clearTimeout(this._enterTimingTimeout), v(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "beforeDestroy", this).call(this), this.$els.video.pause(), this._unbind(), this.$els.scrollIndicator && TweenMax.killTweensOf(this.$els.scrollIndicator), this._sounds.sonoGroups[this.$name]) {
                        var e = this._sounds.get("".concat(this.$name, "-theme"));
                        e.fade(0, 1), setTimeout(function() {
                            e.stop()
                        }, 1e3)
                    }
                }
            }, {
                key: "_bind",
                value: function() {
                    this._signals.loader.hidden.add(this._onLoaderHide), this.$els.video.addEventListener("ended", this._handleVideoEnd, !1), this._fromEnd || (l.default.direction.add(this._onDirection), u.default.buttonDowned.add(this._onButtonDown), a.default.wheeled.add(this._onWheel), s.default.add(this._onUpdate), this.$els.back.addEventListener("click", this._handleBackClick, !1))
                }
            }, {
                key: "_unbind",
                value: function() {
                    this._signals.loader.hidden.remove(this._onLoaderHide), this.$els.video.removeEventListener("ended", this._handleVideoEnd, !1), this._fromEnd || (l.default.direction.remove(this._onDirection), u.default.buttonDowned.remove(this._onButtonDown), a.default.wheeled.remove(this._onWheel), s.default.remove(this._onUpdate), this.$els.back.removeEventListener("click", this._handleBackClick, !1))
                }
            }, {
                key: "_createAutoScroll",
                value: function() {
                    var e = this;
                    this._autoScrollTl = new TimelineMax({
                        paused: !0,
                        onComplete: function() {
                            e._router.navigate("/")
                        }
                    }), this._autoScrollTl.set(this.$els.scroll, {
                        y: "30%"
                    }).to(this.$els.scroll, 45, {
                        y: "-110%",
                        ease: Power0.easeNone,
                        force3D: !0
                    }), this._tls.push(this._autoScrollTl), this._autoScrollTl.play()
                }
            }, {
                key: "_handleClick",
                value: function() {
                    this._played || (this._played = !0, this.$els.video.play(), this.$el.classList.remove("credits--is-not-playing"))
                }
            }, {
                key: "_handleVideoEnd",
                value: function() {}
            }, {
                key: "_handleBackClick",
                value: function() {
                    this._router.navigate("/")
                }
            }, {
                key: "_onWheel",
                value: function(e) {
                    var t = .02 * e.deltaY;
                    this._scrollTarget = (0, c.clamp)(this._scrollTarget + t, 0, 85), this._scrollIndicatorHidden || TweenMax.to(this.$els.scrollIndicator, 1, {
                        autoAlpha: 0,
                        delay: 1.5
                    })
                }
            }, {
                key: "_onUpdate",
                value: function(e, t) {
                    this._scroll += .1 * (this._scrollTarget - this._scroll), this.$els.scroll.style.transform = "translate3d(0, -".concat(this._scroll, "%, 0)")
                }
            }, {
                key: "_onDirection",
                value: function(e, t) {
                    "up" === t ? this._scrollTarget = (0, c.clamp)(this._scrollTarget - 3, 0, 85) : "down" === t && (this._scrollTarget = (0, c.clamp)(this._scrollTarget + 3, 0, 85))
                }
            }, {
                key: "_onButtonDown",
                value: function(e) {
                    "button_2" === e && this._router.navigate("/")
                }
            }, {
                key: "_onLoaderHide",
                value: function() {
                    var e = this;
                    this._enterTimeout = setTimeout(function() {
                        e.$el.classList.remove("credits--animation-in")
                    }, 100), this._enterTimingTimeout = setTimeout(function() {
                        e.$el.classList.remove("credits--animation-in-timing")
                    }, 1800)
                }
            }, {
                key: "template",
                get: function() {
                    return n(235)
                }
            }, {
                key: "components",
                get: function() {
                    return {}
                }
            }]) && y(o.prototype, r), t
        }()).prototype, "_handleClick", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleClick"), r.prototype), _(r.prototype, "_handleVideoEnd", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleVideoEnd"), r.prototype), _(r.prototype, "_handleBackClick", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleBackClick"), r.prototype), _(r.prototype, "_onWheel", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onWheel"), r.prototype), _(r.prototype, "_onUpdate", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onUpdate"), r.prototype), _(r.prototype, "_onDirection", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onDirection"), r.prototype), _(r.prototype, "_onButtonDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onButtonDown"), r.prototype), _(r.prototype, "_onLoaderHide", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onLoaderHide"), r.prototype), r);
        t.default = m, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t) {
    e.exports = '<section class="page end">\n\n  <video\n    class="end__video"\n    data-el="video"\n    preload\n    autoplay\n  >\n    <source src="{{ asset_path(\'/assets/videos/end.mp4\') }}" type="video/mp4">\n    <source src="{{ asset_path(\'/assets/videos/end.webm\') }}" type="video/webm">\n  </video>\n\n  <svg class="end__play" version="1.1" x="0px" y="0px" viewBox="0 0 86 86.8" style="enable-background:new 0 0 86 86.8;" xml:space="preserve">\n    <path d="M42.5,0.2C18.8,0.2-0.5,19.5-0.5,43.3c0,23.8,19.3,43.1,43.1,43.1c23.8,0,43.1-19.3,43.1-43.1C85.6,19.5,66.3,0.2,42.5,0.2z\n        M42.5,84.1C20,84.1,1.7,65.8,1.7,43.3C1.7,20.7,20,2.5,42.5,2.5s40.8,18.3,40.8,40.8C83.4,65.8,65.1,84.1,42.5,84.1z"/>\n    <path d="M42.5,9.1C23.6,9.1,8.3,24.4,8.3,43.3c0,18.9,15.3,34.2,34.2,34.2c18.9,0,34.2-15.3,34.2-34.2C76.8,24.4,61.4,9.1,42.5,9.1z\n        M45.5,52.5l-15.9,9.1l0-18.3l0-18.3l15.8,9.2l15.8,9.2L45.5,52.5z"/>\n  </svg>\n\n  <div data-component="Subtitles"></div>\n\n</section>\n'
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = f(n(57)),
            a = f(n(52)),
            s = f(n(92)),
            l = n(142),
            u = n(141),
            c = n(6);

        function f(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function p(e) {
            return (p = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function d(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function h(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : h(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }

        function y(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var v = (y((r = function(e) {
            function t() {
                return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                    function(e, t) {
                        if (t && ("object" === p(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
            }
            var o, r;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), o = t, (r = [{
                key: "init",
                value: function() {
                    this.$name = "end", this._played = !1, this._currentSubIndex = 0, document.title = "The end | ".concat(this._locales.global.meta.title), (0, c.pageview)("/end")
                }
            }, {
                key: "mounted",
                value: function() {
                    var e = this;
                    h(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "mounted", this).call(this), this._autoplayTimeout = setTimeout(function() {
                        e.$els.video.play()
                    }, 800), this._playTimeout = setTimeout(function() {
                        e.$els.video.paused ? e.$el.classList.add("end--is-not-playing") : e._played = !0
                    }, 1e3), this._subs = (0, l.parse)(u.outro), this._currentSub = this._subs[0], this._bind()
                }
            }, {
                key: "beforeDestroy",
                value: function() {
                    clearTimeout(this._autoplayTimeout), clearTimeout(this._playTimeout), h(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "beforeDestroy", this).call(this), this.$els.video && this.$els.video.pause(), this._unbind()
                }
            }, {
                key: "getDependencies",
                value: function() {
                    var e = [],
                        t = this._quality.level,
                        n = this._textures.format;
                    return e.push("common-textures-".concat(t, "-").concat(n)), e
                }
            }, {
                key: "_bind",
                value: function() {
                    this.$el.addEventListener("click", this._handleClick, !1), this.$els.video.addEventListener("ended", this._handleVideoEnd, !1), a.default.add(this._onUpdate)
                }
            }, {
                key: "_unbind",
                value: function() {
                    this.$el.removeEventListener("click", this._handleClick, !1), this.$els.video && this.$els.video.removeEventListener("ended", this._handleVideoEnd, !1), a.default.remove(this._onUpdate)
                }
            }, {
                key: "_handleClick",
                value: function() {
                    this._played || (this._played = !0, this.$els.video.play(), this.$el.classList.remove("end--is-not-playing"))
                }
            }, {
                key: "_handleVideoEnd",
                value: function() {
                    this._router.navigate("/credits")
                }
            }, {
                key: "_onUpdate",
                value: function(e, t) {
                    var n = 1e3 * this.$els.video.currentTime;
                    if (this._currentSub) {
                        var o = this._currentSub,
                            r = o.start,
                            i = o.end,
                            a = o.text;
                        n >= i && this._subIsActive ? (this._subIsActive = !1, this._currentSubIndex++, this._signals.subtitles.remove.dispatch(), this._currentSub = this._subs[this._currentSubIndex]) : n >= r && !this._subIsActive && (this._subIsActive = !0, this._signals.subtitles.add.dispatch(a))
                    }
                }
            }, {
                key: "template",
                get: function() {
                    return n(238)
                }
            }, {
                key: "components",
                get: function() {
                    return {
                        Subtitles: s.default
                    }
                }
            }]) && d(o.prototype, r), t
        }()).prototype, "_handleClick", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleClick"), r.prototype), y(r.prototype, "_handleVideoEnd", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleVideoEnd"), r.prototype), y(r.prototype, "_onUpdate", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onUpdate"), r.prototype), r);
        t.default = v, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t) {
    e.exports = '<section class="page level {{ router.currentRoute.params.name }}">\n\n  <div data-component="GL" data-ref="gl" data-scene-name="{{ sceneName }}"></div>\n\n  <div data-component="Powers" data-ref="powers" data-scene-name="{{ sceneName }}"></div>\n\n  <div data-component="Checkpoint" data-ref="checkpoint" data-scene-name="{{ sceneName }}"></div>\n\n  <div data-component="BigMsg" data-ref="BigMsg" data-scene-name="{{ sceneName }}"></div>\n\n  <div data-component="Instructions" data-ref="Instructions" data-scene-name="{{ sceneName }}"></div>\n\n  <div data-component="Pause" data-ref="pause" data-scene-name="{{ sceneName }}"></div>\n  \n  <div data-component="PauseBtn" data-ref="pauseBtn"></div>\n\n  <div data-component="Subtitles"></div>\n\n</section>\n'
}, function(e, t) {
    e.exports = '{% set checkpointLocales = locales.global.checkpoints %}\n<div class="checkpoint">\n  <div class="checkpoint__container" data-el="container">\n    <div class="checkpoint__msg" data-el="msg">{{ checkpointLocales.default }}</div>\n  </div>\n</div>\n'
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i, a = (r = n(7)) && r.__esModule ? r : {
                default: r
            },
            s = n(2);

        function l(e) {
            return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function u(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function c(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : c(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }
        var f, p, d, h, y, v, _ = (f = (i = function(e) {
            function t() {
                return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                    function(e, t) {
                        if (t && ("object" === l(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
            }
            var o, r;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, a.default), o = t, (r = [{
                key: "init",
                value: function() {
                    this.$name = "checkpoint"
                }
            }, {
                key: "mounted",
                value: function() {
                    this._checkpointLocale = this._locales.global.checkpoints, c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "mounted", this).call(this), this._bind(), this._text = new SplitText(this.$els.msg, {
                        type: "chars",
                        wordsClass: "char"
                    })
                }
            }, {
                key: "beforeDestroy",
                value: function() {
                    c(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "beforeDestroy", this).call(this), this._unbind(), this._showTl && (this._showTl.kill(), this._showTl.clear())
                }
            }, {
                key: "_createTls",
                value: function() {
                    if (this._showTl = new TimelineMax({
                            paused: !0
                        }), this._tls.push(this._showTl), this.$el)
                        for (var e = 0, t = this._text.chars.length; e < t; e++) this._showTl.set(this.$el, {
                            autoAlpha: 1
                        }, 0).set(this._text.chars[e], {
                            autoAlpha: 0,
                            x: (0, s.randomSign)() * (0, s.randomFloat)(10, 20),
                            y: (0, s.randomSign)() * (0, s.randomFloat)(10, 20),
                            z: (0, s.randomSign)() * (0, s.randomFloat)(100, 200),
                            rotation: (0, s.randomFloat)(-Math.PI, Math.PI),
                            force3D: !0
                        }, 0).to(this._text.chars, (0, s.randomFloat)(1, 1.5), {
                            autoAlpha: 1,
                            x: 0,
                            y: 0,
                            z: 0,
                            rotation: 0,
                            force3D: !0,
                            ease: Expo.easeOut
                        }, (0, s.randomFloat)(0, 1)).to(this._text.chars[e], (0, s.randomFloat)(.7, 1.2), {
                            autoAlpha: 0,
                            x: (0, s.randomSign)() * (0, s.randomFloat)(10, 20),
                            y: (0, s.randomSign)() * (0, s.randomFloat)(10, 20),
                            z: (0, s.randomSign)() * (0, s.randomFloat)(100, 200),
                            rotation: 0,
                            force3D: !0,
                            ease: Expo.easeOut
                        }, (0, s.randomFloat)(3, 3.5))
                }
            }, {
                key: "_bind",
                value: function() {
                    this._signals.checkpoint.show.add(this._show)
                }
            }, {
                key: "_unbind",
                value: function() {
                    this._signals.checkpoint.show.remove(this._show)
                }
            }, {
                key: "_show",
                value: function() {
                    this._showTl && this._showTl.pause(), this._createTls(), this._showTl.play(0)
                }
            }, {
                key: "template",
                get: function() {
                    return n(241)
                }
            }, {
                key: "components",
                get: function() {
                    return {}
                }
            }]) && u(o.prototype, r), t
        }()).prototype, p = "_show", d = [o], h = Object.getOwnPropertyDescriptor(i.prototype, "_show"), y = i.prototype, v = {}, Object.keys(h).forEach(function(e) {
            v[e] = h[e]
        }), v.enumerable = !!v.enumerable, v.configurable = !!v.configurable, ("value" in v || v.initializer) && (v.writable = !0), v = d.slice().reverse().reduce(function(e, t) {
            return t(f, p, e) || e
        }, v), y && void 0 !== v.initializer && (v.value = v.initializer ? v.initializer.call(y) : void 0, v.initializer = void 0), void 0 === v.initializer && (Object.defineProperty(f, p, v), v = null), i);
        t.default = _, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = d(n(57)),
        r = d(n(91)),
        i = d(n(140)),
        a = d(n(242)),
        s = d(n(137)),
        l = d(n(139)),
        u = d(n(138)),
        c = d(n(136)),
        f = d(n(92)),
        p = n(6);

    function d(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function h(e) {
        return (h = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function y() {
        return (y = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }

    function v(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var _ = function(e) {
        function t() {
            var e;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === h(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))).$name = "level", e.sceneName = e._router.currentRoute.params.name;
            var n = e._locales[e.sceneName].title.main,
                o = e._locales[e.sceneName].title.sub;
            return document.title = "".concat(n, " - ").concat(o, " | ").concat(e._locales.global.meta.title), (0, p.pageview)("/level/".concat(e.sceneName)), e
        }
        var d, _;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), d = t, (_ = [{
            key: "data",
            value: function() {
                return y({}, function e(t, n, o) {
                    null === t && (t = Function.prototype);
                    var r = Object.getOwnPropertyDescriptor(t, n);
                    if (void 0 === r) {
                        var i = Object.getPrototypeOf(t);
                        return null === i ? void 0 : e(i, n, o)
                    }
                    if ("value" in r) return r.value;
                    var a = r.get;
                    return void 0 !== a ? a.call(o) : void 0
                }(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "data", this).call(this), {
                    sceneName: this.sceneName
                })
            }
        }, {
            key: "getDependencies",
            value: function() {
                var e = [this.sceneName],
                    t = this._quality.level,
                    n = this._textures.format;
                return e.push("".concat(this.$name, "-textures-").concat(t, "-").concat(n)), e.push("".concat(this.sceneName, "-textures-").concat(t, "-").concat(n)), e
            }
        }, {
            key: "template",
            get: function() {
                return n(240)
            }
        }, {
            key: "components",
            get: function() {
                return {
                    GL: r.default,
                    Powers: i.default,
                    Checkpoint: a.default,
                    BigMsg: l.default,
                    Instructions: u.default,
                    Pause: s.default,
                    PauseBtn: c.default,
                    Subtitles: f.default
                }
            }
        }]) && v(d.prototype, _), t
    }();
    t.default = _, e.exports = t.default
}, function(e, t) {
    e.exports = '<section class="page tutorial">\n\n  <div data-component="GL" data-ref="gl" data-scene-name="{{ sceneName }}"></div>\n\n  <div data-component="Powers" data-ref="powers" data-scene-name="{{ sceneName }}"></div>\n\n  <div data-component="BigMsg" data-ref="BigMsg" data-scene-name="{{ sceneName }}"></div>\n\n  <div data-component="Instructions" data-ref="Instructions" data-scene-name="{{ sceneName }}"></div>\n\n  <div data-component="Pause" data-ref="pause" data-scene-name="{{ sceneName }}"></div>\n\n  <div data-component="PauseBtn" data-ref="pauseBtn"></div>\n\n</section>\n'
}, function(e, t) {
    e.exports = '<div class="pause-btn">\n  <div class="pause-btn__bar pause-btn__bar--left"></div>\n  <div class="pause-btn__bar pause-btn__bar--right"></div>\n</div>\n'
}, function(e, t) {
    e.exports = '{% set mainLocale = locales.menu.main %}\n{% set aboutLocale = locales.menu.about %}\n\n<div class="pause">\n  <div class="pause__overlay" data-el="overlay"></div>\n  <div class="pause__container">\n    <div class="pause__orbe pause__orbe--top"></div>\n    <div class="pause__orbe pause__orbe--bottom"></div>\n    <div class="pause__orbe pause__orbe--left"></div>\n    <div class="pause__orbe pause__orbe--right"></div>\n    \n    <div class="pause__crystal pause__crystal--top-left">\n      <div class="pause__crystal-bg"></div>\n    </div>\n    <div class="pause__crystal pause__crystal--top-right">\n      <div class="pause__crystal-bg"></div>\n    </div>\n    <div class="pause__crystal pause__crystal--top">\n      <div class="pause__crystal-bg"></div>\n    </div>\n    <div class="pause__crystal pause__crystal--bottom">\n      <div class="pause__crystal-bg"></div>\n    </div>\n\n    <h1 class="pause__title" data-el="title"></h1>\n\n    <div class="pause__main" data-el="main">\n        <div class="pause__small-btn pause__small-btn--keyboard" data-el="keyboard" data-id="keyboard">{{mainLocale.keyboard}}</div>\n        <div class="pause__small-btn pause__small-btn--gamepad" data-el="gamepad" data-id="gamepad">{{mainLocale.gamepad}}</div>\n        <div class="pause__keyboard-toggle" data-el="toggleQwerty" data-id="toggleQwerty">{{mainLocale.layout}}: <span class="pause__checkbox" data-el="checkbox"></span> {{mainLocale.azerty}}</div>\n        <img class="pause__layout pause__layout--keyboard" src="{{ asset_path(\'/assets/images/pause/keyboard-layout.png\') }}" alt="keyboard layout"></img>\n        <img class="pause__layout pause__layout--gamepad" src="{{ asset_path(\'/assets/images/pause/gamepad-layout.png\') }}" alt="gamepad layout"></img>\n    </div>\n\n    <div class="pause__about" data-el="about">\n      <h2 class="pause__about-title">{{ aboutLocale.what_title }}</h2>\n      <p class="pause__about-desc">{{ aboutLocale.what_desc }}</p>\n      <h2 class="pause__about-title">{{ aboutLocale.who_title }}</h2>\n      <ul class="pause__about-list">\n        <li class="pause__about-el"><a href="{{aboutLocale.maud_url}}" target="_blank">{{aboutLocale.maud}}</a></li>\n        <li class="pause__about-el"><a href="{{aboutLocale.alexandre_url}}" target="_blank">{{aboutLocale.alexandre}}</a></li>\n        <li class="pause__about-el"><a href="{{aboutLocale.lovis_url}}" target="_blank">{{aboutLocale.lovis}}</a></li>\n        <li class="pause__about-el"><a href="{{aboutLocale.patrick_url}}" target="_blank">{{aboutLocale.patrick}}</a></li>\n        <li class="pause__about-el"><a href="{{aboutLocale.fabien_url}}" target="_blank">{{aboutLocale.fabien}}</a></li>\n      </ul>\n      <h2 class="pause__about-title">{{ aboutLocale.friends_title }}</h2>\n      <ul class="pause__about-list">\n        <li class="pause__about-el"><a href="{{aboutLocale.lordre_url}}" target="_blank">{{aboutLocale.lordre}}</a></li>\n        <li class="pause__about-el"><a href="{{aboutLocale.mohave_url}}" target="_blank">{{aboutLocale.mohave}}</a></li>\n        <li class="pause__about-el"><a href="{{aboutLocale.antoine_url}}" target="_blank">{{aboutLocale.antoine}}</a></li>\n      </ul>\n    </div>\n\n    <div class="pause__big-btn pause__big-btn--leave" data-el="leave" data-id="leave">{{mainLocale.leave}}</div>\n    <div class="pause__big-btn pause__big-btn--credits" data-el="credits" data-id="credits">{{mainLocale.credits}}</div>\n    <div class="pause__big-btn pause__big-btn--toggle" data-el="toggle" data-id="toggle">\n      <span class="pause__toggle-about">{{mainLocale.about}}</span>\n      <span class="pause__toggle-controls">{{mainLocale.controls}}</span>\n    </div>\n  </div>\n</div>\n'
}, function(e, t) {
    e.exports = '<div class="instructions">\n  <p class="instructions__text" data-el="text"></p>\n</div>\n'
}, function(e, t) {
    e.exports = '<div class="big-msg">\n  <div class="big-msg__title" data-el="title"></div>\n  <div class="big-msg__msg" data-el="msg"></div>\n</div>\n'
}, function(e, t) {
    e.exports = '<ul class="powers">\n{% for i in 0..2 %}\n  <li class="powers__el powers__el--{{ i }}" data-el="powers" data-index="{{ i }}">\n\n    <div class="power_el-content">\n\n      <div class="powers__hit"></div>\n\n        <div\n          class="powers__bg powers__bg--disable"\n          style="background-image: url({{ images[\'bg\' ~ i ~ \'-disable\'] }})"\n        ></div>\n    \n        <div\n          data-el="bgEnable"\n          class="powers__bg powers__bg--enable"\n          style="background-image: url({{ images[\'bg\' ~ i ~ \'-enable\'] }})"\n        ></div>\n    \n        <div class="powers__picto-container" data-el="pictos">\n          <img \n            data-el="pictoDisable"\n            class="powers__picto powers__picto--disable"\n            src="{{ images[\'picto\' ~ i ~ \'-disable\'] }}"\n            alt="picto power disable {{i}}"\n          >\n          <img \n            data-el="pictoEnable"\n            class="powers__picto powers__picto--enable"\n            src="{{ images[\'picto\' ~ i ~ \'-enable\'] }}"\n            alt="picto power enable {{i}}"\n          >\n\n        </div>\n\n    </div>\n\n    <div\n      data-el="sprites"\n      class="powers__sprite"\n      style="background-image: url({{ images[\'power-sprite\'] }})"\n    ></div>\n  </li>\n{% endfor %}\n</ul>\n'
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = f(n(57)),
        r = f(n(91)),
        i = f(n(140)),
        a = f(n(139)),
        s = f(n(138)),
        l = f(n(137)),
        u = f(n(136)),
        c = n(6);

    function f(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function p(e) {
        return (p = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function d() {
        return (d = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }

    function h(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var y = function(e) {
        function t() {
            var e;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === p(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))).$name = "tutorial", e.sceneName = e.$name;
            var n = e._locales[e.sceneName].title.main,
                o = e._locales[e.sceneName].title.sub;
            return document.title = "".concat(n, " - ").concat(o, " | ").concat(e._locales.global.meta.title), (0, c.pageview)("/tutorial"), e
        }
        var f, y;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), f = t, (y = [{
            key: "data",
            value: function() {
                return d({}, function e(t, n, o) {
                    null === t && (t = Function.prototype);
                    var r = Object.getOwnPropertyDescriptor(t, n);
                    if (void 0 === r) {
                        var i = Object.getPrototypeOf(t);
                        return null === i ? void 0 : e(i, n, o)
                    }
                    if ("value" in r) return r.value;
                    var a = r.get;
                    return void 0 !== a ? a.call(o) : void 0
                }(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "data", this).call(this), {
                    sceneName: this.sceneName
                })
            }
        }, {
            key: "getDependencies",
            value: function() {
                var e = [this.$name],
                    t = this._quality.level,
                    n = this._textures.format;
                return e.push("level-textures-".concat(t, "-").concat(n)), e.push("".concat(this.$name, "-textures-").concat(t, "-").concat(n)), e
            }
        }, {
            key: "template",
            get: function() {
                return n(244)
            }
        }, {
            key: "components",
            get: function() {
                return {
                    GL: r.default,
                    Powers: i.default,
                    BigMsg: a.default,
                    Instructions: s.default,
                    Pause: l.default,
                    PauseBtn: u.default
                }
            }
        }]) && h(f.prototype, y), t
    }();
    t.default = y, e.exports = t.default
}, function(e, t) {
    e.exports = '{% set metaLocales = locales.global.meta %}\n\n<section class="page home">\n\n  <h1 class="home__title">{{ metaLocales.title }}</h1>\n\n  <div data-component="HomeCatchphrase"></div>\n\n  <div data-component="HomeVideo"></div>\n\n  <div data-component="GL" data-ref="gl" data-scene-name="{{ sceneName }}"></div>\n  \n  <div data-component="IntroVideo"></div>\n\n  <div data-component="Subtitles"></div>\n  \n</section>\n'
}, function(e, t) {
    e.exports = '<div class="gl"></div>\n'
}, function(e, t) {
    e.exports = '<div class="subtitles subtitles--{{ pageName }}">\n  <div class="subtitles__text" data-el="text"></div>\n</div>\n'
}, function(e, t) {
    e.exports = '{% set introVideoLocales = locales.home.intro_video %}\n<div class="intro-video">\n  <video\n  class="intro-video__el"\n  data-el="video"\n  >\n    <source src="{{ asset_path(\'/assets/videos/intro.mp4\') }}" type="video/mp4">\n    <source src="{{ asset_path(\'/assets/videos/intro.webm\') }}" type="video/webm">\n  </video>\n\n  <svg class="intro-video__play" version="1.1" x="0px" y="0px" viewBox="0 0 86 86.8" style="enable-background:new 0 0 86 86.8;" xml:space="preserve">\n    <path d="M42.5,0.2C18.8,0.2-0.5,19.5-0.5,43.3c0,23.8,19.3,43.1,43.1,43.1c23.8,0,43.1-19.3,43.1-43.1C85.6,19.5,66.3,0.2,42.5,0.2z\n        M42.5,84.1C20,84.1,1.7,65.8,1.7,43.3C1.7,20.7,20,2.5,42.5,2.5s40.8,18.3,40.8,40.8C83.4,65.8,65.1,84.1,42.5,84.1z"/>\n    <path d="M42.5,9.1C23.6,9.1,8.3,24.4,8.3,43.3c0,18.9,15.3,34.2,34.2,34.2c18.9,0,34.2-15.3,34.2-34.2C76.8,24.4,61.4,9.1,42.5,9.1z\n        M45.5,52.5l-15.9,9.1l0-18.3l0-18.3l15.8,9.2l15.8,9.2L45.5,52.5z"/>\n  </svg>\n\n  <button class="intro-video__skip" data-el="skip">{{ introVideoLocales.skip }}</button>\n</div>\n'
}, function(e, t) {
    e.exports = "1\n00:00:00,880 --\x3e 00:00:02,880\nOHOHOHOH... AHAHAH...\n\n2\n00:00:02,920 --\x3e 00:00:04,500\nNOT A MOMENT TOO SOON!\n\n3\n00:00:09,500 --\x3e 00:00:13,400\nHMMM... WELL, HE DID COME FASTER THAN THE LAST WEEK'S CHOSEN ONE!\n\n4\n00:00:13,420 --\x3e 00:00:14,420\nEHEHEHEHEH \n\n5\n00:00:14,800 --\x3e 00:00:15,860\nTHANKS DUDE.\n\n6\n00:00:15,900 --\x3e 00:00:18,360\nI'LL CALL YOU BACK IF I NEED MORE HELP LATER.\n\n7\n00:00:19,040 --\x3e 00:00:19,920\nNo... No...\n\n8\n00:00:20,100 --\x3e 00:00:21,780\nno no NO NO NOOOOO!\n\n9\n00:00:23,520 --\x3e 00:00:26,140\naaaahGhAAAAAAH!!!\n"
}, function(e, t) {
    e.exports = "1\n00:00:08,720 --\x3e 00:00:09,180\nUhhh...\n\n2\n00:00:16,880 --\x3e 00:00:17,480\nYOU!\n\n3\n00:00:17,540 --\x3e 00:00:18,040\nEhhh...\n\n4\n00:00:18,160 --\x3e 00:00:19,920\nYOU FOUND MY AMPHORA!\n\n5\n00:00:19,960 --\x3e 00:00:21,540\nYOU'RE THE CHOSEN ONE!\n\n6\n00:00:21,580 --\x3e 00:00:22,060\nWhat?\n\n7\n00:00:22,220 --\x3e 00:00:23,380\nHey, wait a second!\n\n8\n00:00:23,480 --\x3e 00:00:25,960\nCLIMB THE SACRED MOUNTAIN AND BRING IT BACK TO ME!\n\n9\n00:00:27,780 --\x3e 00:00:28,880\nThis guy is nuts.\n\n10\n00:00:29,100 --\x3e 00:00:31,000\nNo way, I'm going home.\n\n11\n00:00:32,440 --\x3e 00:00:33,480\nI'M NOT DONE!\n\n12\n00:00:33,780 --\x3e 00:00:36,300\nYOUR QUEST WILL BE SCATTERED WITH PITFALLS. \n\n13\n00:00:36,480 --\x3e 00:00:38,800\nIN ORDER TO HELP YOU, TAKE THIS POWER!\n\n14\n00:00:39,280 --\x3e 00:00:40,800\nGOOD LUCK, CHOSEN ONE!\n\n15\n00:00:41,600 --\x3e 00:00:42,800\nDammit.\n\n"
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = p(n(7)),
            a = p(n(12)),
            s = p(n(52)),
            l = p(n(11)),
            u = n(142),
            c = n(141),
            f = n(6);

        function p(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function d(e) {
            return (d = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function h(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function y(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : y(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }

        function v(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var _ = (v((r = function(e) {
            function t() {
                return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                    function(e, t) {
                        if (t && ("object" === d(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
            }
            var o, r;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), o = t, (r = [{
                key: "init",
                value: function() {
                    this.$name = "intro-video", this._played = !1, this._skipped = !1, this._currentSubIndex = 0, this._subIsActive = !1, this._currentSub = null
                }
            }, {
                key: "mounted",
                value: function() {
                    y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "mounted", this).call(this), this._bind()
                }
            }, {
                key: "beforeDestroy",
                value: function() {
                    clearTimeout(this._playTimeout), clearTimeout(this._hideCanvasTimeout), this._signals.subtitles.remove.dispatch(), this._unbind(), y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "beforeDestroy", this).call(this)
                }
            }, {
                key: "_bind",
                value: function() {
                    this._signals.home.startIntroVideo.add(this._startIntroVideo), this._signals.footer.soundToggle.add(this._onSoundToggle), this.$el.addEventListener("click", this._handleClick, !1), this.$els.video.addEventListener("ended", this._handleVideoEnd), this.$els.skip.addEventListener("click", this._handleSkipClick), a.default.buttonDowned.add(this._onButtonDown)
                }
            }, {
                key: "_unbind",
                value: function() {
                    this._signals.home.startIntroVideo.remove(this._startIntroVideo), this._signals.footer.soundToggle.remove(this._onSoundToggle), this.$el.removeEventListener("click", this._handleClick, !1), this.$els.video.removeEventListener("ended", this._handleVideoEnd), this.$els.skip.removeEventListener("click", this._handleSkipClick), a.default.buttonDowned.remove(this._onButtonDown), this._played && s.default.remove(this._onUpdate)
                }
            }, {
                key: "_startIntroVideo",
                value: function() {
                    var e = this;
                    this._played || (this._subs = (0, u.parse)(c.intro), this._currentSub = this._subs[0], s.default.add(this._onUpdate), this._sounds.get("home-theme").fade(0, 1), this.$el.classList.add("intro-video--is-visible"), this.$els.video.play(), this._hideCanvasTimeout = setTimeout(function() {
                        l.default.renderer.domElement.classList.add("hide")
                    }, 400), this._playTimeout = setTimeout(function() {
                        e.$els.video.paused ? e.$el.classList.add("intro-video--is-not-playing") : e._played = !0
                    }, 200), (0, f.event)("intro", "intro-start"))
                }
            }, {
                key: "_skip",
                value: function() {
                    var e = this;
                    !this._skipped && this._played && (this._skipped = !0, this.$el.classList.add("intro-video--is-hidden"), setTimeout(function() {
                        e.$els.video.pause(), e._router.navigate("/tutorial")
                    }, 1e3), (0, f.event)("intro", "intro-skip"))
                }
            }, {
                key: "_handleClick",
                value: function() {
                    this._played || (this._played = !0, this.$els.video.play(), this.$el.classList.remove("intro-video--is-not-playing"))
                }
            }, {
                key: "_handleSkipClick",
                value: function() {
                    this._skip()
                }
            }, {
                key: "_handleVideoEnd",
                value: function() {
                    this._skipped || this._router.navigate("/tutorial")
                }
            }, {
                key: "_onSoundToggle",
                value: function(e) {
                    this.$els.video && (this.$els.video.volume = e ? 1 : 0)
                }
            }, {
                key: "_onButtonDown",
                value: function(e) {
                    "start" === e && this._skip()
                }
            }, {
                key: "_onUpdate",
                value: function(e, t) {
                    var n = 1e3 * this.$els.video.currentTime;
                    if (this._currentSub) {
                        var o = this._currentSub,
                            r = o.start,
                            i = o.end,
                            a = o.text;
                        n >= i && this._subIsActive ? (this._subIsActive = !1, this._currentSubIndex++, this._signals.subtitles.remove.dispatch(), this._currentSub = this._subs[this._currentSubIndex]) : n >= r && !this._subIsActive && (this._subIsActive = !0, this._signals.subtitles.add.dispatch(a))
                    }
                }
            }, {
                key: "template",
                get: function() {
                    return n(254)
                }
            }, {
                key: "components",
                get: function() {
                    return {}
                }
            }]) && h(o.prototype, r), t
        }()).prototype, "_startIntroVideo", [o], Object.getOwnPropertyDescriptor(r.prototype, "_startIntroVideo"), r.prototype), v(r.prototype, "_handleClick", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleClick"), r.prototype), v(r.prototype, "_handleSkipClick", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleSkipClick"), r.prototype), v(r.prototype, "_handleVideoEnd", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleVideoEnd"), r.prototype), v(r.prototype, "_onSoundToggle", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onSoundToggle"), r.prototype), v(r.prototype, "_onButtonDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onButtonDown"), r.prototype), v(r.prototype, "_onUpdate", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onUpdate"), r.prototype), r);
        t.default = _, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t) {
    e.exports = '<div class="home-video">\n  <video\n  class="home-video__el"\n  data-el="video"\n  autoload\n  muted\n  >\n    <source src="{{ asset_path(\'/assets/videos/home.mp4\') }}" type="video/mp4">\n    <source src="{{ asset_path(\'/assets/videos/home.webm\') }}" type="video/webm">\n  </video>\n</div>\n'
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i, a = (r = n(7)) && r.__esModule ? r : {
            default: r
        };

        function s(e) {
            return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function l(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function u(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : u(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }

        function c(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var f = (c((i = function(e) {
            function t() {
                return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                    function(e, t) {
                        if (t && ("object" === s(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
            }
            var o, r;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, a.default), o = t, (r = [{
                key: "init",
                value: function() {
                    this.$name = "home-video", this._played = !1
                }
            }, {
                key: "mounted",
                value: function() {
                    u(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "mounted", this).call(this), 4 === this.$els.video.readyState && this.$els.video.play(), this._bind()
                }
            }, {
                key: "beforeDestroy",
                value: function() {
                    u(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "beforeDestroy", this).call(this), this._unbind()
                }
            }, {
                key: "_bind",
                value: function() {
                    this._signals.home.playVideo.add(this._play), this.$els.video.addEventListener("ended", this._onVideoEnded)
                }
            }, {
                key: "_unbind",
                value: function() {
                    this._signals.home.playVideo.remove(this._play), this.$els.video.removeEventListener("ended", this._onVideoEnded)
                }
            }, {
                key: "_play",
                value: function() {
                    var e = this;
                    this._played || (this._played = !0, this.$els.video.play(), setTimeout(function() {
                        e._signals.home.videoStarted.dispatch()
                    }, 100))
                }
            }, {
                key: "_onVideoCanPlay",
                value: function() {
                    this._play()
                }
            }, {
                key: "_onVideoEnded",
                value: function() {
                    this.$els.video.currentTime = 0, this.$els.video.paused && this.$els.video.play()
                }
            }, {
                key: "template",
                get: function() {
                    return n(258)
                }
            }, {
                key: "components",
                get: function() {
                    return {}
                }
            }]) && l(o.prototype, r), t
        }()).prototype, "_play", [o], Object.getOwnPropertyDescriptor(i.prototype, "_play"), i.prototype), c(i.prototype, "_onVideoCanPlay", [o], Object.getOwnPropertyDescriptor(i.prototype, "_onVideoCanPlay"), i.prototype), c(i.prototype, "_onVideoEnded", [o], Object.getOwnPropertyDescriptor(i.prototype, "_onVideoEnded"), i.prototype), i);
        t.default = f, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t) {
    e.exports = '{% set catchphraseLocales = locales.home.catchphrase %}\n\n<div class="home-catchphrase">\n  <strong class="home-catchphrase__main" data-el="main">{{ catchphraseLocales.mid_title }}</strong>\n  <span class="home-catchphrase__second" data-el="second">{{ catchphraseLocales.small_title }}</span>\n</div>\n'
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i, a = (r = n(7)) && r.__esModule ? r : {
            default: r
        };

        function s(e) {
            return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function l(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function u(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : u(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }
        var c, f, p, d, h, y, v = (c = (i = function(e) {
            function t() {
                return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                    function(e, t) {
                        if (t && ("object" === s(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
            }
            var o, r;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, a.default), o = t, (r = [{
                key: "init",
                value: function() {
                    this.$name = "home-video", this._played = !1
                }
            }, {
                key: "mounted",
                value: function() {
                    u(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "mounted", this).call(this), this._createTls(), this._bind()
                }
            }, {
                key: "beforeDestroy",
                value: function() {
                    u(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "beforeDestroy", this).call(this), this._unbind()
                }
            }, {
                key: "_bind",
                value: function() {
                    this._signals.home.menuIn.add(this._onMenuIn)
                }
            }, {
                key: "_unbind",
                value: function() {
                    this._signals.home.menuIn.remove(this._onMenuIn)
                }
            }, {
                key: "_createTls",
                value: function() {
                    var e = this;
                    this._blinkTl = new TimelineMax({
                        paused: !0,
                        yoyo: !0,
                        repeat: -1
                    }), this._enterTl = new TimelineMax({
                        paused: !0,
                        onComplete: function() {
                            e._blinkTl.play()
                        }
                    }), this._tls.push(this._blinkTl, this._enterTl), this._mainST = new SplitText(this.$els.main, {
                        type: "words",
                        wordsClass: "word"
                    }), this._blinkTl.fromTo(this.$els.second, .4, {
                        opacity: .5
                    }, {
                        opacity: .7,
                        ease: RoughEase.ease.config({
                            template: Power0.easeNone,
                            strength: 2,
                            points: 20,
                            taper: "none",
                            randomize: !0,
                            clamp: !1
                        })
                    }), TweenMax.set(this._mainST.words, {
                        z: 100,
                        opacity: 0
                    }), TweenMax.set(this.$els.second, {
                        y: 5,
                        opacity: 0
                    }), this._enterTl.staggerTo(this._mainST.words, 2, {
                        opacity: 1,
                        z: 0,
                        force3D: !0,
                        ease: Expo.easeOut
                    }, .05, 0).to(this.$els.second, 2, {
                        y: 0,
                        opacity: .5,
                        force3D: !0,
                        ease: Elastic.easeOut
                    }, 1)
                }
            }, {
                key: "_animationIn",
                value: function() {
                    var e = this;
                    setTimeout(function() {
                        e._enterTl.play(0)
                    }, 1e3)
                }
            }, {
                key: "_onMenuIn",
                value: function() {
                    this._animationIn()
                }
            }, {
                key: "template",
                get: function() {
                    return n(260)
                }
            }, {
                key: "components",
                get: function() {
                    return {}
                }
            }]) && l(o.prototype, r), t
        }()).prototype, f = "_onMenuIn", p = [o], d = Object.getOwnPropertyDescriptor(i.prototype, "_onMenuIn"), h = i.prototype, y = {}, Object.keys(d).forEach(function(e) {
            y[e] = d[e]
        }), y.enumerable = !!y.enumerable, y.configurable = !!y.configurable, ("value" in y || y.initializer) && (y.writable = !0), y = p.slice().reverse().reduce(function(e, t) {
            return t(c, f, e) || e
        }, y), h && void 0 !== y.initializer && (y.value = y.initializer ? y.initializer.call(h) : void 0, y.initializer = void 0), void 0 === y.initializer && (Object.defineProperty(c, f, y), y = null), i);
        t.default = v, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = f(n(57)),
        r = f(n(261)),
        i = f(n(259)),
        a = f(n(257)),
        s = f(n(92)),
        l = f(n(91)),
        u = f(n(49)),
        c = n(6);

    function f(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function p(e) {
        return (p = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function d() {
        return (d = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }

    function h(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var y = function(e) {
        function t() {
            var e;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === p(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))).$name = "home", e.sceneName = e.$name, document.title = e._locales.global.meta.title, u.default.create("home"), (0, c.pageview)("/"), e
        }
        var f, y;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), f = t, (y = [{
            key: "data",
            value: function() {
                return d({}, function e(t, n, o) {
                    null === t && (t = Function.prototype);
                    var r = Object.getOwnPropertyDescriptor(t, n);
                    if (void 0 === r) {
                        var i = Object.getPrototypeOf(t);
                        return null === i ? void 0 : e(i, n, o)
                    }
                    if ("value" in r) return r.value;
                    var a = r.get;
                    return void 0 !== a ? a.call(o) : void 0
                }(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "data", this).call(this), {
                    sceneName: this.sceneName
                })
            }
        }, {
            key: "mounted",
            value: function() {}
        }, {
            key: "getDependencies",
            value: function() {
                var e = [this.$name],
                    t = this._quality.default,
                    n = this._textures.format;
                return e.push("".concat(this.$name, "-textures-").concat(t, "-").concat(n)), e
            }
        }, {
            key: "template",
            get: function() {
                return n(251)
            }
        }, {
            key: "components",
            get: function() {
                return {
                    GL: l.default,
                    HomeVideo: i.default,
                    IntroVideo: a.default,
                    HomeCatchphrase: r.default,
                    Subtitles: s.default
                }
            }
        }]) && h(f.prototype, y), t
    }();
    t.default = y, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = l(n(262)),
        r = l(n(250)),
        i = l(n(243)),
        a = l(n(239)),
        s = l(n(237));

    function l(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var u = {
        Home: o.default,
        Tutorial: r.default,
        Level: i.default,
        End: a.default,
        Credits: s.default
    };
    t.default = u, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e) {
        var t = 0,
            n = function() {
                t = 0
            },
            a = function(o, r) {
                r === o[t] ? t++ : n(), t === o.length && (e(), n())
            };
        o.default.downed.add(function(e) {
            var t = e.keyCode;
            return a(s, t)
        }), r.default.buttonDowned.add(function(e) {
            return -1 !== e.indexOf("button_") ? a(l, e) : null
        }), i.default.direction.add(function(e, t) {
            return e.keyCode ? null : a(l, t)
        })
    };
    var o = a(n(14)),
        r = a(n(12)),
        i = a(n(60));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = [38, 38, 40, 40, 37, 39, 37, 39, 66, 65],
        l = ["up", "up", "down", "down", "left", "right", "left", "right", "button_2", "button_1"];
    e.exports = t.default
}, function(e, t) {
    e.exports = '<div class="sound-bars sound-bars--is-active">\n  {% for row in 1..4 %}\n    <div class="sound-bars__el"><div class="sound-bars__bg"></div></div>\n  {% endfor %}\n</div>\n'
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i, a = (r = n(7)) && r.__esModule ? r : {
                default: r
            },
            s = n(6);

        function l(e) {
            return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function u(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function c(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var f = (c((i = function(e) {
            function t() {
                return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                    function(e, t) {
                        if (t && ("object" === l(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
            }
            var o, r;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, a.default), o = t, (r = [{
                key: "init",
                value: function() {
                    this.$name = "sound-bars", this.isActive = !0
                }
            }, {
                key: "mounted",
                value: function() {
                    (function e(t, n, o) {
                        null === t && (t = Function.prototype);
                        var r = Object.getOwnPropertyDescriptor(t, n);
                        if (void 0 === r) {
                            var i = Object.getPrototypeOf(t);
                            return null === i ? void 0 : e(i, n, o)
                        }
                        if ("value" in r) return r.value;
                        var a = r.get;
                        return void 0 !== a ? a.call(o) : void 0
                    })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "mounted", this).call(this), this._bind()
                }
            }, {
                key: "_createTls",
                value: function() {}
            }, {
                key: "_bind",
                value: function() {
                    this._signals.loader.started.add(this._onLoaderStart), this._signals.loader.hidden.add(this._onLoaderHide), this.$el.addEventListener("click", this._handleClick, !1)
                }
            }, {
                key: "_handleClick",
                value: function() {
                    this.isActive = !this.isActive, this.$el.classList.toggle("sound-bars--is-active", this.isActive), this._signals.footer.soundToggle.dispatch(this.isActive), this.isActive ? this._sounds.unmute() : this._sounds.mute();
                    var e = this.isActive ? "unmute" : "mute";
                    (0, s.event)("sound", "sound-".concat(e))
                }
            }, {
                key: "_onLoaderStart",
                value: function() {
                    this.$el.classList.remove("sound-bars--is-visible")
                }
            }, {
                key: "_onLoaderHide",
                value: function() {
                    this.$el.classList.add("sound-bars--is-visible")
                }
            }, {
                key: "template",
                get: function() {
                    return n(265)
                }
            }, {
                key: "components",
                get: function() {
                    return {}
                }
            }]) && u(o.prototype, r), t
        }()).prototype, "_handleClick", [o], Object.getOwnPropertyDescriptor(i.prototype, "_handleClick"), i.prototype), c(i.prototype, "_onLoaderStart", [o], Object.getOwnPropertyDescriptor(i.prototype, "_onLoaderStart"), i.prototype), c(i.prototype, "_onLoaderHide", [o], Object.getOwnPropertyDescriptor(i.prototype, "_onLoaderHide"), i.prototype), i);
        t.default = f, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t) {
    e.exports = '<div class="fullscreen">\n  <div class="fullscreen__container">\n    <div class="fullscreen__arrow fullscreen__arrow--tl"></div>\n    <div class="fullscreen__arrow fullscreen__arrow--tr"></div>\n    <div class="fullscreen__arrow fullscreen__arrow--bl"></div>\n    <div class="fullscreen__arrow fullscreen__arrow--br"></div>\n    <div class="fullscreen__screen"></div>\n  </div>\n</div>\n'
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = u(n(7)),
            a = u(n(19)),
            s = u(n(12)),
            l = n(6);

        function u(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function c(e) {
            return (c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function f(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function p(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var d = (p((r = function(e) {
            function t() {
                return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                    function(e, t) {
                        if (t && ("object" === c(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
            }
            var o, r;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), o = t, (r = [{
                key: "init",
                value: function() {
                    this.$name = "fullscreen"
                }
            }, {
                key: "mounted",
                value: function() {
                    (function e(t, n, o) {
                        null === t && (t = Function.prototype);
                        var r = Object.getOwnPropertyDescriptor(t, n);
                        if (void 0 === r) {
                            var i = Object.getPrototypeOf(t);
                            return null === i ? void 0 : e(i, n, o)
                        }
                        if ("value" in r) return r.value;
                        var a = r.get;
                        return void 0 !== a ? a.call(o) : void 0
                    })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "mounted", this).call(this), this._bind()
                }
            }, {
                key: "_createTls",
                value: function() {}
            }, {
                key: "_bind",
                value: function() {
                    this._signals.loader.started.add(this._onLoaderStart), this._signals.loader.hidden.add(this._onLoaderHide), this.$el.addEventListener("click", this._handleClick, !1), a.default.fullScreenChanged.add(this._onWindowFullscreenChange), s.default.buttonDowned.add(this._onButtonDown)
                }
            }, {
                key: "_handleClick",
                value: function() {
                    a.default.fullScreen.toggle()
                }
            }, {
                key: "_onWindowFullscreenChange",
                value: function() {
                    this.$el.classList.toggle("fullscreen--is-active", a.default.fullScreen.isFullscreen);
                    var e = a.default.fullScreen.isFullscreen ? "on" : "off";
                    (0, l.event)("fullscreen", "fullscreen-".concat(e))
                }
            }, {
                key: "_onLoaderStart",
                value: function() {
                    this.$el.classList.remove("fullscreen--is-visible")
                }
            }, {
                key: "_onLoaderHide",
                value: function() {
                    this.$el.classList.add("fullscreen--is-visible")
                }
            }, {
                key: "_onButtonDown",
                value: function(e) {}
            }, {
                key: "template",
                get: function() {
                    return n(267)
                }
            }, {
                key: "components",
                get: function() {
                    return {}
                }
            }]) && f(o.prototype, r), t
        }()).prototype, "_handleClick", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleClick"), r.prototype), p(r.prototype, "_onWindowFullscreenChange", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onWindowFullscreenChange"), r.prototype), p(r.prototype, "_onLoaderStart", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onLoaderStart"), r.prototype), p(r.prototype, "_onLoaderHide", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onLoaderHide"), r.prototype), p(r.prototype, "_onButtonDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onButtonDown"), r.prototype), r);
        t.default = d, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t) {
    e.exports = '<ul class="toast-msg"></ul>\n'
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i, a = (r = n(7)) && r.__esModule ? r : {
            default: r
        };

        function s(e) {
            return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function l(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var u, c, f, p, d, h, y = (u = (i = function(e) {
            function t() {
                return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                    function(e, t) {
                        if (t && ("object" === s(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
            }
            var o, r;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, a.default), o = t, (r = [{
                key: "init",
                value: function() {
                    this.$name = "toast-msg"
                }
            }, {
                key: "mounted",
                value: function() {
                    (function e(t, n, o) {
                        null === t && (t = Function.prototype);
                        var r = Object.getOwnPropertyDescriptor(t, n);
                        if (void 0 === r) {
                            var i = Object.getPrototypeOf(t);
                            return null === i ? void 0 : e(i, n, o)
                        }
                        if ("value" in r) return r.value;
                        var a = r.get;
                        return void 0 !== a ? a.call(o) : void 0
                    })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "mounted", this).call(this), this._bind()
                }
            }, {
                key: "_bind",
                value: function() {
                    this._signals.toastMsg.log.add(this._log)
                }
            }, {
                key: "_log",
                value: function(e, t) {
                    var n = this,
                        o = document.createElement("li");
                    o.classList.add("toast-msg__el"), o.classList.add("toast-msg__el--".concat(e)), this.$el.appendChild(o), t = (t = (t = (t = (t = (t = t.replace(/(#[a-zA-Z0-9\-_]+)/g, '<span class="title">$1</span>')).replace("true", '<span class="true">true<span>')).replace("false", '<span class="false">false<span>')).replace("undefined", '<span class="undefined">undefined<span>')).replace("connected", '<span class="connected">connected<span>')).replace("disconnected", '<span class="disconnected">disconnected<span>'), o.innerHTML = '\n      <div class="toast-msg__el-container">\n        <p class="toast-msg__text">'.concat(t, "</p>\n      </div>\n    "), setTimeout(function() {
                        o.classList.add("toast-msg__el--is-entering")
                    }, 150), setTimeout(function() {
                        o.classList.add("toast-msg__el--is-leaving")
                    }, 4500), setTimeout(function() {
                        n.$el.removeChild(o)
                    }, 5e3)
                }
            }, {
                key: "template",
                get: function() {
                    return n(269)
                }
            }, {
                key: "components",
                get: function() {
                    return {}
                }
            }]) && l(o.prototype, r), t
        }()).prototype, c = "_log", f = [o], p = Object.getOwnPropertyDescriptor(i.prototype, "_log"), d = i.prototype, h = {}, Object.keys(p).forEach(function(e) {
            h[e] = p[e]
        }), h.enumerable = !!h.enumerable, h.configurable = !!h.configurable, ("value" in h || h.initializer) && (h.writable = !0), h = f.slice().reverse().reduce(function(e, t) {
            return t(u, c, e) || e
        }, h), d && void 0 !== h.initializer && (h.value = h.initializer ? h.initializer.call(d) : void 0, h.initializer = void 0), void 0 === h.initializer && (Object.defineProperty(u, c, h), h = null), i);
        t.default = y, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t) {
    e.exports = '{% set qualityLocales = locales.global.quality %}\n\n<div class="quality quality--is-hidden">\n  <div class="quality__title" data-el="title">{{ qualityLocales.title }}</div>\n\n  <div class="quality__levels">\n  {% for level in levels %}\n    <div\n      class="quality__level quality__level--{{ qualityLocales[level ~ \'_name\'] | lower }}"\n      data-index="{{ loop.index0 }}"\n      data-el="levels"\n    >\n      <div class="quality__level-wrapper" data-el="wrappers"> \n        <div class="quality__level-name">{{ qualityLocales[level ~ \'_name\'] }}</div>\n        <div class="quality__level-name quality__level-name--active" data-el="levelsActive">{{ qualityLocales[level ~ \'_name\'] }}</div>\n      </div>\n    </div>\n  {% endfor %}\n  </div>\n\n  {% for level in levels %}\n    <span\n      class="quality__reco quality__reco--{{ qualityLocales[level ~ \'_name\'] | lower }}"\n      data-el="recos"\n    >{{ qualityLocales[level ~ \'_reco\'] }}</span>\n  {% endfor %}\n</div>\n'
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = u(n(7)),
            a = u(n(28)),
            s = (u(n(60)), n(2)),
            l = u(n(48));

        function u(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function c(e) {
            return (c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function f() {
            return (f = Object.assign || function(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = arguments[t];
                    for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
                }
                return e
            }).apply(this, arguments)
        }

        function p(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function d(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : d(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }

        function h(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var y = !1,
            v = (h((r = function(e) {
                function t() {
                    return function(e, t) {
                            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                        }(this, t),
                        function(e, t) {
                            if (t && ("object" === c(t) || "function" == typeof t)) return t;
                            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                            return e
                        }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
                }
                var o, r;
                return function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }(t, i.default), o = t, (r = [{
                    key: "init",
                    value: function() {
                        this.$name = "quality", this._levels = a.default._availableLevels, this._defaultLevelIdx = this._levels.indexOf(a.default._currentLevel), this._currentLevelIdx = -1, this._fadeInTween = null
                    }
                }, {
                    key: "mounted",
                    value: function() {
                        var e = this;
                        this._router.beforeEachChanged.once(function(t, n, o) {
                            "home" === n.name && (e._registerDOM(), e._bind(), e._createTls())
                        })
                    }
                }, {
                    key: "beforeDestroy",
                    value: function() {
                        this._unbind()
                    }
                }, {
                    key: "data",
                    value: function() {
                        return f({}, d(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "data", this).call(this), {
                            levels: this._levels
                        })
                    }
                }, {
                    key: "enter",
                    value: function() {
                        return this.$els.levels[this._defaultLevelIdx].classList.add("quality__level--is-recommended"), this.$el.classList.remove("quality--is-hidden"), d(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "enter", this).call(this)
                    }
                }, {
                    key: "leave",
                    value: function() {
                        var e = this;
                        return d(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "leave", this).call(this).then(function() {
                            e.$el.classList.add("quality--is-hidden"), e._showHome()
                        })
                    }
                }, {
                    key: "_bind",
                    value: function() {
                        this._signals.quality.enter.add(this.enter)
                    }
                }, {
                    key: "_bindHandlers",
                    value: function() {
                        for (var e = 0, t = this.$els.levels.length; e < t; e++) {
                            var n = this.$els.levels[e];
                            n.addEventListener("click", this._handleLevelClick, !1), n.addEventListener("mouseenter", this._handleLevelMouseEnter, !1)
                        }
                    }
                }, {
                    key: "_unbind",
                    value: function() {
                        this._signals.quality.enter.remove(this.enter);
                        for (var e = 0, t = this.$els.levels.length; e < t; e++) {
                            var n = this.$els.levels[e];
                            n.removeEventListener("click", this._handleLevelClick, !1), n.removeEventListener("mouseenter", this._handleLevelMouseEnter, !1)
                        }
                    }
                }, {
                    key: "_registerDOM",
                    value: function() {
                        this._splittedTitle = new SplitText(this.$els.title, {
                            type: "words",
                            wordsClass: "word"
                        })
                    }
                }, {
                    key: "_createTls",
                    value: function() {
                        var e = this;
                        this._enterTl = new TimelineMax({
                            paused: !0
                        }), this._leaveTl = new TimelineMax({
                            paused: !0
                        }), this._tls.push(this._enterTl, this._leaveTl), this._levelInTls = [];
                        for (var t = 0, n = this.$els.levels.length; t < n; t++) {
                            var o = new TimelineMax({
                                paused: !0,
                                yoyo: !0,
                                repeatDelay: .1,
                                repeat: -1
                            });
                            this._levelInTls.push(o), o.set(this.$els.levelsActive[t], {
                                opacity: .7
                            }).to(this.$els.levelsActive[t], .4, {
                                opacity: 1,
                                immediateRender: !1,
                                ease: RoughEase.ease.config({
                                    template: Power0.easeNone,
                                    strength: 2,
                                    points: 50,
                                    taper: "none",
                                    randomize: !0,
                                    clamp: !1
                                })
                            }, 0)
                        }
                        this._tls.concat(this._levelInTls);
                        var r = this._splittedTitle.words;
                        this._enterTl.set(r, {
                            opacity: 0,
                            z: 300,
                            force3D: !0
                        }).staggerTo(r, 1, {
                            z: 0,
                            opacity: 1,
                            force3D: !0,
                            ease: Expo.easeOut
                        }, .08).addCallback(function() {
                            e._changeLevel(e._defaultLevelIdx), e._bindHandlers()
                        });
                        for (var i = 0, a = this.$els.levels.length; i < a; i++) {
                            var s = this.$els.levels[i].querySelector(".quality__level-wrapper");
                            this._enterTl.set(s, {
                                opacity: 0,
                                z: 500,
                                force3D: !0
                            }, 0).to(s, 1, {
                                z: 0,
                                opacity: 1,
                                force3D: !0,
                                ease: Expo.easeOut
                            }, .6 + .15 * i)
                        }
                    }
                }, {
                    key: "_createLeaveTl",
                    value: function(e) {
                        var t = this._splittedTitle.words,
                            n = this.$els.levels.slice(0),
                            o = n.splice(e, 1);
                        n = n.concat(o), this.$els.levels[this._defaultLevelIdx].classList.remove("quality__level--is-recommended"), this._leaveTl.to(t.reverse(), 1, {
                            opacity: 0,
                            force3D: !0,
                            ease: Expo.easeOut
                        });
                        for (var r = 0, i = n.length; r < i; r++) {
                            var a = n[r].querySelector(".quality__level-wrapper"),
                                s = r === i - 1;
                            this._leaveTl.staggerTo([a], .7, {
                                opacity: 0,
                                force3D: !0,
                                ease: Expo.easeOut
                            }, .05, s ? 1.5 : .5), s && this._leaveTl.to(a, 1, {
                                scale: 1.2,
                                ease: Elastic.easeOut.config(1.2)
                            }, .5);
                            for (var l = 0, u = this.$els.recos.length; l < u; l++) this.$els.recos[l].style.transition = "none";
                            this._leaveTl.to(this.$els.recos, .3, {
                                opacity: 0
                            }, 0)
                        }
                    }
                }, {
                    key: "_showHome",
                    value: function() {
                        this._signals.home.playVideo.dispatch(), this._signals.home.menuIn.dispatch()
                    }
                }, {
                    key: "_changeLevel",
                    value: function(e) {
                        if (e !== this._currentLevelIdx) {
                            var t = this._currentLevelIdx;
                            this._currentLevelIdx = (0, s.modAbs)(e, this._levels.length), this._levels[t] && this._fadeOutLevel(t), this._fadeInLevel(this._currentLevelIdx), this._sounds.play("interface-soft-stone");
                            for (var n = 0, o = this.$els.recos.length; n < o; n++) this.$els.levels[n].classList.toggle("quality__level--is-active", e === n), this.$els.recos[n].classList.toggle("quality__reco--is-active", e === n)
                        }
                    }
                }, {
                    key: "_previousLevel",
                    value: function() {
                        this._changeLevel(this._currentLevelIdx - 1)
                    }
                }, {
                    key: "_nextLevel",
                    value: function() {
                        this._changeLevel(this._currentLevelIdx + 1)
                    }
                }, {
                    key: "_selectLevel",
                    value: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._currentLevelIdx,
                            t = this._levels[e];
                        a.default.level = t, this._signals.quality.selected.dispatch(t), this._preloadQualityPacks(), this._createLeaveTl(e), this._unbind(), this.leave()
                    }
                }, {
                    key: "_fadeInLevel",
                    value: function(e) {
                        var t = this;
                        this._fadeInTween = TweenMax.to(this.$els.levelsActive[e], .4, {
                            opacity: .7,
                            onComplete: function() {
                                return t._levelInTls[e].play(0)
                            }
                        })
                    }
                }, {
                    key: "_fadeOutLevel",
                    value: function(e) {
                        this._fadeInTween && this._fadeInTween.kill(), this._levelInTls[e].pause(), TweenMax.to(this.$els.levelsActive[e], .4, {
                            opacity: 0
                        })
                    }
                }, {
                    key: "_preloadQualityPacks",
                    value: function() {
                        var e = this._save.lastSeenLevelName,
                            t = this._quality.level,
                            n = this._textures.format,
                            o = [];
                        o.push("level-textures-".concat(t, "-").concat(n)), o.push("".concat(e, "-textures-").concat(t, "-").concat(n)), this._loader.load(o)
                    }
                }, {
                    key: "_handleLevelClick",
                    value: function(e) {
                        var t = this,
                            n = parseInt(e.currentTarget.getAttribute("data-index"), 10);
                        n !== this._currentLevelIdx && this._changeLevel(n), this._selectLevel(n), l.default.context.resume().then(function() {
                            y || (y = !0, t._sounds.play("home-theme"), t._sounds.get("home-theme").fade(1, 1))
                        })
                    }
                }, {
                    key: "_handleLevelMouseEnter",
                    value: function(e) {
                        var t = parseInt(e.currentTarget.getAttribute("data-index"), 10);
                        this._changeLevel(t)
                    }
                }, {
                    key: "_onSceneStart",
                    value: function() {}
                }, {
                    key: "_onDirection",
                    value: function(e, t) {
                        "left" === t ? this._previousLevel() : "right" === t && this._nextLevel()
                    }
                }, {
                    key: "_onValidate",
                    value: function(e, t) {
                        this._selectLevel(), this._sounds.play("active-selection")
                    }
                }, {
                    key: "template",
                    get: function() {
                        return n(271)
                    }
                }, {
                    key: "components",
                    get: function() {
                        return {}
                    }
                }]) && p(o.prototype, r), t
            }()).prototype, "enter", [o], Object.getOwnPropertyDescriptor(r.prototype, "enter"), r.prototype), h(r.prototype, "leave", [o], Object.getOwnPropertyDescriptor(r.prototype, "leave"), r.prototype), h(r.prototype, "_handleLevelClick", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleLevelClick"), r.prototype), h(r.prototype, "_handleLevelMouseEnter", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleLevelMouseEnter"), r.prototype), h(r.prototype, "_onSceneStart", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onSceneStart"), r.prototype), h(r.prototype, "_onDirection", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onDirection"), r.prototype), h(r.prototype, "_onValidate", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onValidate"), r.prototype), r);
        t.default = v, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t) {
    e.exports = '{% set loaderLocales = locales.global.loader %}\n\n<div class="loader loader--first-load">\n  <div class="loader__first-load">\n    <p class="loader__first-load-advice" data-el="firstLoadAdvice">\n      <span data-el="gamePadAdviceLeft">{{ loaderLocales.advice_left }}</span>\n      <span class="loader__gamepad" data-el="gamepad">\n        <svg class="loader__gamepad-svg" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n            viewBox="0 0 82.6 42" style="enable-background:new 0 0 82.6 42;" xml:space="preserve">\n          <g>\n            <path d="M63.5,40.1c-5.3,0-10.3-2.1-14.2-5.6c3.6,4.5,8.8,7.1,14.2,7.1c5.7,0,10.7-2.8,14.2-7.2C73.9,37.9,68.9,40.1,63.5,40.1z"/>\n            <path d="M19.1,40.1c-5.5,0-10.4-2.2-14.2-5.7c3.5,4.4,8.6,7.1,14.2,7.1c5.5,0,10.6-2.6,14.2-7.1C29.4,38,24.4,40.1,19.1,40.1z"/>\n            <path d="M46.6,31.5H35.9c-0.2,0.2-0.4,0.5-0.6,0.7h11.9C47,32,46.8,31.7,46.6,31.5z"/>\n            <path d="M63.7,0.5h-0.5l0,0H19.1C8.7,0.5,0.3,8.9,0.3,19.3s8.5,18.8,18.8,18.8c6.2,0,11.9-3,15.4-8.2l0.3-0.4h12.8l0.3,0.4\n              c3.5,5.1,9.4,8.2,15.4,8.2c10.3,0,18.8-8.5,18.8-18.8C82.3,9,73.9,0.6,63.7,0.5z M25.6,22.8h-2.8v2.8c0,2.5-2,4.5-4.5,4.5\n              s-4.5-2-4.5-4.5v-2.8H11c-2.5,0-4.5-2-4.5-4.5s2-4.5,4.5-4.5h2.8V11c0-2.5,2-4.5,4.5-4.5s4.5,2,4.5,4.5v2.8h2.8\n              c2.5,0,4.5,2,4.5,4.5S28,22.8,25.6,22.8z M43.5,22.4h-4.6c-1.4,0-2.5-1.1-2.5-2.5c0-1.4,1.1-2.5,2.5-2.5h4.6c1.4,0,2.5,1.1,2.5,2.5\n              C46,21.3,44.9,22.4,43.5,22.4z M64.3,6.5c2.5,0,4.5,2,4.5,4.5s-2,4.5-4.5,4.5c-2.5,0-4.5-2-4.5-4.5S61.8,6.5,64.3,6.5z M52.5,18.3\n              c0-2.5,2-4.5,4.5-4.5c2.5,0,4.5,2,4.5,4.5s-2,4.5-4.5,4.5C54.5,22.8,52.5,20.8,52.5,18.3z M64.3,30c-2.5,0-4.5-2-4.5-4.5\n              s2-4.5,4.5-4.5c2.5,0,4.5,2,4.5,4.5S66.8,30,64.3,30z M71.5,22.8c-2.5,0-4.5-2-4.5-4.5s2-4.5,4.5-4.5s4.5,2,4.5,4.5\n              S74,22.8,71.5,22.8z"/>\n            <circle cx="64.3" cy="11" r="2.5"/>\n            <circle cx="64.3" cy="25.5" r="2.5"/>\n            <circle cx="57" cy="18.3" r="2.5"/>\n            <circle cx="71.5" cy="18.3" r="2.5"/>\n            <path d="M25.6,15.7h-4.8V11c0-1.4-1.1-2.5-2.5-2.5c-1.4,0-2.5,1.1-2.5,2.5v4.8H11c-1.4,0-2.5,1.1-2.5,2.5c0,1.4,1.1,2.5,2.5,2.5\n              h4.8v4.8c0,1.4,1.1,2.5,2.5,2.5c1.4,0,2.5-1.1,2.5-2.5v-4.8h4.8c1.4,0,2.5-1.1,2.5-2.5C28,16.9,26.9,15.7,25.6,15.7z"/>\n            <path d="M43.5,19.3h-4.6c-0.3,0-0.5,0.2-0.5,0.5c0,0.3,0.2,0.5,0.5,0.5h4.6c0.3,0,0.5-0.2,0.5-0.5C44,19.5,43.8,19.3,43.5,19.3z"/>\n          </g>\n          </svg>\n      </span>\n      <span data-el="gamePadAdviceRight">{{ loaderLocales.advice_right }}</span>\n    </p>\n  </div>\n\n  <div class="loader__ingame">\n    <div class="loader__score">Score: <span data-el="score">0</span></div>\n    <div class="loader__clickable" data-el="clickable">\n      {% for row in 0..8 %}\n        <img class="loader__clickable-img" data-el="clickImg" src="{{ asset_path(\'/assets/images/loader/amphora_\' ~ loop.index0 ~ \'.png\') }}" alt="heraclos head">\n      {% endfor %}\n    </div>\n    <div class="loader__ingame-advice" data-el="inGameAdvice"></div>\n  </div>\n\n  <div class="loader__progress-text" data-el="text">0%</div>\n  <div class="loader__progress-bar" data-el="bar"></div>\n</div>\n  '
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i, a = (r = n(7)) && r.__esModule ? r : {
                default: r
            },
            s = n(3),
            l = n(2);

        function u(e) {
            return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function c(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function f(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var p = (0, s.getLogger)("LoaderComponent", s.INFO, !1),
            d = 3,
            h = 2,
            y = (f((i = function(e) {
                function t() {
                    return function(e, t) {
                            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                        }(this, t),
                        function(e, t) {
                            if (t && ("object" === u(t) || "function" == typeof t)) return t;
                            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                            return e
                        }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
                }
                var o, r;
                return function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }(t, a.default), o = t, (r = [{
                    key: "init",
                    value: function() {
                        this.$name = "loader", this._firstLoad = !0, this._now = Date.now(), this._textProgress = 0, this._sceneStarted = !1, this._hiddenRequested = !1, this._randomIndex = null, this._score = 0, this._noSceneRoutes = ["end", "credits"], this._inGameAdvices = this._getInGameAdvices()
                    }
                }, {
                    key: "mounted",
                    value: function() {
                        (function e(t, n, o) {
                            null === t && (t = Function.prototype);
                            var r = Object.getOwnPropertyDescriptor(t, n);
                            if (void 0 === r) {
                                var i = Object.getPrototypeOf(t);
                                return null === i ? void 0 : e(i, n, o)
                            }
                            if ("value" in r) return r.value;
                            var a = r.get;
                            return void 0 !== a ? a.call(o) : void 0
                        })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "mounted", this).call(this), this._registerDOM(), this._bind(), this._enterAnimation()
                    }
                }, {
                    key: "beforeDestroy",
                    value: function() {
                        this._unbind()
                    }
                }, {
                    key: "_bind",
                    value: function() {
                        this._signals.loader.started.add(this._onLoaderStart), this._signals.loader.progressed.add(this._onLoaderProgress), this._signals.loader.completed.add(this._onLoaderComplete), this._signals.scene.started.add(this._onSceneStart), this.$els.clickable.addEventListener("click", this._handleClickableClick, !1)
                    }
                }, {
                    key: "_unbind",
                    value: function() {
                        this._signals.loader.started.remove(this._onLoaderStart), this._signals.loader.progressed.remove(this._onLoaderProgress), this._signals.loader.completed.remove(this._onLoaderComplete), this._signals.scene.started.remove(this._onSceneStart), this.$els.clickable.removeEventListener("click", this._handleClickableClick, !1)
                    }
                }, {
                    key: "_registerDOM",
                    value: function() {
                        this._splittedGamepadAdviceLeft = new SplitText(this.$els.gamePadAdviceLeft, {
                            type: "words",
                            wordsClass: "word"
                        }), this._splittedGamepadAdviceRight = new SplitText(this.$els.gamePadAdviceRight, {
                            type: "words",
                            wordsClass: "word"
                        })
                    }
                }, {
                    key: "_enterAnimation",
                    value: function() {
                        var e = this;
                        this._enterTl = new TimelineMax({
                            onComplete: function() {}
                        }), this._firstLeaveTl = new TimelineMax({
                            paused: !0,
                            onComplete: function() {
                                e.$el.classList.remove("loader--first-load"), e.$el.classList.add("loader--is-hidden"), e._signals.loader.hidden.dispatch(), e._signals.quality.enter.dispatch()
                            }
                        });
                        var t = this._splittedGamepadAdviceLeft.words,
                            n = this._splittedGamepadAdviceRight.words,
                            o = this.$els.gamepad;
                        this._enterTl.set([t, n], {
                            opacity: 0,
                            z: 500,
                            force3D: !0
                        }).set(o, {
                            scale: 0,
                            opacity: 0
                        }).staggerTo([t, n], .7, {
                            z: 0,
                            opacity: 1,
                            force3D: !0,
                            ease: Expo.easeOut
                        }, .15).to(o, 1.2, {
                            scale: 1,
                            opacity: 1,
                            force3D: !0,
                            ease: Elastic.easeOut.config(1)
                        }, .2), this._firstLeaveTl.staggerTo([n.reverse(), o, t.reverse()], .7, {
                            opacity: 0,
                            force3D: !0,
                            ease: Expo.easeOut
                        }, .05)
                    }
                }, {
                    key: "_gameAdviceAnimation",
                    value: function() {
                        this._inGameAdviceTl && this._inGameAdviceTl.kill(), this._inGameAdviceTl = new TimelineMax({
                            onComplete: function() {}
                        });
                        var e = new SplitText(this.$els.inGameAdvice, {
                            type: "words",
                            wordsClass: "word"
                        });
                        this._inGameAdviceTl.set(e.words, {
                            opacity: 0,
                            z: 300
                        }).staggerTo(e.words, .3, {
                            z: 0,
                            opacity: 1,
                            force3D: !0,
                            ease: Expo.easeOut
                        }, .1, .1)
                    }
                }, {
                    key: "_getInGameAdvices",
                    value: function() {
                        var e = [],
                            t = this._locales.global.loader;
                        for (var n in t)
                            if (-1 !== n.indexOf("advice_ig")) {
                                var o = t[n];
                                e.push(o)
                            }
                        return e
                    }
                }, {
                    key: "_hide",
                    value: function() {
                        var e = this;
                        if (this._hiddenRequested = !0, this._noSceneRoutes.indexOf(this._router.currentRoute.name) > -1 || this._sceneStarted) {
                            this._hiddenRequested = !1;
                            var t = (Date.now() - this._now) / 1e3,
                                n = this._firstLoad ? d : h,
                                o = t < n ? n - t : 0;
                            this._waitTimeout = TweenMax.delayedCall(o, function() {
                                e._firstLoad ? (e._firstLoad = !1, e._firstLeaveTl.play()) : (e.$el.classList.add("loader--is-hidden"), e._signals.loader.hidden.dispatch(), e._signals.home.playVideo.dispatch(), e._signals.home.menuIn.dispatch())
                            })
                        }
                    }
                }, {
                    key: "_randomizeClickable",
                    value: function() {
                        var e = this,
                            t = this.$els.clickable;
                        if (t) {
                            t.style.top = (0, l.randomFloat)(10, 90) + "%", t.style.left = (0, l.randomFloat)(10, 90) + "%", TweenMax.set(t, {
                                scale: 0,
                                x: "-50%",
                                y: "-50%"
                            });
                            var n = (0, l.randomFloat)(.7, 1.2);
                            TweenMax.to(t, n, {
                                x: "-50%",
                                y: "-50%",
                                scale: (0, l.randomFloat)(.4, 1),
                                force3D: !0,
                                ease: Elastic.easeOut
                            }), clearTimeout(this._randomizeTimeout), this._randomizeTimeout = setTimeout(function() {
                                e._randomizeClickable()
                            }, 1e3 * (n + (0, l.randomFloat)(.8, 1.2)));
                            for (var o = this.$els.clickImg, r = (0, l.randomInt)(0, o.length - 1); r === this._randomIndex;) r = (0, l.randomInt)(0, o.length - 1);
                            this._randomIndex = r;
                            for (var i = 0, a = o.length; i < a; i++) o[i].style.display = i === this._randomIndex ? "block" : "none"
                        }
                    }
                }, {
                    key: "_setScore",
                    value: function(e) {
                        var t = this;
                        this._score = e, TweenMax.to(this.$els.score, .1, {
                            opacity: 0,
                            scale: 1.1,
                            onComplete: function() {
                                t.$els.score.innerHTML = t._score
                            }
                        }), TweenMax.to(this.$els.score, .3, {
                            opacity: 1,
                            scale: 1.1,
                            delay: .1,
                            ease: Elastic.easeOut
                        })
                    }
                }, {
                    key: "_onLoaderStart",
                    value: function(e) {
                        this._waitTimeout && this._waitTimeout.kill(), this._sceneStarted = !1, this._now = Date.now(), p("Started", e), this.$el.classList.remove("loader--is-hidden"), TweenMax.killTweensOf(this, {
                            _textProgress: !0
                        }), this._textProgress = 0, this.$els.text.innerHTML = "0%", this.$els.bar.classList.add("no-transition"), this.$els.bar.style.transform = "translate3d(0,0,0) scaleX(0)", this.$els.bar.offsetHeight, this.$els.bar.classList.remove("no-transition"), this._firstLoad || (this._setScore(0), this._randomizeClickable(), this.$els.inGameAdvice.innerHTML = this._inGameAdvices[(0, l.randomInt)(0, this._inGameAdvices.length - 1)], this._gameAdviceAnimation())
                    }
                }, {
                    key: "_onLoaderProgress",
                    value: function(e) {
                        var t = this;
                        p("Progressed", e), TweenMax.to(this, .3, {
                            _textProgress: e,
                            onUpdate: function() {
                                t.$els.text.innerHTML = "".concat(parseInt(t._textProgress, 10), "%")
                            }
                        }), this.$els.bar.style.transform = "scaleX(".concat(e / 100, ")")
                    }
                }, {
                    key: "_onLoaderComplete",
                    value: function(e, t) {
                        clearTimeout(this._randomizeTimeout), p("Completed", t), this._hide()
                    }
                }, {
                    key: "_onSceneStart",
                    value: function(e) {
                        this._sceneStarted = !0, this._hiddenRequested && this._hide()
                    }
                }, {
                    key: "_handleClickableClick",
                    value: function() {
                        this._setScore(this._score + 1), this._randomizeClickable()
                    }
                }, {
                    key: "template",
                    get: function() {
                        return n(273)
                    }
                }, {
                    key: "components",
                    get: function() {
                        return {}
                    }
                }]) && c(o.prototype, r), t
            }()).prototype, "_onLoaderStart", [o], Object.getOwnPropertyDescriptor(i.prototype, "_onLoaderStart"), i.prototype), f(i.prototype, "_onLoaderProgress", [o], Object.getOwnPropertyDescriptor(i.prototype, "_onLoaderProgress"), i.prototype), f(i.prototype, "_onLoaderComplete", [o], Object.getOwnPropertyDescriptor(i.prototype, "_onLoaderComplete"), i.prototype), f(i.prototype, "_onSceneStart", [o], Object.getOwnPropertyDescriptor(i.prototype, "_onSceneStart"), i.prototype), f(i.prototype, "_handleClickableClick", [o], Object.getOwnPropertyDescriptor(i.prototype, "_handleClickableClick"), i.prototype), i);
        t.default = y, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 120;
        return o = Date.now(), !((r = o - i) > 1e3 / e && (i = o - r % (1e3 / e), 1))
    };
    var o = 0,
        r = 0,
        i = Date.now();
    e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = u(n(61)),
            a = u(n(59)),
            s = u(n(4)),
            l = n(2);

        function u(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function c(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var f, p, d, h, y, v, _ = {
                debug: !0,
                maxFogOffsetHeight: -21.8,
                fogCharacterOffset: .015,
                friction: 150
            },
            m = (f = (r = function() {
                function e(t) {
                    ! function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, e), this._scene = t, this._materialCtrl = t.materialCtrl, this._signals = s.default, this._curve = null, this._points = [], this._progression = 0, this._lastProgression = 0, this._defaultFogHeightOffset = this._materialCtrl.defaultConfig.common.fog.height.offset, this._fogHeightOffsetInertia = new a.default({
                        value: 0,
                        interpolation: "linear",
                        friction: _.friction
                    }), this._bind(), this._create()
                }
                var t, n;
                return t = e, (n = [{
                    key: "update",
                    value: function(e, t) {
                        for (var n = 0, o = this._points.length; n < o; n++) {
                            var r = this._points[n];
                            r.distance = r.position.distanceTo(this._scene.character.position)
                        }
                        this._points.sort(function(e, t) {
                            return e.distance - t.distance
                        }), _.debug && this._debugPoint.position.copy(this._points[0].position);
                        var i = (0, l.clamp)(this._points[0].position.y / this._maxY, 0, 1);
                        this._lastProgression < i && (this._progression = i), this._lastProgression = this._progression;
                        var a = (0, l.map)(this._progression, _.fogCharacterOffset, 1, this._defaultFogHeightOffset, _.maxFogOffsetHeight);
                        a = (0, l.clamp)(a, _.maxFogOffsetHeight, this._defaultFogHeightOffset), 1 === this._fogHeightOffsetInertia.friction && this._fogHeightOffsetInertia.stopped && (this._fogHeightOffsetInertia.friction = _.friction), this._fogHeightOffsetInertia.to(a), this._fogHeightOffsetInertia.update(), this._materialCtrl.setAllUniforms("uFogHeightOffset", this._fogHeightOffsetInertia.value)
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._unbind(), this._fogHeightOffsetInertia.destroy()
                    }
                }, {
                    key: "_bind",
                    value: function() {
                        this._signals.character.reseted.add(this._onCharReset)
                    }
                }, {
                    key: "_unbind",
                    value: function() {
                        this._signals.character.reseted.remove(this._onCharReset)
                    }
                }, {
                    key: "_create",
                    value: function() {
                        for (var e = i.default.getObject("terrain", "entities_progression").children, t = [], n = 0, o = e.length; n < o; n++) {
                            var r = e[n];
                            t.push(r.position)
                        }
                        this._curve = new THREE.CatmullRomCurve3(t);
                        for (var a = this._curve.getSpacedPoints(150), s = 0, l = a.length; s < l; s++) {
                            var u = a[s];
                            this._points.push({
                                index: s,
                                position: u,
                                distance: 0
                            })
                        }
                        if (this._maxY = this._points[this._points.length - 1].position.y, _.debug) {
                            var c = this._curve.getPoints(30),
                                f = (new THREE.BufferGeometry).setFromPoints(c),
                                p = new THREE.LineBasicMaterial({
                                    color: 16711680
                                }),
                                d = new THREE.Line(f, p);
                            d.visible = !1, d.name = "CurveHelper", this._scene.add(d), this._debugPoint = new THREE.Mesh(new THREE.SphereBufferGeometry(.5, 3, 2), new THREE.MeshBasicMaterial({
                                color: 16711680
                            })), this._debugPoint.visible = !1, this._debugPoint.name = "PointHelper", this._scene.add(this._debugPoint)
                        }
                    }
                }, {
                    key: "_onCharReset",
                    value: function() {
                        this._fogHeightOffsetInertia.friction = 1, this._lastProgression = 0, this._progression = 0
                    }
                }]) && c(t.prototype, n), e
            }()).prototype, p = "_onCharReset", d = [o], h = Object.getOwnPropertyDescriptor(r.prototype, "_onCharReset"), y = r.prototype, v = {}, Object.keys(h).forEach(function(e) {
                v[e] = h[e]
            }), v.enumerable = !!v.enumerable, v.configurable = !!v.configurable, ("value" in v || v.initializer) && (v.writable = !0), v = d.slice().reverse().reduce(function(e, t) {
                return t(f, p, e) || e
            }, v), y && void 0 !== v.initializer && (v.value = v.initializer ? v.initializer.call(y) : void 0, v.initializer = void 0), void 0 === v.initializer && (Object.defineProperty(f, p, v), v = null), r);
        t.default = m, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = l(n(5)),
        r = l(n(58)),
        i = l(n(21)),
        a = l(n(37)),
        s = n(2);

    function l(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function u(e) {
        return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function c(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var f = function(e) {
        function t() {
            var e;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === u(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)))._isActivated = !1, e._leftMesh = null, e._rightMesh = null, e._fragmentsMesh = null, e._point = new THREE.Vector3(-252.96, 35, .62), e._bind(), e._init(), e
        }
        var n, l;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), n = t, (l = [{
            key: "destroy",
            value: function() {
                (function e(t, n, o) {
                    null === t && (t = Function.prototype);
                    var r = Object.getOwnPropertyDescriptor(t, n);
                    if (void 0 === r) {
                        var i = Object.getPrototypeOf(t);
                        return null === i ? void 0 : e(i, n, o)
                    }
                    if ("value" in r) return r.value;
                    var a = r.get;
                    return void 0 !== a ? a.call(o) : void 0
                })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this)
            }
        }, {
            key: "update",
            value: function(e, t) {
                if (!this._isActivated) {
                    var n = this._scene.character.body.position;
                    (0, s.distance)(n.x, n.z, this._point.x, this._point.z) < 12 && (this._isActivated = !0, this._openTl.play(0))
                }
            }
        }, {
            key: "_bind",
            value: function() {}
        }, {
            key: "_unbind",
            value: function() {}
        }, {
            key: "_init",
            value: function() {
                this._fxMat = new r.default, this._fxMesh = new THREE.Mesh(new THREE.DodecahedronBufferGeometry(.3, 0), this._fxMat), this._fxMat.opacity = 0, this._leftMesh = this._gltf.getObject("terrain", "props_door_left"), this._rightMesh = this._gltf.getObject("terrain", "props_door_right"), this._fragmentsMesh = this._gltf.getObject("terrain", "props_door_fragments"), this._leftMesh.material = this._rightMesh.material = this._fragmentsMesh.material = new i.default({
                    name: "door"
                }), this._fragmentsMesh.material = new r.default, this.add(this._leftMesh, this._rightMesh, this._fragmentsMesh, this._fxMesh), this._fxMesh.position.set(-268, 39, this._fragmentsMesh.z), this._createTls()
            }
        }, {
            key: "_createTls",
            value: function() {
                var e = this;
                this._openTl = new TimelineMax({
                    paused: !0,
                    repeat: -1,
                    repeatDelay: 1
                }), this._tls.push(this._openTl);
                var t = this._fragmentsMesh,
                    n = this._leftMesh,
                    o = this._rightMesh;
                this._openTl.set(this._fxMat, {
                    explode: 0,
                    opacity: 0
                }, 0).to(t.position, 3, {
                    x: -268,
                    ease: Elastic.easeOut
                }).to(t.position, 1, {
                    y: 39,
                    ease: Power2.easeOut
                }, .5).addCallback(function() {
                    e._sounds.play("chest"), e._sounds.play("fragment"), e._sounds.play("woosh-1")
                }, .5).to(t.scale, 1, {
                    x: .5,
                    ease: Elastic.easeOut
                }, 1.1).to(t.scale, 1, {
                    y: .5,
                    ease: Elastic.easeOut
                }, 1).to(t.scale, 1, {
                    z: .5,
                    ease: Elastic.easeOut
                }, .9).to(t.rotation, .5, {
                    x: 3 * Math.PI,
                    ease: Expo.easeOut
                }, 2).to(t.rotation, .5, {
                    y: 2 * Math.PI,
                    ease: Expo.easeOut
                }, 2).to(t.rotation, .5, {
                    z: Math.PI,
                    ease: Expo.easeOut
                }, 2).to(t.scale, .3, {
                    x: 1e-4,
                    y: 1e-4,
                    z: 1e-4,
                    ease: Expo.easeOut
                }, 2).addCallback(function() {
                    e._fxMesh.position.copy(t.position)
                }, 2).to(this._fxMat, .3, {
                    opacity: 1,
                    ease: Expo.easeOut
                }, 2).to(this._fxMat, 3, {
                    explode: 1,
                    ease: Expo.easeOut
                }, 2).addCallback(function() {
                    e._sounds.play("magic-shot")
                }, 2.1).to(this._fragmentsMesh.material, 3, {
                    explode: 1,
                    ease: Expo.easeOut
                }, 2).to(this._fxMesh.rotation, 1, {
                    x: 10,
                    z: 10,
                    y: 10,
                    ease: Expo.easeOut
                }, 2).to(this._fxMat, 1, {
                    opacity: 0,
                    ease: Expo.easeOut
                }, 3.7).addCallback(function() {
                    e._sounds.play("chest"), e._sounds.play("door")
                }, 2).to(n.rotation, 6, {
                    y: 1.3,
                    ease: Power3.easeOut
                }, 2).to(o.rotation, 6, {
                    y: -1.3,
                    ease: Power3.easeOut
                }, 2).addCallback(function() {
                    e._sounds.play("woosh"), e._sounds.play("woosh-1"), e._signals.postPass.burnAnimation.dispatch(3)
                }, 4.5).addCallback(function() {
                    a.default.navigate("/end")
                }, 8)
            }
        }]) && c(n.prototype, l), t
    }();
    t.default = f, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = u(n(78)),
        r = u(n(12)),
        i = u(n(77)),
        a = u(n(76)),
        s = u(n(277)),
        l = u(n(276));

    function u(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function c(e) {
        return (c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function f(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }

    function p(e, t, n) {
        null === e && (e = Function.prototype);
        var o = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === o) {
            var r = Object.getPrototypeOf(e);
            return null === r ? void 0 : p(r, t, n)
        }
        if ("value" in o) return o.value;
        var i = o.get;
        return void 0 !== i ? i.call(n) : void 0
    }
    var d = function(e) {
        function t() {
            return function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t),
                function(e, t) {
                    if (t && ("object" === c(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
        }
        var n, u;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), n = t, (u = [{
            key: "destroy",
            value: function() {
                return this._instructionTl && (this._instructionTl.kill(), this._instructionTl.clear()), this._door.destroy(), this._fogHeightCtrl.destroy(), p(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this)
            }
        }, {
            key: "update",
            value: function(e, n) {
                p(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "update", this).call(this, e, n), this._wayIndicator.update(e, n), this._wayPathIndicator.update(e, n), this._fogHeightCtrl.update(e, n), this._door.update(e, n)
            }
        }, {
            key: "_init",
            value: function() {
                p(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_init", this).call(this)
            }
        }, {
            key: "_createCtrls",
            value: function() {
                p(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_createCtrls", this).call(this), this._fogHeightCtrl = new l.default(this)
            }
        }, {
            key: "_createAudios",
            value: function() {
                p(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_createAudios", this).call(this), this._sounds.create("level")
            }
        }, {
            key: "_createEntities",
            value: function() {
                p(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_createEntities", this).call(this), this._wayIndicator = new i.default([
                    [new THREE.Vector3(-252.96, 35, .62)]
                ]), this.add(this._wayIndicator), this._wayPathIndicator = new a.default, this.addEntity(this._wayPathIndicator), this._door = new s.default, this.add(this._door), this._signals.powers.set.dispatch(2), this._signals.powers.enter.dispatch()
            }
        }, {
            key: "_showInstruction",
            value: function(e) {
                var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                    n = this._locales[this._name].instructions;
                t ? (r.default.isConnected ? e += "_gamepad" : this._save.get("global.qwerty") ? e += "_qwerty" : e += "_azerty", this._signals.instructions.show.dispatch(n[e])) : this._signals.instructions.show.dispatch(n[e])
            }
        }, {
            key: "_hideInstruction",
            value: function() {
                this._signals.instructions.hide.dispatch()
            }
        }]) && f(n.prototype, u), t
    }();
    t.default = d, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = l(n(21)),
            a = l(n(4)),
            s = l(n(19));

        function l(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function u(e) {
            return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function c() {
            return (c = Object.assign || function(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = arguments[t];
                    for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
                }
                return e
            }).apply(this, arguments)
        }

        function f(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function p(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var d = (p((r = function(e) {
            function t() {
                var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    o = n.depthTexture,
                    r = function(e, t) {
                        if (null == e) return {};
                        var n, o, r = {},
                            i = Object.keys(e);
                        for (o = 0; o < i.length; o++) n = i[o], t.indexOf(n) >= 0 || (r[n] = e[n]);
                        if (Object.getOwnPropertySymbols) {
                            var a = Object.getOwnPropertySymbols(e);
                            for (o = 0; o < a.length; o++) n = a[o], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (r[n] = e[n])
                        }
                        return r
                    }(n, ["depthTexture"]);
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), (e = function(e, t) {
                    if (t && ("object" === u(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, c({
                    useShadowMap: !1
                }, r)))).name = "water", e._signals = a.default, e.side = THREE.DoubleSide;
                var i = e._scene.camera;
                return e.uniforms = c({}, e.uniforms, {
                    tDepth: {
                        value: o || null
                    },
                    uResolution: {
                        value: new THREE.Vector2(s.default.width, s.default.height)
                    },
                    uZDepth: {
                        value: new THREE.Vector2(i.near, i.far)
                    },
                    uWaterBoost: {
                        value: 1
                    },
                    uWaterColorDeep: {
                        value: new THREE.Color
                    },
                    uWaterColorFoamLine: {
                        value: new THREE.Color
                    }
                }), e.defines = c({}, e.defines, {
                    IS_WATER: !0
                }), e.whitelistGui = function(e) {
                    if (Array.isArray(e)) {
                        for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                        return n
                    }
                    return Array.from(e)
                }(e.whitelistGui).concat(["waterBoost", "waterColorDeep", "waterColorFoamLine"]), e._scene.materialCtrl.add(function(e) {
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e)), e._bind(), e
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), n = t, (o = [{
                key: "update",
                value: function(e, n) {
                    (function e(t, n, o) {
                        null === t && (t = Function.prototype);
                        var r = Object.getOwnPropertyDescriptor(t, n);
                        if (void 0 === r) {
                            var i = Object.getPrototypeOf(t);
                            return null === i ? void 0 : e(i, n, o)
                        }
                        if ("value" in r) return r.value;
                        var a = r.get;
                        return void 0 !== a ? a.call(o) : void 0
                    })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "update", this).call(this, e, n)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._unbind()
                }
            }, {
                key: "_bind",
                value: function() {
                    s.default.resized.add(this._onWindowResize), this._signals.camera.changed.add(this._onCameraChange)
                }
            }, {
                key: "_unbind",
                value: function() {
                    s.default.resized.remove(this._onWindowResize), this._signals.camera.changed.remove(this._onCameraChange)
                }
            }, {
                key: "_onWindowResize",
                value: function(e, t) {
                    this.uniforms.uResolution.value.set(e, t)
                }
            }, {
                key: "_onCameraChange",
                value: function(e) {
                    this.uniforms.uZDepth.value.set(e.near, e.far)
                }
            }, {
                key: "waterBoost",
                get: function() {
                    return this.uniforms.uWaterBoost.value
                },
                set: function(e) {
                    this.uniforms.uWaterBoost.value = e
                }
            }, {
                key: "waterColorDeep",
                get: function() {
                    return "#".concat(this.uniforms.uWaterColorDeep.value.getHexString())
                },
                set: function(e) {
                    this.uniforms.uWaterColorDeep.value.set(e)
                }
            }, {
                key: "waterColorFoamLine",
                get: function() {
                    return "#".concat(this.uniforms.uWaterColorFoamLine.value.getHexString())
                },
                set: function(e) {
                    this.uniforms.uWaterColorFoamLine.value.set(e)
                }
            }]) && f(n.prototype, o), t
        }()).prototype, "_onWindowResize", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onWindowResize"), r.prototype), p(r.prototype, "_onCameraChange", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onCameraChange"), r.prototype), r);
        t.default = d, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = u(n(5)),
            a = u(n(31)),
            s = u(n(279)),
            l = n(2);

        function u(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function c(e) {
            return (c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function f(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function p(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var d = (0, n(3).getLogger)("WaterEntity", "#ff0000", !1),
            h = 4,
            y = .8,
            v = 23.3,
            _ = .2,
            m = .04,
            g = .15,
            b = 1.8,
            w = 1.5,
            x = -60,
            k = (p((r = function(e) {
                function t() {
                    var e;
                    return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t), (e = function(e, t) {
                        if (t && ("object" === c(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)))._waterReferenceMesh = null, e._geometry = null, e._material = null, e._mesh = null, e._keyLight = null, e._waterStartPoint = null, e._underwater = !1, e._waterRising = !1, e._startPointReached = !1, e._characterDead = !1, e._characterUnderwater = !1, e._characterUnderwaterTime = 0, e._materialCtrl = e._scene.materialCtrl, e._bind(), e._create(), e
                }
                var n, o;
                return function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }(t, i.default), n = t, (o = [{
                    key: "update",
                    value: function(e, t) {
                        this._render(), this._checkUnderwater(), this._updateWater(e, t);
                        var n = this._character;
                        this._waterRising || this._startPointReached || !(this._waterStartPoint.position.distanceTo(n.position) < this._waterStartPoint.radius || this._scene.progressionCtrl.currentCheckpointIndex > -1) || (d("water rising"), this._waterRising = !0, this._startPointReached = !0), this._waterRising && this._mesh.position.y >= v && (this._waterRising = !1, d("water not rising")), !this._characterUnderwater && n.position.y + b < this._mesh.position.y ? (d("character underwater"), this._characterUnderwaterTime = Date.now(), this._characterUnderwater = !0) : this._characterUnderwater && n.position.y + b > this._mesh.position.y && (d("character not underwater"), this._characterUnderwater = !1), !this._characterDead && this._characterUnderwater && (Date.now() - this._characterUnderwaterTime > 1e3 * w || n.position.y < x) && (d("character dead"), this._characterDead = !0, this._characterUnderwaterTime = 0, this._waterRising = !1, this._signals.water.death.dispatch())
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        (function e(t, n, o) {
                            null === t && (t = Function.prototype);
                            var r = Object.getOwnPropertyDescriptor(t, n);
                            if (void 0 === r) {
                                var i = Object.getPrototypeOf(t);
                                return null === i ? void 0 : e(i, n, o)
                            }
                            if ("value" in r) return r.value;
                            var a = r.get;
                            return void 0 !== a ? a.call(o) : void 0
                        })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._unbind(), this._material.destroy(), this._rtt.dispose()
                    }
                }, {
                    key: "_bind",
                    value: function() {
                        this._window.resized.add(this._onWindowResize), this._signals.character.reseted.add(this._onCharacterReset)
                    }
                }, {
                    key: "_unbind",
                    value: function() {
                        this._window.resized.remove(this._onWindowResize), this._signals.character.reseted.remove(this._onCharacterReset)
                    }
                }, {
                    key: "_create",
                    value: function() {
                        var e = this;
                        this._waterReferenceMesh = this._gltf.getObject("terrain", "entities_water"), this._waterReferenceMesh.geometry.computeBoundingBox();
                        var t = new THREE.Vector3;
                        this._waterReferenceMesh.geometry.boundingBox.getSize(t);
                        var n = t.z / t.x,
                            o = h,
                            r = Math.round(o * n);
                        this._geometry = new THREE.PlaneBufferGeometry(t.x, t.z, o, r);
                        var i = this._renderer.getDrawingBufferSize(),
                            a = i.width,
                            l = i.height;
                        this._rtt = new THREE.WebGLRenderTarget(a, l, {
                            minFilter: THREE.NearestFilter,
                            magFilter: THREE.NearestFilter,
                            format: THREE.RGBAFormat,
                            stencilBuffer: !1,
                            depthBuffer: !0,
                            generateMipmaps: !1
                        });
                        var u = this._textures.get("level-2.textures.water.normal", {
                            wrapping: THREE.RepeatWrapping,
                            repeat: new THREE.Vector2(20, 20)
                        });
                        this._material = new s.default({
                            normalMap: u,
                            normalIntensity: .4,
                            depthTexture: this._rtt.texture,
                            wireframe: !1
                        }), this._mesh = new THREE.Mesh(this._geometry, this._material), this._mesh.rotation.x = -Math.PI / 2, this._mesh.position.copy(this._waterReferenceMesh.position), this.add(this._mesh), this._waterStartPoint = this._gltf.getObject("terrain", "points_water_start"), this._waterStartPoint.radius = this._waterStartPoint.scale.x, this._scene.traverse(function(t) {
                            t.material && (t._defaultMaterial = t.material, t.material.instanced ? t._depthMaterial = e._materials.instancedDepthMaterial : t.material.skinning ? t._depthMaterial = e._materials.depthMaterialSkinning : t._depthMaterial = e._materials.depthMaterial)
                        })
                    }
                }, {
                    key: "_render",
                    value: function() {
                        this._scene.traverse(function(e) {
                            e._depthMaterial && (e.material = e._depthMaterial), e instanceof a.default && (e.visible = !1)
                        }), this._mesh.visible = !1, this._renderer.render(this._scene, this._scene.camera, this._rtt), this._mesh.visible = !0, this._scene.traverse(function(e) {
                            e._defaultMaterial && (e.material = e._defaultMaterial), e instanceof a.default && (e.visible = !0)
                        })
                    }
                }, {
                    key: "_checkUnderwater",
                    value: function() {
                        var e = this._materialCtrl;
                        if (!this._underwater && this._scene.camera.position.y - _ < this._mesh.position.y) this._underwater = !0, e.setAllUniforms("uFogDistanceDensity", m), e.setAllUniforms("uAmbientIntensity", g), e.fogEnabled = !0;
                        else if (this._underwater && this._scene.camera.position.y - _ > this._mesh.position.y) {
                            this._underwater = !1;
                            var t = e.defaultConfig.common;
                            e.setAllUniforms("uFogDistanceDensity", t.fog.distance.density), e.setAllUniforms("uAmbientIntensity", t.ambient.intensity), e.fogEnabled = !0
                        }
                    }
                }, {
                    key: "_updateWater",
                    value: function(e, t) {
                        if (this._waterRising) {
                            var n = this._mesh.position.y + .001 * e * y;
                            this._mesh.position.y = (0, l.clamp)(n, this._waterReferenceMesh.position.y, v)
                        }
                    }
                }, {
                    key: "_resetWater",
                    value: function() {
                        this._mesh.position.y = this._waterReferenceMesh.position.y, d("water reset")
                    }
                }, {
                    key: "_onWindowResize",
                    value: function(e, t) {
                        this._rtt.setSize(e, t)
                    }
                }, {
                    key: "_onCharacterReset",
                    value: function() {
                        if (this._characterDead = !1, this._characterUnderwater = !1, -1 === this._scene.progressionCtrl.currentCheckpointIndex) return this._startPointReached = !1, void this._resetWater();
                        !this._waterRising && this._startPointReached && (this._waterRising = !0, this._resetWater(), d("character reset, water rising"))
                    }
                }]) && f(n.prototype, o), t
            }()).prototype, "_onWindowResize", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onWindowResize"), r.prototype), p(r.prototype, "_onCharacterReset", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onCharacterReset"), r.prototype), r);
        t.default = k, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = a(n(5)),
        r = a(n(58)),
        i = n(2);

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function s(e) {
        return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function l(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var u = function(e) {
        function t() {
            var e;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === s(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)))._isActivated = !1, e._needsUpdate = !1, e._basePos = new THREE.Vector3(-8, 50, 162.17), e.position.copy(e._basePos);
            var n = e._scene.progressionCtrl.currentCheckpointIndex;
            return e.visible = !1, e._isFollowing = !1, n >= 2 ? e._isActivated = !0 : (e._init(), e._bind(), e._needsUpdate = !0), e
        }
        var n, a;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), n = t, (a = [{
            key: "update",
            value: function(e, t) {
                if (this._needsUpdate) {
                    var n = this._scene.character.body.position;
                    ((0, i.distance)(n.x, n.z, this.position.x, this.position.z) < 10 || n.z > 150) && !this._isActivated && this._activate();
                    var o = t / 3;
                    this.mesh.rotation.y += .001 * e, this._isFollowing ? (this.position.x += .2 * (n.x - this.position.x), this.position.y += .2 * (n.y + .5 - this.position.y), this.position.z += .2 * (n.z - this.position.z)) : (this.position.copy(this._basePos), this.position.y += .1 * (Math.sin(.01 * o) + Math.sin(.015 * o - .4) + Math.cos(.007 * o + .59))), this._gravitates[0].rotation.x = (this._gravitates[0].rotation.x + .001 * e) % (2 * Math.PI), this._gravitates[1].rotation.y = (this._gravitates[1].rotation.y + .001 * e) % (2 * Math.PI), this._gravitates[2].rotation.z = (this._gravitates[2].rotation.z + .001 * e) % (2 * Math.PI)
                }
            }
        }, {
            key: "destroy",
            value: function() {
                (function e(t, n, o) {
                    null === t && (t = Function.prototype);
                    var r = Object.getOwnPropertyDescriptor(t, n);
                    if (void 0 === r) {
                        var i = Object.getPrototypeOf(t);
                        return null === i ? void 0 : e(i, n, o)
                    }
                    if ("value" in r) return r.value;
                    var a = r.get;
                    return void 0 !== a ? a.call(o) : void 0
                })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._unbind()
            }
        }, {
            key: "_bind",
            value: function() {}
        }, {
            key: "_unbind",
            value: function() {}
        }, {
            key: "_init",
            value: function() {
                this._material = new r.default, this.mesh = new THREE.Mesh(new THREE.DodecahedronBufferGeometry(.4, 0), this._material), this.add(this.mesh), this._gravitates = [];
                for (var e = [new THREE.Vector3(0, .7, 0), new THREE.Vector3(0, 0, .7), new THREE.Vector3(-.7, 0, 0)], t = 0, n = e.length; t < n; t++) {
                    var o = new THREE.Object3D,
                        i = new THREE.Mesh(new THREE.DodecahedronBufferGeometry(.07, 0), this._material);
                    i.position.copy(e[t]), o.add(i), this.add(o), this._gravitates.push(o)
                }
                this._createTls()
            }
        }, {
            key: "_activate",
            value: function() {
                this._isActivated = !0, this._activationTl.play()
            }
        }, {
            key: "_createTls",
            value: function() {
                var e = this;
                this._activationTl = new TimelineMax({
                    paused: !0,
                    onStart: function() {
                        e.visible = !0
                    },
                    onComplete: function() {
                        e.visible = !1, e._needsUpdate = !1
                    }
                }), this._activationTl.addCallback(function() {
                    e._sounds.play("power-2"), e._sounds.play("woosh")
                }, 0).set(this._material, {
                    opacity: 0
                }, 0).to(this._material, 2, {
                    opacity: 1
                }, 0).to(this._basePos, 2, {
                    y: 29,
                    ease: Power2.easeOut
                }, 0).addCallback(function() {
                    e.positionTarget = e.position, e._isFollowing = !0
                }, 2).to(this.scale, 2, {
                    x: .4,
                    y: .4,
                    z: .4,
                    ease: Expo.easeOut
                }, 2).to(this.rotation, 3, {
                    y: 1.5,
                    ease: Expo.easeOut
                }, 4).to(this._material, 3, {
                    explode: 1,
                    opacity: 0,
                    ease: Expo.easeOut
                }, 4).addCallback(function() {
                    e._sounds.play("magic-shot")
                }, 4).addCallback(function() {
                    e._signals.instructions.lvl2Power2Activated.dispatch()
                }, 4), this._tls.push(this._activationTl)
            }
        }]) && l(n.prototype, a), t
    }();
    t.default = u, e.exports = t.default
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#define SHADER_NAME Target\n\n@import common\n\nuniform float uProgress;\nuniform float uOpacity;\nuniform vec3 uColor;\n\nvarying vec2 vUv;\n\n@import fogFragPars\nfloat circle(in vec2 _st, in float _radius){\n  vec2 dist = _st-vec2(0.5);\n  return 1.-smoothstep(\n    _radius - (_radius * 0.00001),\n    _radius + (_radius * 0.00001),\n    dot(dist,dist) * 4.0\n  );\n}\nvoid main() {\n\n  vec3 color1 = vec3(circle(vUv, uProgress));\n  vec3 color2 = vec3(circle(vUv, uProgress - 0.02));\n  float alpha = color1.r - color2.r;\n  gl_FragColor = vec4( (color1 - color2) * uColor, alpha * uOpacity );\n  // gl_FragColor.r = 1.;\n  // gl_FragColor.a = 1.;\n  @import fogFrag\n}\n"
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = a(n(16)),
        r = a(n(79)),
        i = a(n(282));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function s(e) {
        return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function l() {
        return (l = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }

    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var c = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                o = (n.opacity, function(e, t) {
                    if (null == e) return {};
                    var n, o, r = {},
                        i = Object.keys(e);
                    for (o = 0; o < i.length; o++) n = i[o], t.indexOf(n) >= 0 || (r[n] = e[n]);
                    if (Object.getOwnPropertySymbols) {
                        var a = Object.getOwnPropertySymbols(e);
                        for (o = 0; o < a.length; o++) n = a[o], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (r[n] = e[n])
                    }
                    return r
                }(n, ["opacity"]));
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), o.side = THREE.DoubleSide, (e = function(e, t) {
                if (t && ("object" === s(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, o))).name = "target", e.vertexShader = r.default, e.fragmentShader = i.default, e.transparent = !0, e.uniforms = l({}, e.uniforms, {
                uProgress: {
                    value: 1
                },
                uColor: {
                    value: new THREE.Color("#4df7f7")
                }
            }), e.whitelistGui = function(e) {
                if (Array.isArray(e)) {
                    for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                    return n
                }
                return Array.from(e)
            }(e.whitelistGui).concat(["progress"]), e._scene.materialCtrl.add(function(e) {
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(e)), e
        }
        var n, a;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), n = t, (a = [{
            key: "update",
            value: function(e, n) {
                (function e(t, n, o) {
                    null === t && (t = Function.prototype);
                    var r = Object.getOwnPropertyDescriptor(t, n);
                    if (void 0 === r) {
                        var i = Object.getPrototypeOf(t);
                        return null === i ? void 0 : e(i, n, o)
                    }
                    if ("value" in r) return r.value;
                    var a = r.get;
                    return void 0 !== a ? a.call(o) : void 0
                })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "update", this).call(this, e, n)
            }
        }, {
            key: "progress",
            get: function() {
                return this.uniforms.uProgress.value
            },
            set: function(e) {
                this.uniforms.uProgress.value = e
            }
        }]) && u(n.prototype, a), t
    }();
    t.default = c, e.exports = t.default
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#define SHADER_NAME Thunder\n\n@import common\n\nuniform float uProgress;\nuniform vec3 uColor1;\nuniform vec3 uColor2;\nuniform float uOpacity;\nuniform float uOffset;\n\nvarying vec2 vUv;\n\n@import fogFragPars\n\nvoid main() {\n  float progressVariation = \n    sin(uTime * .5) + \n    sin(uTime * .2 + 2.7) + \n    cos(uTime * .4 + 1.2);\n  progressVariation = progressVariation / 3.; // average\n  progressVariation = (progressVariation + 1.) / 2.; // normalise\n\n  vec3 color = mix(uColor1, uColor2, progressVariation);\n  gl_FragColor = vec4(color,  1. - vUv.x  + uProgress + uOffset);\n  gl_FragColor.a *= uOpacity;\n\n  @import fogFrag\n}\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#define SHADER_NAME Thunder\n\nattribute vec3 position;\nattribute vec2 uv;\nattribute vec3 normal;\n\nuniform mat4 modelMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform float uTime;\nuniform float uExplode;\n\nvarying vec2 vUv;\n\n@import fogVertPars\n\nvoid main() {\n  vec4 worldPosition = modelMatrix * vec4(position, 1.0);\n  vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n\n  gl_Position = projectionMatrix * mvPosition;\n\n  float vx = \n    cos(uTime * .5 + gl_Position.y) + \n    sin(uTime * .2 + gl_Position.y + 100.) + \n    cos(uTime * .4 + gl_Position.y + 1.2);\n\n  float vz = \n    sin(uTime * .6 + gl_Position.y + 1000.) + \n    sin(uTime * .2 + gl_Position.y + 100.) + \n    cos(uTime * .4 + gl_Position.y + 1.2);\n\n  vx = vx / 3. * .5;\n  vz = vz / 3. * .5;\n\n  vec3 dist = normal * uExplode * 10.;\n\n  gl_Position.x += vx + dist.x;\n  gl_Position.y += dist.y;\n  gl_Position.z += vz + dist.z;\n\n  vUv = uv;\n  @import fogVert\n}\n"
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = a(n(16)),
        r = a(n(285)),
        i = a(n(284));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function s(e) {
        return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function l() {
        return (l = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }

    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var c = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                o = (n.opacity, function(e, t) {
                    if (null == e) return {};
                    var n, o, r = {},
                        i = Object.keys(e);
                    for (o = 0; o < i.length; o++) n = i[o], t.indexOf(n) >= 0 || (r[n] = e[n]);
                    if (Object.getOwnPropertySymbols) {
                        var a = Object.getOwnPropertySymbols(e);
                        for (o = 0; o < a.length; o++) n = a[o], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (r[n] = e[n])
                    }
                    return r
                }(n, ["opacity"]));
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === s(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, o))).name = "thunder", e.vertexShader = r.default, e.fragmentShader = i.default, e.transparent = !0, e.uniforms = l({}, e.uniforms, {
                uProgress: {
                    value: 1
                },
                uExplode: {
                    value: 0
                },
                uColor1: {
                    value: new THREE.Color("#BDF7FF")
                },
                uColor2: {
                    value: new THREE.Color("#7FE8F7")
                },
                uOffset: {
                    value: -.26
                },
                uTime: {
                    value: 0
                }
            }), e.whitelistGui = function(e) {
                if (Array.isArray(e)) {
                    for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                    return n
                }
                return Array.from(e)
            }(e.whitelistGui).concat(["color1", "color2", "progress", "offsetFloat", "explode"]), e._scene.materialCtrl.add(function(e) {
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(e)), e
        }
        var n, a;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), n = t, (a = [{
            key: "update",
            value: function(e, t) {
                this.uniforms.uTime.value = t
            }
        }, {
            key: "color1",
            get: function() {
                return "#".concat(this.uniforms.uColor1.value.getHexString())
            },
            set: function(e) {
                this.uniforms.uColor1.value.set(e)
            }
        }, {
            key: "color2",
            get: function() {
                return "#".concat(this.uniforms.uColor2.value.getHexString())
            },
            set: function(e) {
                this.uniforms.uColor2.value.set(e)
            }
        }, {
            key: "progress",
            get: function() {
                return this.uniforms.uProgress.value
            },
            set: function(e) {
                this.uniforms.uProgress.value = e
            }
        }, {
            key: "offsetFloat",
            get: function() {
                return this.uniforms.uOffset.value
            },
            set: function(e) {
                this.uniforms.uOffset.value = e
            }
        }, {
            key: "explode",
            get: function() {
                return this.uniforms.uExplode.value
            },
            set: function(e) {
                this.uniforms.uExplode.value = e
            }
        }]) && u(n.prototype, a), t
    }();
    t.default = c, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = h(n(5)),
            a = h(n(31)),
            s = h(n(286)),
            l = h(n(283)),
            u = n(2),
            c = h(n(48)),
            f = h(n(93)),
            p = h(n(23)),
            d = h(n(50));

        function h(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function y(e) {
            return (y = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function v(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var _, m, g, b, w, x, k = {
                height: 60,
                hitDistance: 4.7,
                offsetDistance: 121.1,
                nearCharDistance: 40,
                targetMinDistance: 25,
                raycastDir: new THREE.Vector3(0, -1, 0),
                farBasePoint: new THREE.Vector3(-8, 29, 155.8),
                farDistance: 60,
                xRangeFar: {
                    min: -30,
                    max: 14
                },
                zRangeFar: {
                    min: 160,
                    max: 200
                },
                xRange: {
                    min: -52,
                    max: 34
                },
                zRange: {
                    min: 170,
                    max: 345
                }
            },
            O = (_ = (r = function(e) {
                function t(e) {
                    var n;
                    ! function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t), (n = function(e, t) {
                        if (t && ("object" === y(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this))).index = e, n.type = "thunder", n.name = "thunder-".concat(n.index), n._raycaster = n._context.raycaster, n._intersect = null, n._isFar = !1, n._basePosY = 27.5, n._binded = !1, n.position.y = n._basePosY, n.visible = !1;
                    for (var o = [], r = 0; r < 10; r++) {
                        var i = k.height - k.height / 9 * r;
                        o[r] = 9 === r ? new THREE.Vector3(0, i, 0) : 8 === r ? new THREE.Vector3((0, u.randomFloat)(-1, 1), i, (0, u.randomFloat)(-1, 1)) : new THREE.Vector3((0, u.randomFloat)(-4, 4), i, (0, u.randomFloat)(-4, 4))
                    }
                    return n._curve = new THREE.CatmullRomCurve3(o), n._geometry = new THREE.TubeBufferGeometry(n._curve, 10, .3, 3, !1), n._geometry.translate(0, -k.height, 0), n._material = new s.default({
                        name: n.name
                    }), n._tMaterial = new l.default({
                        name: n.name + "_target"
                    }), n.mesh = new THREE.Mesh(n._geometry, n._material), n.add(n.mesh), n._sprite = new a.default({
                        debug: !1,
                        geometry: new THREE.PlaneBufferGeometry(7, 7, 1, 1),
                        fps: 20,
                        dataId: "level-2.json.sprites.thunder",
                        atlasId: "level-2.textures.sprites.thunder",
                        mcOptions: {
                            loop: !1
                        }
                    }), n._sprite.visible = !1, n._sprite.rotation.x = -Math.PI / 2, n.add(n._sprite), n._scene.materialCtrl.add(n._material), n._scene.materialCtrl.add(n._tMaterial), n._scene.materialCtrl.add(n._sprite.material), n._target = new THREE.Mesh(new THREE.PlaneBufferGeometry(5, 5, 1, 1), n._tMaterial), n._target.rotation.x = -Math.PI / 2, n._target.visible = !1, n.add(n._target), n._initSound(), n._bind(), t.COUNT++, n._resetInterval = setInterval(function() {
                        n._scene.character && n._reset(1.5, 10)
                    }, 2e3), n
                }
                var n, o;
                return function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }(t, i.default), n = t, (o = [{
                    key: "update",
                    value: function(e, t) {
                        this._material.update(e, t), this._updateSound()
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        clearTimeout(this._resetTimeout), clearInterval(this._resetInterval),
                            function e(t, n, o) {
                                null === t && (t = Function.prototype);
                                var r = Object.getOwnPropertyDescriptor(t, n);
                                if (void 0 === r) {
                                    var i = Object.getPrototypeOf(t);
                                    return null === i ? void 0 : e(i, n, o)
                                }
                                if ("value" in r) return r.value;
                                var a = r.get;
                                return void 0 !== a ? a.call(o) : void 0
                            }(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._thunderTl && (this._thunderTl.pause(), this._thunderTl.kill(), this._thunderTl.clear()), this._unbind()
                    }
                }, {
                    key: "_createGUI",
                    value: function() {}
                }, {
                    key: "_createTl",
                    value: function() {
                        var e = this,
                            t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
                            n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 5,
                            o = this._material,
                            r = this._tMaterial,
                            i = (this.mesh, (0, u.randomFloat)(t, n)),
                            a = (0, u.randomFloat)(.3, .7),
                            s = RoughEase.ease.config({
                                template: Power0.easeNone,
                                strength: 2,
                                points: 10,
                                taper: "none",
                                randomize: !0,
                                clamp: !1
                            });
                        this._thunderTl = new TimelineMax({
                            paused: !0,
                            onComplete: function() {
                                e.visible = !1, e._sprite.visible = !1, e._reset()
                            }
                        }), this._target.visible = !0;
                        var l = this._scene.postProcessing.getPass("PostPass").material.uniforms.uBloomMix;
                        this._thunderTl.addCallback(function() {
                            e.visible = !0
                        }, Math.max(0, i - 1)).set(r, {
                            opacity: 1,
                            ease: Expo.easeOut
                        }, Math.max(0, i - 1)).to(r, .9, {
                            progress: 0,
                            ease: Expo.easeOut,
                            onComplete: function() {
                                e._target.visible = !1
                            }
                        }, Math.max(0, i - .5)).to(r, .6, {
                            opacity: 0,
                            ease: s
                        }, i).set(l, {
                            value: 0
                        }, i).to(this.mesh.scale, .5, {
                            y: 1,
                            ease: Expo.easeOut
                        }, i).to(o, .3, {
                            opacity: 1,
                            ease: Expo.easeOut
                        }, i).to(o, .7, {
                            progress: 1,
                            ease: Expo.easeOut
                        }, i + .1).to(o, .2, {
                            progress: 0,
                            ease: Expo.easeOut
                        }, i + .8 + a).to(o, .2, {
                            opacity: 0,
                            ease: Expo.easeOut
                        }, i + .4 + a).addCallback(function() {
                            var t = e._scene.character;
                            if (e._thunderSound.play(), !e._isFar) {
                                var n = t.body.position,
                                    o = (0, u.distance)(n.x, n.z, e.mesh.position.x, e.mesh.position.z);
                                if (o < k.nearCharDistance) {
                                    var r = o / k.nearCharDistance;
                                    r = Math.min(r, 1), TweenMax.fromTo(l, .3, {
                                        value: 0
                                    }, {
                                        value: 1 - r,
                                        ease: s
                                    }), TweenMax.to(l, .3, {
                                        value: 0,
                                        ease: s,
                                        delay: .3
                                    }), e._signals.thunder.nearCharHit.dispatch(Math.max(r, 0))
                                }
                                e._hitTest()
                            }
                        }, i + .1).addCallback(function() {
                            e._hitTest()
                        }, i + .2).addCallback(function() {
                            e._hitTest()
                        }, i + .35).addCallback(function() {
                            e._hitTest()
                        }, i + .45).addCallback(function() {
                            e._isFar || e._playSprite()
                        }, i + .3), this._thunderTl.play()
                    }
                }, {
                    key: "_bind",
                    value: function() {
                        this._binded || (this._binded = !0, this._signals.character.reseted.add(this._onCharReset))
                    }
                }, {
                    key: "_unbind",
                    value: function() {
                        this._binded && (this._binded = !1, this._signals.character.reseted.remove(this._onCharReset))
                    }
                }, {
                    key: "_initSound",
                    value: function() {
                        this._thunderSound = this._sounds.createSound({
                            id: this.name,
                            url: d.default["/assets/audios/fx/thunder.mp3"],
                            volume: .13
                        }), this._pan = this._thunderSound.effects.add((0, f.default)({
                            maxDistance: 140
                        }))
                    }
                }, {
                    key: "_destroySound",
                    value: function() {
                        this._thunderSound && c.default.destroy(this.name)
                    }
                }, {
                    key: "_hitTest",
                    value: function() {
                        var e = this._scene.character,
                            t = e.body.position,
                            n = (0, u.distance)(t.x, t.z, this.mesh.position.x, this.mesh.position.z),
                            o = Date.now() - e.dyingNow;
                        n < k.hitDistance && !e.isDying && o > 1e4 && (this._signals.thunder.hit.dispatch(), this._dyingNow = Date.now())
                    }
                }, {
                    key: "_updateSound",
                    value: function() {
                        var e = p.default.pool.get();
                        e.set(0, 0, -1), e.applyQuaternion(this._scene.camera.quaternion), this._pan.setListenerPosition(this._scene.camera.position), this._pan.setListenerOrientation(e.normalize()), e.release()
                    }
                }, {
                    key: "_reset",
                    value: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : .5,
                            t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 2;
                        clearInterval(this._resetInterval);
                        var n = this._scene.character.body.position,
                            o = (0, u.distance)(n.x, n.z, k.farBasePoint.x, k.farBasePoint.z) > k.farDistance && n.z < k.zRange.min;
                        this._isFar = o;
                        var r = o ? k.xRangeFar : k.xRange,
                            i = o ? k.zRangeFar : k.zRange;
                        this.mesh.position.set((0, u.randomFloat)(r.min, r.max), k.height, (0, u.randomFloat)(i.min, i.max));
                        var a = n.z > k.zRange.min && n.z < k.zRange.max;
                        if (o) this.position.y = this._basePosY;
                        else if (a) {
                            if (0 === this.index ? (this.mesh.position.x = n.x + (0, u.randomFloat)(-2, 2), this.mesh.position.z = n.z + (0, u.randomFloat)(-2, 2)) : this.index % 4 == 0 && (a ? (this.mesh.position.x = n.x + (0, u.randomFloat)(-10, 10), this.mesh.position.z = n.z + (0, u.randomFloat)(3, 15)) : this.mesh.position.z = n.z + (0, u.randomFloat)(-5, 20)), this._raycast(), !this._intersect) return void this._reset();
                            var s = this._intersect.distance;
                            this.position.y = k.offsetDistance - s
                        }
                        this._target.position.copy(this.mesh.position), this._target.position.y -= k.height, this._thunderTl && this._thunderTl.kill(), this.mesh.rotation.y = (0, u.randomFloat)(-Math.PI, Math.PI);
                        var l = p.default.pool.get();
                        l.set(0, 0, -1), l.applyQuaternion(this.mesh.quaternion), this._pan.setPosition(this.mesh.position.x, this.mesh.position.y - k.height, this.mesh.position.z), this._pan.setOrientation(l.normalize()), l.release(), TweenMax.set(this._material, {
                            opacity: 0
                        }), TweenMax.set(this._material, {
                            progress: 0
                        }), TweenMax.set(this._material, {
                            explode: 0
                        }), TweenMax.set(this._tMaterial, {
                            opacity: 0
                        }), TweenMax.set(this._tMaterial, {
                            progress: 1
                        }), TweenMax.set(this.mesh.scale, {
                            y: .8
                        }), this._createTl(e, t)
                    }
                }, {
                    key: "_raycast",
                    value: function() {
                        var e = p.default.pool.get();
                        e.copy(this.mesh.position), e.y = 120, this._raycaster.set(e, k.raycastDir);
                        var t = this._raycaster.intersectObjects(this._scene.navMeshes);
                        t.length ? this._intersect = t[0] : this._intersect = null, e.release()
                    }
                }, {
                    key: "_playSprite",
                    value: function() {
                        this._sprite.visible = !0, this._sprite.position.copy(this._target.position), this._sprite.mc.gotoAndPlay(0);
                        var e = (0, u.randomFloat)(.9, 1.3);
                        this._sprite.scale.set(e, e, e), this._sprite.rotation.z = (0, u.randomFloat)(0, 2 * Math.PI)
                    }
                }, {
                    key: "_onCharReset",
                    value: function() {
                        this._thunderTl.progress(0), this._thunderTl.pause(), this._reset(1.5, 10)
                    }
                }]) && v(n.prototype, o), t
            }()).prototype, m = "_onCharReset", g = [o], b = Object.getOwnPropertyDescriptor(r.prototype, "_onCharReset"), w = r.prototype, x = {}, Object.keys(b).forEach(function(e) {
                x[e] = b[e]
            }), x.enumerable = !!x.enumerable, x.configurable = !!x.configurable, ("value" in x || x.initializer) && (x.writable = !0), x = g.slice().reverse().reduce(function(e, t) {
                return t(_, m, e) || e
            }, x), w && void 0 !== x.initializer && (x.value = x.initializer ? x.initializer.call(w) : void 0, x.initializer = void 0), void 0 === x.initializer && (Object.defineProperty(_, m, x), x = null), r);
        O.COUNT = 0;
        var E = O;
        t.default = E, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0, r(n(20)), r(n(4));
    var o = r(n(287));

    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function i(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var a = function() {
        function e(t) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._scene = t, this._binded = !1, this.entities = [], this._init(), this.bind()
        }
        var t, n;
        return t = e, (n = [{
            key: "add",
            value: function(e) {
                this.entities.push(e), this._scene.add(e)
            }
        }, {
            key: "update",
            value: function(e, t) {
                for (var n = 0, o = this.entities.length; n < o; n++) this.entities[n].update(e, t)
            }
        }, {
            key: "bind",
            value: function() {
                this._binded || (this._binded = !0)
            }
        }, {
            key: "unbind",
            value: function() {
                this._binded
            }
        }, {
            key: "destroy",
            value: function() {
                this.unbind();
                for (var e = 0, t = this.entities.length; e < t; e++) this.entities[e].destroy()
            }
        }, {
            key: "_init",
            value: function() {
                for (var e = 0; e < 10; e++) {
                    var t = new o.default(e);
                    this.add(t)
                }
            }
        }]) && i(t.prototype, n), e
    }();
    t.default = a, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = d(n(78)),
            a = d(n(288)),
            s = d(n(12)),
            l = d(n(77)),
            u = d(n(76)),
            c = d(n(281)),
            f = d(n(280)),
            p = n(2);

        function d(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function h(e) {
            return (h = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function y(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function v(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : v(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }

        function _(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var m = 320,
            g = 430,
            b = .045,
            w = (_((r = function(e) {
                function t() {
                    return function(e, t) {
                            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                        }(this, t),
                        function(e, t) {
                            if (t && ("object" === h(t) || "function" == typeof t)) return t;
                            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                            return e
                        }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
                }
                var n, o;
                return function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }(t, i.default), n = t, (o = [{
                    key: "destroy",
                    value: function() {
                        return clearTimeout(this._resetTimeout), this._thunderEntitiesCtrl.destroy(), this.power2El.destroy(), v(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this)
                    }
                }, {
                    key: "update",
                    value: function(e, n) {
                        v(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "update", this).call(this, e, n), this._thunderEntitiesCtrl.update(e, n), this._wayIndicator.update(e, n), this._wayPathIndicator.update(e, n), this._water.update(e, n), this.power2El.update(e, n), this._updateDistanceFog()
                    }
                }, {
                    key: "_init",
                    value: function() {
                        v(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_init", this).call(this), this._firstRiverInstructuction = !0, this._firstThunderInstruction = !0
                    }
                }, {
                    key: "_bind",
                    value: function() {
                        v(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_bind", this).call(this), this._signals.instructions.lvl2Power2Activated.add(this._onLvl2Power2Activate)
                    }
                }, {
                    key: "_unbind",
                    value: function() {
                        v(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_unbind", this).call(this), this._signals.instructions.lvl2Power2Activated.remove(this._onLvl2Power2Activate)
                    }
                }, {
                    key: "_createCtrls",
                    value: function() {
                        v(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_createCtrls", this).call(this), this._thunderEntitiesCtrl = new a.default(this), this._defaultFogDistanceDensity = this._materialCtrl._defaultConfig.common.fog.distance.density
                    }
                }, {
                    key: "_createAudios",
                    value: function() {
                        v(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_createAudios", this).call(this), this._sounds.create("level")
                    }
                }, {
                    key: "_createEntities",
                    value: function() {
                        v(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_createEntities", this).call(this), this._createTls();
                        var e = this._progressionCtrl.currentCheckpointIndex;
                        e < 0 ? this._startInstructionTl.play(0) : 2 === e && (this._startInstructionTl.pause(), this._thunderInstructionTl.play(0)), e >= 2 ? this._signals.powers.set.dispatch(2) : this._signals.powers.set.dispatch(1), this._signals.powers.enter.dispatch(), this._wayIndicator = new l.default([
                            [new THREE.Vector3(3.55, 7, -49), new THREE.Vector3(5.8, 8, -12.5), new THREE.Vector3(33.3, 17, 44.7), new THREE.Vector3(-15.4, 23.5, 45.4)],
                            [new THREE.Vector3(-76.4, 32.5, 52.1), new THREE.Vector3(-83.46, 37.33, 83.58), new THREE.Vector3(-7.79, 28.94, 162), new THREE.Vector3(-7.79, 28.94, 162)],
                            [new THREE.Vector3(-9.68, 52.89, 417.66)]
                        ]), this.add(this._wayIndicator), this._wayPathIndicator = new u.default, this.addEntity(this._wayPathIndicator), this._water = new f.default, this.addEntity(this._water), this.power2El = new c.default, this.addEntity(this.power2El)
                    }
                }, {
                    key: "_createTls",
                    value: function() {
                        var e = this;
                        this._startInstructionTl = new TimelineMax({
                            paused: !0
                        }), this._thunderInstructionTl = new TimelineMax({
                            paused: !0
                        }), this._thunderSubs = new TimelineMax({
                            paused: !0
                        }), this._startInstructionTl.addCallback(function() {
                            e._state.dialogueEnabled = !1
                        }).addCallback(function() {
                            e._firstRiverInstructuction && (e._sounds.play("river"), e._firstRiverInstructuction = !1), e._showInstruction("switch_power")
                        }, "+=5").addCallback(function() {
                            e._signals.instructions.hide.dispatch()
                        }, "+=4").addCallback(function() {
                            e._showInstruction("platform")
                        }, "+=1").addCallback(function() {
                            e._signals.instructions.hide.dispatch()
                        }, "+=4").addCallback(function() {
                            e._showInstruction("goal_1", !1)
                        }, "+=1").addCallback(function() {
                            e._state.dialogueEnabled = !0, e._signals.instructions.hide.dispatch()
                        }, "+=4"), this._thunderInstructionTl.addCallback(function() {
                            e._state.dialogueEnabled = !1
                        }).addCallback(function() {
                            e._showInstruction("dash_power_2", !1)
                        }, 1).addCallback(function() {
                            e._firstThunderInstruction && (e._sounds.play("avoid-lightning"), e._firstThunderInstruction = !1)
                        }, 2.3).addCallback(function() {
                            e._signals.instructions.hide.dispatch(), e._state.dialogueEnabled = !0
                        }, "+=9"), this._tls.push(this._startInstructionTl), this._tls.push(this._thunderInstructionTl), this._tls.push(this._thunderSubs)
                    }
                }, {
                    key: "_showInstruction",
                    value: function(e) {
                        var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                            n = this._locales[this._name].instructions;
                        t ? (s.default.isConnected ? e += "_gamepad" : this._save.get("global.qwerty") ? e += "_qwerty" : e += "_azerty", this._signals.instructions.show.dispatch(n[e])) : this._signals.instructions.show.dispatch(n[e])
                    }
                }, {
                    key: "_hideInstruction",
                    value: function() {
                        this._signals.instructions.hide.dispatch()
                    }
                }, {
                    key: "_updateDistanceFog",
                    value: function() {
                        var e = (0, p.map)(this._character.position.z, m, g, this._defaultFogDistanceDensity, b);
                        e = (0, p.clamp)(e, this._defaultFogDistanceDensity, b), this._materialCtrl.fogEnabled && this._materialCtrl.setAllUniforms("uFogDistanceDensity", e)
                    }
                }, {
                    key: "_onLvl2Power2Activate",
                    value: function() {
                        this._startInstructionTl.pause(), this._thunderInstructionTl.play(0), this._signals.powers.set.dispatch(2)
                    }
                }, {
                    key: "_onCharReset",
                    value: function() {
                        var e = this;
                        clearTimeout(this._resetTimeout), this._startInstructionTl.pause(), this._thunderInstructionTl.pause();
                        var t = this._progressionCtrl.currentCheckpointIndex;
                        t < 0 ? this._startInstructionTl.play(0) : 2 === t && (this._resetTimeout = setTimeout(function() {
                            e._thunderInstructionTl.play(0)
                        }, 2e3))
                    }
                }]) && y(n.prototype, o), t
            }()).prototype, "_onLvl2Power2Activate", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onLvl2Power2Activate"), r.prototype), _(r.prototype, "_onCharReset", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onCharReset"), r.prototype), r);
        t.default = w, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(61)) && o.__esModule ? o : {
        default: o
    };

    function i(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var a = new THREE.Vector3,
        s = function() {
            function e(t) {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this._scene = t, this._character = t.character, this._gameCamera = t.gameCamera, this._progressionCtrl = t.progressionCtrl, this._gltf = r.default, this._endBox = null, this._isInLabyrinth = !1, this._isEnd = !1, this._isCameraDown = !1, this._isTweening = !1, this._defaultCamMaxPanY = this._gameCamera.maxPanY, this._createEndBox()
            }
            var t, n;
            return t = e, (n = [{
                key: "update",
                value: function(e, t) {
                    this._checkIsInLabyrinth()
                }
            }, {
                key: "_createEndBox",
                value: function() {
                    var e = this._gltf.getObject("terrain", "points_labyrinth_end_box"),
                        t = e.position,
                        n = e.scale,
                        o = new THREE.Box3;
                    o.set(a, a), o.expandByVector(new THREE.Vector3(n.x, n.y, n.z)), o.translate(t), this._endBox = o;
                    var r = new THREE.Box3Helper(o, 16776960);
                    r.name = "boxHelper", r.visible = !1, this._scene.add(r)
                }
            }, {
                key: "_checkIsInLabyrinth",
                value: function() {
                    var e = this._character.position;
                    !this._isEnd && this._endBox.containsPoint(e) ? this._isEnd = !0 : this._isEnd && !this._endBox.containsPoint(e) && (this._isEnd = !1), !this._isInLabyrinth && e.x < -342 && !this._isEnd ? this._isInLabyrinth = !0 : (this._isInLabyrinth && this._isEnd || this._isInLabyrinth && e.x > -342 && !this._isEnd) && (this._isInLabyrinth = !1), this._isInLabyrinth && this._isCameraDown ? (this._isCameraDown = !1, this._cameraUp()) : this._isInLabyrinth || this._isCameraDown || (this._isCameraDown = !0, this._isEnd ? this._cameraDown(200) : this._cameraDown()), this._gameCamera.isDown && this._isTweening && (this._isTweening = !1, TweenMax.killTweensOf(this._gameCamera, {
                        maxPanY: !0,
                        panYTarget: !0
                    }))
                }
            }, {
                key: "_cameraUp",
                value: function() {
                    var e = this;
                    this._isTweening = !0, TweenMax.to(this._gameCamera, 2, {
                        maxPanY: 2100,
                        panYTarget: 2100,
                        ease: Power2.easeInOut,
                        onComplete: function() {
                            e._isTweening = !1
                        }
                    })
                }
            }, {
                key: "_cameraDown",
                value: function() {
                    var e = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._gameCamera.defaultPanY;
                    this._isTweening = !0, TweenMax.to(this._gameCamera, 2, {
                        maxPanY: this._defaultCamMaxPanY,
                        panYTarget: t,
                        ease: Power2.easeInOut,
                        onComplete: function() {
                            e._isTweening = !1
                        }
                    })
                }
            }]) && i(t.prototype, n), e
        }();
    t.default = s, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = u(n(5)),
        r = u(n(31)),
        i = n(2),
        a = (u(n(48)), u(n(93))),
        s = u(n(50)),
        l = u(n(23));

    function u(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function c(e) {
        return (c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function f(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var p = function(e) {
        function t() {
            var e;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === c(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)))._sprites = [], e._sFireSounds = [], e._pans = [], e._timeouts = [], e._create(), e
        }
        var n, u;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), n = t, (u = [{
            key: "update",
            value: function(e, t) {
                this._updateSounds()
            }
        }, {
            key: "destroy",
            value: function() {
                for (var e = 0, n = this._timeouts.length; e < n; e++) clearTimeout(this._timeouts[e]);
                (function e(t, n, o) {
                    null === t && (t = Function.prototype);
                    var r = Object.getOwnPropertyDescriptor(t, n);
                    if (void 0 === r) {
                        var i = Object.getPrototypeOf(t);
                        return null === i ? void 0 : e(i, n, o)
                    }
                    if ("value" in r) return r.value;
                    var a = r.get;
                    return void 0 !== a ? a.call(o) : void 0
                })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._destroySounds();
                for (var o = 0, r = this._sprites.length; o < r; o++) this._sprites[o].destroy()
            }
        }, {
            key: "_create",
            value: function() {
                for (var e = this, t = this._gltf.getObject("terrain", "sprites").children, n = 0, o = 0, u = t.length; o < u; o++)
                    for (var c = t[o].children, f = function(t, o) {
                            var u = c[t],
                                f = new r.default({
                                    debug: !1,
                                    geometry: u.geometry,
                                    fps: 24,
                                    dataId: "".concat(e._scene.name, ".json.sprites.fire"),
                                    atlasId: "".concat(e._scene.name, ".textures.sprites.fire"),
                                    mcOptions: {
                                        loop: !0
                                    },
                                    matOptions: {
                                        side: THREE.DoubleSide
                                    }
                                }),
                                p = e._sounds.createSound({
                                    id: "fire-" + n,
                                    url: s.default["/assets/audios/fx/fire.mp3"],
                                    volume: .5
                                }),
                                d = p.effects.add((0, a.default)({
                                    maxDistance: 20
                                }));
                            e._sFireSounds.push(p), e._pans.push(d), f.position.copy(u.position), f.mc.gotoAndPlay((0, i.randomInt)(0, f.mc.totalFrames)), e._scene.materialCtrl.add(f.material), e._sprites.push(f), e.add(f);
                            var h = l.default.pool.get();
                            h.set(0, 0, -1), h.applyQuaternion(f.quaternion), d.setPosition(f.position), d.setOrientation(h.normalize()), h.release(), p.loop = !0, e._timeouts.push(setTimeout(function() {
                                p.play()
                            }, (0, i.randomFloat)(0, 400))), n++
                        }, p = 0, d = c.length; p < d; p++) f(p)
            }
        }, {
            key: "_destroySounds",
            value: function() {
                for (var e = 0, t = this._sFireSounds.length; e < t; e++) this._sFireSounds[e].destroy()
            }
        }, {
            key: "_updateSounds",
            value: function() {
                for (var e = 0, t = this._pans.length; e < t; e++) {
                    var n = this._pans[e],
                        o = l.default.pool.get();
                    o.set(0, 0, -1), o.applyQuaternion(this._scene.camera.quaternion), n.setListenerPosition(this._scene.camera.position), n.setListenerOrientation(o.normalize()), o.release()
                }
            }
        }]) && f(n.prototype, u), t
    }();
    t.default = p, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = l(n(5)),
        r = l(n(21)),
        i = l(n(58)),
        a = l(n(37)),
        s = n(2);

    function l(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function u(e) {
        return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function c(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var f = function(e) {
        function t() {
            var e;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === u(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)))._initChest(), e._initPower(), e._rotationY = 0, e._isFollowing = !1, e._isActivated = !1, e._createTls(), e
        }
        var n, l;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), n = t, (l = [{
            key: "destroy",
            value: function() {
                clearTimeout(this._openTimeout),
                    function e(t, n, o) {
                        null === t && (t = Function.prototype);
                        var r = Object.getOwnPropertyDescriptor(t, n);
                        if (void 0 === r) {
                            var i = Object.getPrototypeOf(t);
                            return null === i ? void 0 : e(i, n, o)
                        }
                        if ("value" in r) return r.value;
                        var a = r.get;
                        return void 0 !== a ? a.call(o) : void 0
                    }(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._openTl && (this._openTl.kill(), this._openTl.clear())
            }
        }, {
            key: "update",
            value: function(e, t) {
                var n = this,
                    o = this._scene.character.body.position,
                    r = this._bottom.position;
                if (this._isActivated) {
                    this._isFollowing ? (this._power.position.x += .1 * (o.x - this._power.position.x), this._power.position.y += .1 * (o.y + .5 - this._power.position.y), this._power.position.z += .1 * (o.z - this._power.position.z)) : this._power.position.copy(r).add(this._power.offsetPos);
                    var i = .3 * t;
                    this._power.y += .1 * (Math.sin(.01 * i) + Math.sin(.015 * i - .4) + Math.cos(.007 * i + .59)), this._gravitates[0].rotation.x = (this._gravitates[0].rotation.x + .001 * e) % (2 * Math.PI), this._gravitates[1].rotation.y = (this._gravitates[1].rotation.y + .001 * e) % (2 * Math.PI), this._gravitates[2].rotation.z = (this._gravitates[2].rotation.z + .001 * e) % (2 * Math.PI)
                } else(0, s.distance)(o.x, o.z, r.x, r.z) < 25 && (TweenMax.delayedCall(1.5, function() {
                    n._openTl.play()
                }), this._isActivated = !0)
            }
        }, {
            key: "_initChest",
            value: function() {
                this._top = this._gltf.getObject("terrain", "props_chest_top"), this._bottom = this._gltf.getObject("terrain", "props_chest_bottom"), this._material = new r.default({
                    name: "chest"
                }), this._material.color = "#ffffff", this._top.material = this._material, this._top.baseRot = this._top.rotation.clone(), this._bottom.material = this._material, this.add(this._top), this.add(this._bottom)
            }
        }, {
            key: "_initPower",
            value: function() {
                this._wayMaterial = new i.default, this._power = new THREE.Mesh(new THREE.DodecahedronBufferGeometry(.45, 0), this._wayMaterial), this._power.offsetPos = new THREE.Vector3, this.add(this._power), this._power.position.copy(this._bottom.position), this._gravitates = [];
                for (var e = [new THREE.Vector3(0, .7, 0), new THREE.Vector3(0, 0, .7), new THREE.Vector3(-.7, 0, 0)], t = 0, n = e.length; t < n; t++) {
                    var o = new THREE.Object3D,
                        r = new THREE.Mesh(new THREE.DodecahedronBufferGeometry(.07, 0), this._wayMaterial);
                    r.position.copy(e[t]), o.add(r), this._power.add(o), this._gravitates.push(o)
                }
            }
        }, {
            key: "_createTls",
            value: function() {
                var e = this;
                this._openTl = new TimelineMax({
                    paused: !0
                }), this._openTl.addCallback(function() {
                    e._state.dialogueEnabled = !1, e._isFollowing = !1, e._top.rotation.set(e._top.baseRot.x, e._top.baseRot.y, e._top.baseRot.z)
                }).set(this._power.scale, {
                    x: .01,
                    y: .01,
                    z: .01
                }, 0).set(this._wayMaterial, {
                    opacity: 0
                }, 0).to(this, 1, {
                    _rotateY: .06,
                    onUpdate: function() {
                        e._top.rotateY(e._rotateY)
                    },
                    ease: Expo.easeOut
                }, 0).addCallback(function() {
                    e._sounds.play("chest")
                }, .3).addCallback(function() {
                    e._signals.subtitles.remove.dispatch()
                }, 10).to(this._wayMaterial, .8, {
                    opacity: 1
                }, 0).to(this._power.scale, 1.2, {
                    x: 1,
                    y: 1,
                    z: 1,
                    ease: Elastic.easeOut.config(2)
                }, .15).to(this._power.offsetPos, 1.2, {
                    y: 3,
                    ease: Expo.easeOut
                }, .15).addCallback(function() {
                    e._sounds.play("power-1")
                }, 3).addCallback(function() {
                    e._isFollowing = !0
                }, 9).to(this._power.scale, 1.2, {
                    x: .3,
                    y: .3,
                    z: .3,
                    ease: Elastic.easeOut.config(2)
                }, 9).to(this._power.rotation, 3, {
                    y: 1.5,
                    ease: Expo.easeOut
                }, 11).to(this._wayMaterial, 3, {
                    explode: 1,
                    opacity: 0,
                    ease: Expo.easeOut
                }, 11).addCallback(function() {
                    e._sounds.play("magic-shot"), e._signals.instructions.lvl1Power1Activated.dispatch()
                }, 11).addCallback(function() {
                    TweenMax.to(e._scene.character.materials, 1, {
                        opacity: 0,
                        ease: RoughEase.ease.config({
                            template: Power0.easeNone,
                            strength: 2,
                            points: 10,
                            taper: "none",
                            randomize: !0,
                            clamp: !1
                        })
                    })
                }, 13).addCallback(function() {
                    e._signals.postPass.vignetteAnimation.dispatch(3, 200, 0, "out"), e._sounds.play("woosh-2"), e._save.set("level-2.checkpoint", -1)
                }, 14).addCallback(function() {
                    a.default.navigate("/level/level-2")
                }, 15)
            }
        }]) && c(n.prototype, l), t
    }();
    t.default = f, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = l(n(5)),
        r = l(n(21)),
        i = l(n(59)),
        a = l(n(23)),
        s = n(2);

    function l(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function u(e) {
        return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function c(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    new THREE.Quaternion;
    var f = function(e) {
        function t() {
            var e;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === u(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)))._rocks = [], e._bodies = [], e._material = new r.default({
                name: "jumpable-rocks"
            }), e._bind(), e._init(), e
        }
        var n, l;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), n = t, (l = [{
            key: "update",
            value: function(e, t) {
                this._scene.character.body.position;
                for (var n = 0, o = this._rocks.length; n < o; n++) {
                    var r = this._rocks[n],
                        i = this._bodies[n],
                        a = this._scene.character.body.position;
                    r.position, this._checkToggleBody(a, r, i), this._animateRock(a, r, i, e, t)
                }
            }
        }, {
            key: "destroy",
            value: function() {
                (function e(t, n, o) {
                    null === t && (t = Function.prototype);
                    var r = Object.getOwnPropertyDescriptor(t, n);
                    if (void 0 === r) {
                        var i = Object.getPrototypeOf(t);
                        return null === i ? void 0 : e(i, n, o)
                    }
                    if ("value" in r) return r.value;
                    var a = r.get;
                    return void 0 !== a ? a.call(o) : void 0
                })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._unbind()
            }
        }, {
            key: "_bind",
            value: function() {}
        }, {
            key: "_unbind",
            value: function() {}
        }, {
            key: "_init",
            value: function() {
                for (var e = this._gltf.getObject("terrain", "props_platform"), t = 0, n = e.children.length; t < n; t++) {
                    var o = e.children[t];
                    o.basePos = o.position.clone(), o.baseRot = o.rotation.clone(), o.offsetPos = new THREE.Vector3, o.timeOffset = new THREE.Vector3((0, s.randomFloat)(-1e3, 1e3), (0, s.randomFloat)(-1e3, 1e3), (0, s.randomFloat)(-1e3, 1e3)), o.isActive = !1, o.posInertiaY = new i.default({
                        value: 0,
                        interpolation: "linear"
                    }), o.material = this._material, this._rocks.push(o), o.geometry.computeBoundingBox();
                    var r = o.geometry.boundingBox;
                    o.bbox = {
                        x: Math.abs(r.max.x - r.min.x) * o.scale.x,
                        y: Math.abs(r.max.y - r.min.y) * o.scale.y,
                        z: Math.abs(r.max.z - r.min.z) * o.scale.z
                    };
                    var a = new THREE.Mesh(new THREE.PlaneBufferGeometry(o.bbox.x, o.bbox.z, 1, 1), this._materials.debugMaterial);
                    a.name = "jumpable-plane", o.add(a), this._scene.navMeshes.push(a), a.position.set(0, .45 * o.bbox.y, 0), a.rotation.x = -Math.PI / 2, a.visible = !1
                }
                for (var l = 0, u = this._rocks.length; l < u; l++) {
                    var c = this._rocks[l];
                    this.add(c), this._createBody(c), this._computeBbox(c)
                }
            }
        }, {
            key: "_createBody",
            value: function(e) {
                var t = new CANNON.Body({
                    mass: 0,
                    material: this._pMaterial,
                    shape: this._getConvexFromMesh(e),
                    collisionFilterGroup: this._physics.group.rock2,
                    collisionFilterMask: this._physics.group.character
                });
                t.name = "jumpable-rock", t.added = !0, this.addBody(t), this._scene.navMeshes.push(e), this._bodies.push(t)
            }
        }, {
            key: "_getConvexFromMesh",
            value: function(e) {
                var t = new THREE.Geometry;
                t.fromBufferGeometry(e.geometry);
                for (var n = t.vertices, o = t.faces, r = [], i = [], a = 0, s = n.length; a < s; a++) {
                    var l = n[a];
                    r.push((new CANNON.Vec3).copy(l))
                }
                for (var u = 0, c = o.length; u < c; u++) {
                    var f = o[u];
                    i.push([f.a, f.b, f.c])
                }
                return new CANNON.ConvexPolyhedron(r, i)
            }
        }, {
            key: "_checkToggleBody",
            value: function(e, t, n) {
                var o = t.position,
                    r = (0, s.distance)(o.x, o.z, e.x, e.z) < 7;
                r && !n.added ? (n.added = !0, this.addBody(n)) : !r && n.added && (n.added = !1, this.removeBody(n))
            }
        }, {
            key: "_computeBbox",
            value: function(e) {
                e.geometry.computeBoundingBox();
                var t = e.geometry.boundingBox;
                this.bbox = {
                    x: Math.abs(t.max.x - t.min.x) * e.scale.x,
                    y: Math.abs(t.max.y - t.min.y) * e.scale.y,
                    z: Math.abs(t.max.z - t.min.z) * e.scale.z
                }, e.bbox = this.bbox
            }
        }, {
            key: "_animateRock",
            value: function(e, t, n, o, r) {
                var i = t.basePos,
                    l = t.offsetPos,
                    u = t.baseRot,
                    c = t.timeOffset,
                    f = t.posInertiaY,
                    p = .001 * r,
                    d = a.default.pool.get(),
                    h = Math.cos(p + c.x) + Math.sin(.6 * p + c.y) + Math.cos(1 * p + c.y),
                    y = Math.sin(p + c.x) + Math.sin(.8 * p + c.z) + Math.cos(1.2 * p + c.y),
                    v = Math.sin(p + c.z) + Math.cos(.5 * p + c.y) + Math.sin(.5 * p + c.z);
                h /= 3, y /= 3, v /= 3, t.position.x = i.x + l.x + .2 * h, t.position.y = i.y + l.y + .6 * y, t.position.z = i.z + l.z + .2 * v, t.rotation.x = u.x + (Math.cos(p + c.y) + Math.sin(.4 * p + c.x)) / 2 * .08, t.rotation.y = u.y + (Math.cos(.7 * p + c.y) + Math.cos(.8 * p + c.x)) / 2 * .05, t.rotation.z = u.z + (Math.cos(.4 * p + c.y) + Math.sin(1.1 * p + c.x)) / 2 * .07, t.getWorldPosition(d);
                var _ = "props_platform_7" === t.name ? 5.5 : 3.5,
                    m = (0, s.distance)(e.x, e.z, d.x, d.z) < _,
                    g = d.y - e.y,
                    b = "props_platform_5" === t.name || "props_platform_6" === t.name || "props_platform_7" === t.name ? g > -6 : g > -4;
                m && b && !t.isActive ? (t.isActive = !0, f.to(-1)) : !t.isActive || m && b || (t.isActive = !1, f.to(0)), t.posInertiaY.stopped || t.posInertiaY.update(), t.position.y += f.value, d.y += f.value, n.position.copy(t.position), n.quaternion.copy(t.quaternion), d.release()
            }
        }]) && c(n.prototype, l), t
    }();
    t.default = f, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = p(n(78)),
            a = p(n(77)),
            s = p(n(76)),
            l = p(n(293)),
            u = p(n(292)),
            c = p(n(291)),
            f = p(n(290));

        function p(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function d(e) {
            return (d = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function h(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function y(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : y(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }

        function v(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var _ = (v((r = function(e) {
            function t() {
                return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                    function(e, t) {
                        if (t && ("object" === d(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), n = t, (o = [{
                key: "destroy",
                value: function() {
                    return this._fire.destroy(), this._chest.destroy(), this._jumpableRocks.destroy(), y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this)
                }
            }, {
                key: "update",
                value: function(e, n) {
                    y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "update", this).call(this, e, n), this._wayIndicator.update(e, n), this._wayPathIndicator.update(e, n), this._jumpableRocks.update(e, n), this._chest.update(e, n), this._labyrinthCtrl.update(e, n), this._fire.update(e, n)
                }
            }, {
                key: "_init",
                value: function() {
                    var e = this;
                    y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_init", this).call(this), this._stack.after("entities", "entities:labyrinth", function() {
                        e._labyrinthCtrl = new f.default(e)
                    })
                }
            }, {
                key: "_createCtrls",
                value: function() {
                    y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_createCtrls", this).call(this), this._signals.powers.set.dispatch(0), this._signals.powers.enter.dispatch()
                }
            }, {
                key: "_createAudios",
                value: function() {
                    y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_createAudios", this).call(this), this._sounds.create("level")
                }
            }, {
                key: "_createEntities",
                value: function() {
                    y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_createEntities", this).call(this), this._createTls(), this._progressionCtrl.currentCheckpointIndex < 0 && this._startInstructionTl.play(0), this._wayIndicator = new a.default([
                        [new THREE.Vector3(-6.1, 2.5, 26.6), new THREE.Vector3(-.37, 17.41, 60)],
                        [],
                        [],
                        [],
                        [],
                        [],
                        [],
                        [new THREE.Vector3(-422, 39, 251)]
                    ]), this.add(this._wayIndicator), this._wayPathIndicator = new s.default, this.addEntity(this._wayPathIndicator), this._jumpableRocks = new l.default, this.addEntity(this._jumpableRocks), this._fire = new c.default, this.addEntity(this._fire), this._chest = new u.default, this.addEntity(this._chest)
                }
            }, {
                key: "_createTls",
                value: function() {
                    var e = this;
                    this._startInstructionTl = new TimelineMax({
                        paused: !0
                    }), this._startInstructionTl.addCallback(function() {
                        var t = e._locales[e._name].instructions.rock_jump;
                        e._signals.instructions.show.dispatch(t)
                    }, "+=10").addCallback(function() {
                        e._signals.instructions.hide.dispatch()
                    }, "+=8"), this._tls.push(this._startInstructionTl)
                }
            }, {
                key: "_onCharReset",
                value: function() {
                    this._startInstructionTl.pause(), this._progressionCtrl.currentCheckpointIndex < 0 && this._startInstructionTl.play(0)
                }
            }]) && h(n.prototype, o), t
        }()).prototype, "update", [o], Object.getOwnPropertyDescriptor(r.prototype, "update"), r.prototype), v(r.prototype, "_onCharReset", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onCharReset"), r.prototype), r);
        t.default = _, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#define SHADER_NAME Portal\n\nvec4 mod289_1_0(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_1_1(vec4 x) {\n  return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_1_2(vec4 r) {\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec2 fade_1_3(vec2 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat noise2d_1_4(vec2 P) {\n  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n  Pi = mod289_1_0(Pi); // To avoid truncation effects in permutation\n  vec4 ix = Pi.xzxz;\n  vec4 iy = Pi.yyww;\n  vec4 fx = Pf.xzxz;\n  vec4 fy = Pf.yyww;\n\n  vec4 i = permute_1_1(permute_1_1(ix) + iy);\n\n  vec4 gx = fract(i * (1.0 / 41.0)) * 2.0 - 1.0 ;\n  vec4 gy_1_5 = abs(gx) - 0.5 ;\n  vec4 tx_1_6 = floor(gx + 0.5);\n  gx = gx - tx_1_6;\n\n  vec2 g00 = vec2(gx.x,gy_1_5.x);\n  vec2 g10 = vec2(gx.y,gy_1_5.y);\n  vec2 g01 = vec2(gx.z,gy_1_5.z);\n  vec2 g11 = vec2(gx.w,gy_1_5.w);\n\n  vec4 norm = taylorInvSqrt_1_2(vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11)));\n  g00 *= norm.x;\n  g01 *= norm.y;\n  g10 *= norm.z;\n  g11 *= norm.w;\n\n  float n00 = dot(g00, vec2(fx.x, fy.x));\n  float n10 = dot(g10, vec2(fx.y, fy.y));\n  float n01 = dot(g01, vec2(fx.z, fy.z));\n  float n11 = dot(g11, vec2(fx.w, fy.w));\n\n  vec2 fade_xy = fade_1_3(Pf.xy);\n  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n  return 2.3 * n_xy;\n}\n\n\n\n\n@import common\n\nuniform vec3 uColor1;\nuniform vec3 uColor2;\nuniform float uOpacity;\n\nvarying vec2 vUv;\n\n@import fogFragPars\n\nvoid main() {\n  float noise = noise2d_1_4(vUv * 3.0 + uTime * 0.0007) * 12.0;\n  vec3 color = mix(uColor1, uColor2, noise);\n  \n  gl_FragColor = vec4(color, uOpacity);\n\n  @import fogFrag\n}\n"
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = a(n(16)),
        r = a(n(79)),
        i = a(n(295));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function s(e) {
        return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function l() {
        return (l = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }

    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var c = function(e) {
        function t() {
            var e, n = function(e, t) {
                if (null == e) return {};
                var n, o, r = {},
                    i = Object.keys(e);
                for (o = 0; o < i.length; o++) n = i[o], t.indexOf(n) >= 0 || (r[n] = e[n]);
                if (Object.getOwnPropertySymbols) {
                    var a = Object.getOwnPropertySymbols(e);
                    for (o = 0; o < a.length; o++) n = a[o], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (r[n] = e[n])
                }
                return r
            }(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, []);
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === s(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, n))).name = "portal", e.vertexShader = r.default, e.fragmentShader = i.default, e.transparent = !0, e.side = THREE.DoubleSide, e.uniforms = l({}, e.uniforms, {
                uColor1: {
                    value: new THREE.Color
                },
                uColor2: {
                    value: new THREE.Color
                }
            }), e.whitelistGui = function(e) {
                if (Array.isArray(e)) {
                    for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                    return n
                }
                return Array.from(e)
            }(e.whitelistGui).concat(["color1", "color2"]), e._scene.materialCtrl.add(function(e) {
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(e)), e
        }
        var n, a;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), n = t, (a = [{
            key: "color1",
            get: function() {
                return "#".concat(this.uniforms.uColor1.value.getHexString())
            },
            set: function(e) {
                this.uniforms.uColor1.value.set(e)
            }
        }, {
            key: "color2",
            get: function() {
                return "#".concat(this.uniforms.uColor2.value.getHexString())
            },
            set: function(e) {
                this.uniforms.uColor2.value.set(e)
            }
        }]) && u(n.prototype, a), t
    }();
    t.default = c, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = i(n(5)),
        r = i(n(296));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function a(e) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var l = function(e) {
        function t() {
            var e;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === a(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)))._create(), e
        }
        var n, i;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), n = t, (i = [{
            key: "update",
            value: function(e, t) {}
        }, {
            key: "destroy",
            value: function() {
                (function e(t, n, o) {
                    null === t && (t = Function.prototype);
                    var r = Object.getOwnPropertyDescriptor(t, n);
                    if (void 0 === r) {
                        var i = Object.getPrototypeOf(t);
                        return null === i ? void 0 : e(i, n, o)
                    }
                    if ("value" in r) return r.value;
                    var a = r.get;
                    return void 0 !== a ? a.call(o) : void 0
                })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this)
            }
        }, {
            key: "_create",
            value: function() {
                var e = this._gltf.getObject("terrain", "portal");
                e.material = new r.default, this.add(e)
            }
        }]) && s(n.prototype, i), t
    }();
    t.default = l, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0, t.default = {
        nb: 70,
        speed: [.02, .08],
        popBounds: [.05, .95],
        size: .1,
        points: [{
            x: 2.0687733601685294,
            y: 1.7199388369561714,
            z: .005929151522419506
        }, {
            x: -27.48063046595258,
            y: 7.6339179104908865,
            z: -.0033189163523204097
        }, {
            x: -55.554543620248346,
            y: 8.696551851218825,
            z: -.005915106844122029
        }, {
            x: -76.00281036433675,
            y: 12.885982181405677,
            z: -.3773647192860856
        }, {
            x: -94.13363258363407,
            y: 14.252194080322264,
            z: .7320275596902858
        }, {
            x: -128.89328037256846,
            y: 14.580534026596984,
            z: -.8076548221364268
        }, {
            x: -170.403029890956,
            y: 22.88082573915828,
            z: -.1792118857570247
        }, {
            x: -214.80896288068035,
            y: 31.75623578466175,
            z: -.10199522514724504
        }, {
            x: -252.46758037343372,
            y: 32.5073114967041,
            z: .14812821783094532
        }, {
            x: -272.5237162458556,
            y: 32.5073114967041,
            z: 6.593263898085851
        }]
    }, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0, t.default = {
        nb: 150,
        speed: [.005, .02],
        popBounds: [.01, .98],
        scale: 1,
        points: [{
            x: 28.606607045672575,
            y: -6.224411955947288,
            z: -116.32974548183935
        }, {
            x: 21.657877977430232,
            y: .3414356282737059,
            z: -94.61348832791629
        }, {
            x: 12.75938733435436,
            y: 2.140064190890174,
            z: -71.89416409197878
        }, {
            x: 4.357792477932987,
            y: 3.6923095730022184,
            z: -44.67331365665721
        }, {
            x: .6565640315990846,
            y: 3.2367771083770047,
            z: -25.574625688104145
        }, {
            x: 11.923954455248376,
            y: 9.288299614043135,
            z: -13.214370627634905
        }, {
            x: 30.001788610271163,
            y: 5.989230941396373,
            z: -1.8562943801519063
        }, {
            x: 38.91109490853293,
            y: 7.570846309228484,
            z: 16.722961455115737
        }, {
            x: 42.87444979197208,
            y: 7.577562961547851,
            z: 30.39803443349543
        }, {
            x: 42.66119353842885,
            y: 9.005197496331283,
            z: 41.78986975350025
        }, {
            x: 36.23109910981606,
            y: 13.420583752372506,
            z: 44.165637420755324
        }, {
            x: 29.114425646344213,
            y: 14.04750318157218,
            z: 45.05068459944442
        }, {
            x: -1.8576645709808701,
            y: 14.19675289581958,
            z: 45.64684981889273
        }, {
            x: -11.135532454808592,
            y: 21.401626412507625,
            z: 45.25163337493345
        }, {
            x: -20.45265052886906,
            y: 21.52933565136719,
            z: 44.88073713447784
        }, {
            x: -37.080691381945705,
            y: 24.42768311366004,
            z: 44.973561051404914
        }, {
            x: -55.32603122548679,
            y: 28.250541437686447,
            z: 44.98770610690097
        }, {
            x: -69.85920963032507,
            y: 28.68321889093439,
            z: 44.50386702630551
        }, {
            x: -80.65029962907808,
            y: 29.808167659699137,
            z: 61.02248469920282
        }, {
            x: -82.7413572505593,
            y: 30.346820680120395,
            z: 66.50024458102924
        }, {
            x: -82.30832929423573,
            y: 37.16758409497071,
            z: 77.40162774523401
        }, {
            x: -78.94766811235037,
            y: 39.383379001116666,
            z: 92.23707567747945
        }, {
            x: -78.07058743941633,
            y: 38.54742876049804,
            z: 95.35999426294048
        }, {
            x: -75.48734632087582,
            y: 34.71452775952149,
            z: 100.50302273107248
        }, {
            x: -68.37394063454207,
            y: 26.61681200025127,
            z: 120.0960103026115
        }, {
            x: -49.674138758319835,
            y: 30.81206478116594,
            z: 135.56686645457276
        }, {
            x: -30.249131430875636,
            y: 27.26125043170299,
            z: 134.37365058584572
        }, {
            x: -11.451837150727831,
            y: 28.992231985239297,
            z: 153.33578336048814
        }, {
            x: -8.234126559320385,
            y: 29.195145282714847,
            z: 161.13262524057347
        }, {
            x: -7.449851941648658,
            y: 28.992134417665394,
            z: 227.84144799845956
        }, {
            x: -9.658762634377215,
            y: 31.936290678708737,
            z: 234.83750385174437
        }, {
            x: -9.754453528468028,
            y: 28.970039919966997,
            z: 249.45371636723308
        }, {
            x: -12.306225265835186,
            y: 28.47361818423461,
            z: 314.1041998410382
        }, {
            x: -10.67960782135261,
            y: 29.19514528271484,
            z: 367.998448197868
        }, {
            x: -11.179339650093944,
            y: 32.261467609374996,
            z: 384.28588284174504
        }, {
            x: -10.273704049128444,
            y: 35.63442293164062,
            z: 402.65413655308686
        }, {
            x: -9.780529284875701,
            y: 39.96695095081909,
            z: 426.20396322157967
        }]
    }, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0, t.default = {
        nb: 300,
        scale: 1,
        speed: [.007, .012],
        popBounds: [.01, .985],
        points: [{
            x: .016837080046424625,
            y: 1.6988110802757477,
            z: -25.31572754289192
        }, {
            x: -.8996572050869505,
            y: 1.5516783332519533,
            z: 10.488251650888301
        }, {
            x: -1.6848199959439807,
            y: 1.7599404782170698,
            z: 29.694026434947148
        }, {
            x: -1.3249775423184327,
            y: 11.707039935565598,
            z: 43.55464088969075
        }, {
            x: -1.097129026013256,
            y: 11.63496681260479,
            z: 50.43928879857949
        }, {
            x: 1.512769867059326,
            y: 12.338179264038084,
            z: 69.35646411227852
        }, {
            x: 12.078264293801887,
            y: 12.338179264038084,
            z: 84.02928311948656
        }, {
            x: 24.70129368685087,
            y: 10.82207950372952,
            z: 101.88194342413412
        }, {
            x: 22.09135082153013,
            y: 10.88572307307399,
            z: 125.63541654893031
        }, {
            x: 17.1791273024884,
            y: 9.43880175840511,
            z: 130.99401335625242
        }, {
            x: 2.610935842841675,
            y: 6.660607021504421,
            z: 143.02349228271987
        }, {
            x: -11.883190909601671,
            y: 8.858091596886627,
            z: 139.05567675332236
        }, {
            x: -17.796444131552285,
            y: 10.993522560845118,
            z: 138.03880727959506
        }, {
            x: -26.403245459073737,
            y: 12.411785869595011,
            z: 137.04697389365774
        }, {
            x: -36.00395986131197,
            y: 15.544974002807619,
            z: 136.12606840594154
        }, {
            x: -44.349449123003716,
            y: 16.71108118054199,
            z: 133.40878446413274
        }, {
            x: -51.67734030903508,
            y: 18.651234043566184,
            z: 138.4899225807846
        }, {
            x: -59.20861709336566,
            y: 20.32507887580353,
            z: 137.3650352042177
        }, {
            x: -66.89164534988471,
            y: 21.711011873440768,
            z: 136.07933758204362
        }, {
            x: -76.00804608259858,
            y: 23.084919690526604,
            z: 134.57034661768506
        }, {
            x: -79.23686336930152,
            y: 24.827882696800643,
            z: 132.85439593574318
        }, {
            x: -85.94514248222018,
            y: 23.801483756671114,
            z: 131.88279138809074
        }, {
            x: -105.84468861604202,
            y: 25.311129245727535,
            z: 129.63803710448806
        }, {
            x: -117.89578897665534,
            y: 25.24695047571375,
            z: 128.36544441153956
        }, {
            x: -132.9943823711224,
            y: 24.577264179481404,
            z: 129.4166396751152
        }, {
            x: -137.13960124589642,
            y: 21.812807712524418,
            z: 134.73586275727482
        }, {
            x: -140.44234235524866,
            y: 22.6873880958252,
            z: 142.81806596594484
        }, {
            x: -146.70057936385405,
            y: 22.6873880958252,
            z: 145.18559265947022
        }, {
            x: -153.31370836300158,
            y: 22.6873880958252,
            z: 139.6530353992471
        }, {
            x: -160.0585119837284,
            y: 23.416205081909176,
            z: 131.9859163560861
        }, {
            x: -158.25768235405113,
            y: 20.209406528442386,
            z: 122.09069300149167
        }, {
            x: -151.73582509252168,
            y: 17.43990198132324,
            z: 117.08185417267933
        }, {
            x: -145.373545902041,
            y: 13.212759647338865,
            z: 114.36572042282
        }, {
            x: -142.3099598877707,
            y: 9.13138071057129,
            z: 113.69114305547681
        }, {
            x: -133.3077791150384,
            y: 1.3941129742755658,
            z: 117.61082317392854
        }, {
            x: -124.17878915175208,
            y: 2.426258716552734,
            z: 118.7403435756239
        }, {
            x: -113.77385664180842,
            y: 4.4669481849365225,
            z: 122.98331276183033
        }, {
            x: -116.3069113106061,
            y: 5.405590192555705,
            z: 138.5590302365352
        }, {
            x: -119.01704375709082,
            y: 7.215114796113939,
            z: 152.50541973845284
        }, {
            x: -122.8404246093335,
            y: 7.5279833411865225,
            z: 162.11078192204462
        }, {
            x: -123.93234823552966,
            y: 7.382219943969726,
            z: 171.6118619017725
        }, {
            x: -117.70598169078,
            y: 2.6861787923051605,
            z: 223.18100241298774
        }, {
            x: -94.23155982676786,
            y: 5.85162148201629,
            z: 227.1508138229509
        }, {
            x: -88.01325741011628,
            y: 8.480284378755922,
            z: 243.24372020723686
        }, {
            x: -95.81925329598252,
            y: 11.988361950836444,
            z: 250.135285165452
        }, {
            x: -105.9198381828154,
            y: 15.847596969690798,
            z: 253.03384531381633
        }, {
            x: -113.85033304981279,
            y: 17.40844136400276,
            z: 263.53268710403376
        }, {
            x: -113.07931238365627,
            y: 19.912535894894784,
            z: 268.4307000282456
        }, {
            x: -114.6622038729837,
            y: 23.75223939871497,
            z: 278.9739028440052
        }, {
            x: -125.60014071218473,
            y: 26.101228150711602,
            z: 282.00266299755805
        }, {
            x: -133.84254327014528,
            y: 28.3958384792147,
            z: 269.8824849188487
        }, {
            x: -137.49077561367127,
            y: 31.461625845638835,
            z: 257.1757335732042
        }, {
            x: -142.23790289703544,
            y: 33.79381415227952,
            z: 248.2569746587876
        }, {
            x: -150.3071167715519,
            y: 35.36550591850623,
            z: 247.83189710416994
        }, {
            x: -164.21252649540804,
            y: 35.368813190429684,
            z: 247.60638039782552
        }, {
            x: -193.20634328618024,
            y: 35.368813190429684,
            z: 246.79652414327114
        }, {
            x: -219.01079647202647,
            y: 35.368813190429684,
            z: 245.44062893976513
        }, {
            x: -239.53048791862594,
            y: 35.368813190429684,
            z: 244.2580536910034
        }, {
            x: -260.02347838213115,
            y: 35.368813190429684,
            z: 243.10460332893274
        }, {
            x: -277.0195284234265,
            y: 33.13154747325943,
            z: 234.730430227317
        }, {
            x: -297.32438733794794,
            y: 31.81600200435094,
            z: 233.4684414973328
        }, {
            x: -320.45617351287444,
            y: 31.429763579042152,
            z: 233.89446069850447
        }, {
            x: -332.44986838570645,
            y: 33.61965242382812,
            z: 232.61416976918136
        }, {
            x: -339.95783973394003,
            y: 36.243393573730465,
            z: 232.1842228684512
        }, {
            x: -354.72097333437614,
            y: 36.31982929239538,
            z: 228.5365956593518
        }, {
            x: -371.53175242480404,
            y: 36.47872650913186,
            z: 220.81209459546324
        }, {
            x: -391.11075810592735,
            y: 37.30931476257578,
            z: 221.01578521234757
        }, {
            x: -391.5081977074072,
            y: 36.35438882953393,
            z: 178.84932729140607
        }, {
            x: -420.76368852178024,
            y: 36.38916078564453,
            z: 177.10055233024968
        }, {
            x: -425.94718500186775,
            y: 36.50003512000152,
            z: 162.60532812639883
        }, {
            x: -423.8060451941905,
            y: 36.4679440911141,
            z: 162.2984708485591
        }, {
            x: -404.7930572391487,
            y: 36.243393573730465,
            z: 154.53988972293067
        }, {
            x: -365.86327904936115,
            y: 36.47963198442032,
            z: 145.4659589397485
        }, {
            x: -354.06222566927914,
            y: 36.243393573730465,
            z: 135.84618157917373
        }, {
            x: -372.08585216908114,
            y: 36.74013721199223,
            z: 135.84625786502642
        }, {
            x: -408.2,
            y: 36.24,
            z: 135.5
        }, {
            x: -444.8397349301054,
            y: 36.435565379671324,
            z: 137.34388078743348
        }, {
            x: -447.0839188999154,
            y: 36.38916078564453,
            z: 178.2974519662893
        }, {
            x: -430.6102352136139,
            y: 37.69484271721653,
            z: 218.608441069905
        }, {
            x: -433.0947152438686,
            y: 36.37589930246992,
            z: 238.81892208395655
        }, {
            x: -422.1502556623576,
            y: 39.595955524414066,
            z: 253.65665894725208
        }]
    }, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0, t.default = {
        nb: 100,
        speed: [.035, .08],
        popBounds: [.05, .92],
        scale: .92,
        points: [{
            x: 4.307096591889996,
            y: 2.348066507774845,
            z: -60.165164567593344
        }, {
            x: 7.739432777306247,
            y: 2.1622134397303983,
            z: -40.04551426639868
        }, {
            x: -2.950879004676203,
            y: 2.011774793321076,
            z: -26.528429469205438
        }, {
            x: 2.486674383156035,
            y: 1.8106505809699565,
            z: -9.206536121781909
        }, {
            x: 2.1428632679737114,
            y: 5.579548861578521,
            z: .8359404229761089
        }, {
            x: 2.5218645962762762,
            y: 1.731391468466305,
            z: 9.412783450236692
        }, {
            x: 14.360059211576417,
            y: 1.7647589052768413,
            z: 17.35931845301175
        }, {
            x: 14.729077020718087,
            y: 2.3835371145593953,
            z: 34.88291103167219
        }, {
            x: 15.027052203272685,
            y: 3.9892570126662976,
            z: 58.95756521130712
        }, {
            x: 27.910451254993742,
            y: 4.036102924316405,
            z: 70.52456455822163
        }, {
            x: 33.774538928923,
            y: 4.005046446166479,
            z: 103.13088174791764
        }]
    }, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = s(n(301)),
        r = s(n(300)),
        i = s(n(299)),
        a = s(n(298));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = {
        tutorial: o.default,
        "level-1": r.default,
        "level-2": i.default,
        "level-3": a.default
    };
    t.default = l, e.exports = t.default
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\nattribute vec3 position;\nattribute vec4 instancePosition;\nattribute vec3 instanceScale;\nattribute vec4 instanceOrientation;\n\nuniform mat4 modelMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nmat3 quatToMat_1_0(vec4 q) {\n  mat3 mat;\n\n  float sqw = q.w * q.w;\n  float sqx = q.x * q.x;\n  float sqy = q.y * q.y;\n  float sqz = q.z * q.z;\n  \n  // invs (inverse square length) is only required if quaternion is not already normalised\n  float invs = 1.0 / (sqx + sqy + sqz + sqw);\n  mat[0][0] = ( sqx - sqy - sqz + sqw) * invs; // since sqw + sqx + sqy + sqz =1/invs*invs\n  mat[1][1] = (-sqx + sqy - sqz + sqw) * invs;\n  mat[2][2] = (-sqx - sqy + sqz + sqw) * invs;\n  \n  float tmp1 = q.x * q.y;\n  float tmp2 = q.z * q.w;\n  mat[1][0] = 2.0 * (tmp1 + tmp2) * invs;\n  mat[0][1] = 2.0 * (tmp1 - tmp2) * invs;\n  \n  tmp1 = q.x * q.z;\n  tmp2 = q.y * q.w;\n  mat[2][0] = 2.0 * (tmp1 - tmp2) * invs;\n  mat[0][2] = 2.0 * (tmp1 + tmp2) * invs;\n  tmp1 = q.y * q.z;\n  tmp2 = q.x * q.w;\n  mat[2][1] = 2.0 * (tmp1 + tmp2) * invs;\n  mat[1][2] = 2.0 * (tmp1 - tmp2) * invs;\n\n  return mat;\n}\n\n\n\n\n#include <common>\n#include <uv_pars_vertex>\n\n@import fogVertPars\n\nvoid main() {\n\t#include <uv_vertex>\n\t#include <begin_vertex>\n\n  mat3 orientation = quatToMat_1_0(instanceOrientation);\n\n  transformed *= instanceScale;\n  transformed *= orientation;\n  transformed += instancePosition.xyz;\n\n  vec4 worldPosition = modelMatrix * vec4(transformed, 1.0);\n\n\t#include <project_vertex>\n  @import fogVert\n}\n"
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = a(n(16)),
        r = a(n(303)),
        i = a(n(144));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function s(e) {
        return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function l() {
        return (l = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }
    var u = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === s(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, n))).name = "way_indicator", e.vertexShader = r.default, e.fragmentShader = i.default, e.defines = l({}, e.defines, {
                USE_INSTANCES: !0
            }), e.uniforms = l({}, e.uniforms, {
                uExplode: {
                    value: 0
                },
                uTime: {
                    value: 0
                },
                uColor1: {
                    value: new THREE.Color("#ffffff")
                },
                uColor2: {
                    value: new THREE.Color("#7FE8F7")
                }
            }), e._scene.materialCtrl.add(function(e) {
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(e)), e
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), t
    }();
    t.default = u, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e, t, n, c) {
        t = r.copy(t), n = i.copy(n), c = a.copy(c);
        var f = e.center,
            p = e.radius;
        s.set(t, n), l.set(t, c), u.set(n, c);
        for (var d = [s, l, u], h = !1, y = 0, v = d.length; y < v; y++)
            if (d[y].closestPointToPoint(f, !0, o), o.distanceTo(f) <= p) {
                h = !0;
                break
            }
        return h
    };
    var o = new THREE.Vector3,
        r = new THREE.Vector3,
        i = new THREE.Vector3,
        a = new THREE.Vector3,
        s = new THREE.Line3,
        l = new THREE.Line3,
        u = new THREE.Line3;
    e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(21)) && o.__esModule ? o : {
        default: o
    };

    function i(e) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function a() {
        return (a = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }
    var s = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === i(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, n))).defines = a({}, e.defines, {
                USE_INSTANCES: !0
            }), e.instanced = !0, e
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, r.default), t
    }();
    t.default = s, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function(e) {
        return void 0 !== e
    }
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0;
    var o = a(n(62)),
        r = a(n(96)),
        i = a(n(81));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var s = function() {
        function e(t) {
            (0, o.default)(this, e), this._node = this._in = this._out = t
        }
        return e.prototype.connect = function(e) {
            this._node.connect(e._in || e)
        }, e.prototype.disconnect = function() {
            for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
            this._node.disconnect(t)
        }, e.prototype.update = function() {
            throw new Error("update must be overridden")
        }, (0, r.default)(e, [{
            key: "context",
            get: function() {
                return i.default
            }
        }, {
            key: "numberOfInputs",
            get: function() {
                return 1
            }
        }, {
            key: "numberOfOutputs",
            get: function() {
                return 1
            }
        }, {
            key: "channelCount",
            get: function() {
                return 1
            }
        }, {
            key: "channelCountMode",
            get: function() {
                return "max"
            }
        }, {
            key: "channelInterpretation",
            get: function() {
                return "speakers"
            }
        }]), e
    }();
    t.default = s
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0, t.default = {
        props_enemy_1: {
            laserLength: 30,
            commands: [{
                type: "straight",
                speed: .5,
                delay: 1,
                angleY: .03
            }]
        },
        props_enemy_2: {
            laserLength: 40,
            commands: [{
                type: "vertical",
                speed: 1,
                delay: 0,
                dir: "up"
            }, {
                type: "straight",
                speed: .5,
                delay: 0,
                angleY: .03
            }, {
                type: "vertical",
                speed: 1,
                delay: 0,
                dir: "up"
            }]
        },
        props_enemy_3: {
            laserLength: 45,
            commands: [{
                type: "straight",
                speed: .5,
                delay: 0,
                angleY: .03
            }, {
                type: "vertical",
                speed: .5,
                delay: 0,
                dir: "up"
            }, {
                type: "delay",
                delay: .5
            }]
        },
        props_enemy_4: {
            laserLength: 45,
            commands: [{
                type: "horizontal",
                speed: .5,
                delay: 0,
                dir: "left"
            }, {
                type: "horizontal",
                speed: .5,
                delay: 0,
                dir: "right"
            }]
        },
        props_enemy_5: {
            laserLength: 130,
            commands: [{
                type: "straight",
                speed: .5,
                delay: 0,
                angleY: .03
            }, {
                type: "vertical",
                speed: 2,
                delay: 0,
                dir: "up"
            }, {
                type: "delay",
                delay: .5
            }]
        },
        props_enemy_6: {
            laserLength: 50,
            commands: [{
                type: "straight",
                speed: 1,
                delay: 0
            }, {
                type: "vertical",
                speed: 2,
                delay: 0,
                dir: "up"
            }, {
                type: "vertical",
                speed: 2,
                delay: 0,
                dir: "down"
            }]
        },
        props_enemy_7: {
            laserLength: 30,
            commands: [{
                type: "straight",
                speed: .5,
                delay: 0,
                angleY: .03
            }]
        },
        props_enemy_8: {
            laserLength: 30,
            commands: [{
                type: "straight",
                speed: .5,
                delay: 0,
                angleY: .03
            }]
        },
        props_enemy_9: {
            laserLength: 43,
            commands: [{
                type: "straight",
                speed: 1,
                delay: 4,
                angleY: .03
            }]
        },
        props_enemy_10: {
            laserLength: 30,
            commands: [{
                type: "straight",
                speed: .5,
                delay: 0,
                angleY: .03
            }]
        },
        props_enemy_11: {
            laserLength: 30,
            commands: [{
                type: "straight",
                speed: .5,
                delay: 0,
                angleY: .03
            }]
        },
        props_enemy_12: {
            laserLength: 30,
            commands: [{
                type: "straight",
                speed: .5,
                delay: 0,
                angleY: .03
            }]
        }
    }, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(21)) && o.__esModule ? o : {
        default: o
    };

    function i(e) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function a() {
        return (a = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }

    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var l = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === i(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, a({}, n)))).name = "enemy", e.defines = a({}, e.defines, {
                USE_DIFFUSE_MAP: !0,
                IS_ENEMY: !0
            });
            var o = e._textures.get("level-1.textures.enemy.enable");
            return e.uniforms = a({}, e.uniforms, {
                uProgress: {
                    value: 1
                },
                uDiffuseMap: {
                    value: o
                }
            }), e.whitelistGui = function(e) {
                if (Array.isArray(e)) {
                    for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                    return n
                }
                return Array.from(e)
            }(e.whitelistGui), e
        }
        var n, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, r.default), n = t, (o = [{
            key: "progress",
            get: function() {
                return this.uniforms.uProgress.value
            },
            set: function(e) {
                this.uniforms.uProgress.value = e
            }
        }]) && s(n.prototype, o), t
    }();
    t.default = l, e.exports = t.default
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#define SHADER_NAME Laser\n\n@import common\n\nuniform float uProgress;\nuniform vec3 uColor1;\nuniform vec3 uColor2;\nuniform float uOpacity;\n\nvarying vec2 vUv;\n\n@import fogFragPars\n\nvoid main() {\n  float progressVariation = \n    sin(uTime * .5) + \n    sin(uTime * .2 + 2.7) + \n    cos(uTime * .4 + 1.2);\n  progressVariation = progressVariation / 3.; // average\n  progressVariation = (progressVariation + 1.) / 2.; // normalise\n\n  vec3 color = mix(uColor1, uColor2, progressVariation);\n\n  float uvAlpha = vUv.x + vUv.y;\n  gl_FragColor = vec4(color, log(uvAlpha * uOpacity) * 2.);\n\n  @import fogFrag\n}\n"
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = a(n(16)),
        r = a(n(79)),
        i = a(n(311));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function s(e) {
        return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function l() {
        return (l = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }

    function u(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var c = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                o = (n.color, n.opacity, function(e, t) {
                    if (null == e) return {};
                    var n, o, r = {},
                        i = Object.keys(e);
                    for (o = 0; o < i.length; o++) n = i[o], t.indexOf(n) >= 0 || (r[n] = e[n]);
                    if (Object.getOwnPropertySymbols) {
                        var a = Object.getOwnPropertySymbols(e);
                        for (o = 0; o < a.length; o++) n = a[o], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (r[n] = e[n])
                    }
                    return r
                }(n, ["color", "opacity"]));
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === s(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, o))).name = "laser", e.vertexShader = r.default, e.fragmentShader = i.default, e.transparent = !0, e.uniforms = l({}, e.uniforms, {
                uProgress: {
                    value: 0
                },
                uColor1: {
                    value: new THREE.Color("#000000")
                },
                uColor2: {
                    value: new THREE.Color("#000000")
                }
            }), e.whitelistGui = ["transparent", "color1", "color2"], e._scene.materialCtrl.add(function(e) {
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(e)), e
        }
        var n, a;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), n = t, (a = [{
            key: "opacity",
            get: function() {
                return this.uniforms.uOpacity.value
            },
            set: function(e) {
                this.uniforms && (this.uniforms.uOpacity.value = e)
            }
        }, {
            key: "color1",
            get: function() {
                return "#".concat(this.uniforms.uColor1.value.getHexString())
            },
            set: function(e) {
                this.uniforms.uColor1.value.set(e)
            }
        }, {
            key: "color2",
            get: function() {
                return "#".concat(this.uniforms.uColor2.value.getHexString())
            },
            set: function(e) {
                this.uniforms.uColor2.value.set(e)
            }
        }]) && u(n.prototype, a), t
    }();
    t.default = c, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = h(n(5)),
            a = h(n(312)),
            s = h(n(310)),
            l = h(n(309)),
            u = h(n(23)),
            c = n(2),
            f = h(n(48)),
            p = h(n(93)),
            d = h(n(50));

        function h(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function y(e) {
            return (y = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function v(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function _(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var m = (_((r = function(e) {
            function t(e) {
                var n;
                return function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), (n = function(e, t) {
                    if (t && ("object" === y(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this))).type = "enemy", n.mesh = e, n.name = n.mesh.name, n.active = !1, n._raycaster = n._context.raycaster, n._isInDistance = !1, n._laserBasePos = new THREE.Vector3, n._laserBaseRot = new THREE.Euler, n._config = l.default[n.name] || null, n._commands = n._config ? n._config.commands : null, n._totalDuration = 0, n._laserProgress = 0, n._bind(), n._init(), n.updateMatrixWorld(), n._raycastNow = Date.now(), n
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), n = t, (o = [{
                key: "destroy",
                value: function() {
                    (function e(t, n, o) {
                        null === t && (t = Function.prototype);
                        var r = Object.getOwnPropertyDescriptor(t, n);
                        if (void 0 === r) {
                            var i = Object.getPrototypeOf(t);
                            return null === i ? void 0 : e(i, n, o)
                        }
                        if ("value" in r) return r.value;
                        var a = r.get;
                        return void 0 !== a ? a.call(o) : void 0
                    })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._unbind(), this._destroyTls(), this._laserSound && f.default.destroy(this.name)
                }
            }, {
                key: "update",
                value: function(e, t) {
                    if (this._commands) {
                        var n = this._character.body.position;
                        this._isInDistance = (0, c.distance)(n.x, n.z, this.mesh.position.x, this.mesh.position.z) < 50, this._isInDistance && !this.active && this._activate(), this._coneMesh.rotation.x = this._laserBaseRot.x + .001 * (Math.cos(.013 * t) + Math.cos(.05 * t + 12) + Math.sin(.02 * t + 32)), this._coneMesh.rotation.y = this._laserBaseRot.y + .001 * (Math.sin(.01 * t) + Math.cos(.03 * t + 55) + Math.sin(.04 * t + 98)), this._coneMesh.rotation.z = this._laserBaseRot.z + .001 * (Math.sin(.01 * t) + Math.cos(.03 * t + 55) + Math.sin(.04 * t + 98)), this._laserSound && this._updateSound()
                    }
                }
            }, {
                key: "_bind",
                value: function() {
                    this._signals.pause.shown.add(this._onPauseShow), this._signals.pause.hidden.add(this._onPauseHide)
                }
            }, {
                key: "_unbind",
                value: function() {
                    this._signals.pause.shown.remove(this._onPauseShow), this._signals.pause.hidden.remove(this._onPauseHide)
                }
            }, {
                key: "_init",
                value: function() {
                    if (this._commands) {
                        var e = this._config.laserLength,
                            t = new THREE.ConeBufferGeometry(3, e, 3, 1, !1);
                        this._coneGroup = new THREE.Object3D, this._laserMaterial = new a.default, this._coneMesh = new THREE.Mesh(t, this._laserMaterial), this._enemyMaterial = new s.default, this.mesh.material = this._enemyMaterial, this._coneGroup.add(this._coneMesh), this.mesh.add(this._coneGroup), t.translate(0, -e / 2, 0).rotateX(-Math.PI / 2).rotateY(-Math.PI / 2), this._coneGroup.position.z = -1.5, this.add(this.mesh), this._coneBase = new THREE.Mesh(new THREE.BoxGeometry(1, 1, 1), this._materials.debugMaterial), this._coneTarget = new THREE.Mesh(new THREE.BoxGeometry(1, 1, 1), this._materials.debugMaterial), this._coneTarget.position.x = -e, this._coneBase.visible = !1, this._coneTarget.visible = !1, this._coneMesh.add(this._coneBase), this._coneMesh.add(this._coneTarget), this._laserSound = this._sounds.createSound({
                            id: this.name,
                            url: d.default["/assets/audios/fx/laser-loop.mp3"],
                            loop: !0,
                            volume: 0
                        }), this._laserSound.play(), this._pan = this._laserSound.effects.add((0, p.default)({
                            maxDistance: 30
                        }));
                        var n = u.default.pool.get();
                        n.set(0, 0, -1), n.applyQuaternion(this.mesh.quaternion), this._pan.setPosition(this.mesh.position), this._pan.setOrientation(n.normalize()), n.release(), this._createTls()
                    } else this.add(this.mesh)
                }
            }, {
                key: "_raycast",
                value: function() {
                    this._raycastNow = Date.now();
                    var e = u.default.pool.get(),
                        t = u.default.pool.get(),
                        n = u.default.pool.get();
                    this._coneBase.getWorldPosition(e), this._coneTarget.getWorldPosition(t), n.subVectors(t, e).normalize();
                    var o = e.distanceTo(t);
                    this._raycaster.set(e, n);
                    var r = this._raycaster.intersectObject(this._character.hitBox);
                    r.length && (this._intersect = r[0], this._intersect.distance <= o && this._laserHit()), e.release(), t.release(), n.release()
                }
            }, {
                key: "_createTls",
                value: function() {
                    var e = this;
                    this._laserTl = new TimelineMax({
                        paused: !0,
                        onComplete: function() {
                            e._isInDistance ? e._laserTl.play(0) : e._desactivate()
                        }
                    }), this._tls.push(this._laserTl), this._coneMesh.scale.set(1e-5, 1e-5, 1e-5);
                    for (var t = 0, n = this._commands.length; t < n; t++) {
                        var o = this._commands[t],
                            r = o.type,
                            i = o.speed,
                            a = o.delay,
                            s = o.dir,
                            l = o.angleX,
                            u = o.angleY;
                        "vertical" === r ? this._addVertical(i, a, s) : "horizontal" === r ? this._addHorizontal(i, a, s) : "delay" === r ? this._addDelay(i, a) : this._addStraight(i, a, l, u)
                    }
                }
            }, {
                key: "_addStraight",
                value: function(e, t) {
                    var n = this,
                        o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                        r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
                        i = new TimelineMax({
                            paused: !0
                        });
                    this._tls.push(i), this._totalDuration += t + .05, this._laserTl.addCallback(function() {
                        i.play(0)
                    }, this._totalDuration), i.to(this._laserSound, 1, {
                        volume: 1
                    }, .01).to(this._laserMaterial, .2, {
                        opacity: 1,
                        onStart: function() {
                            n._coneMesh.visible = !0
                        }
                    }, .01).fromTo(this._laserBaseRot, 1, {
                        y: r + 1e-4,
                        z: o + 1e-4
                    }, {
                        y: r,
                        z: o
                    }, .01).fromTo(this._enemyMaterial, 1, {
                        progres: 0
                    }, {
                        progress: 1
                    }, .01).fromTo(this._coneMesh.scale, 1, {
                        x: 1e-6,
                        y: 1e-6,
                        z: 1e-6
                    }, {
                        x: 1,
                        y: 1,
                        z: 1,
                        ease: Expo.easeOut
                    }, .01).fromTo(this, .7, {
                        _laserProgress: 0
                    }, {
                        _laserBasePos: 1,
                        onUpdate: this._laserUpdate
                    }, .1).to(this._laserMaterial, 1, {
                        opacity: 0,
                        ease: Expo.easeOut,
                        onComplete: function() {
                            n._coneMesh.visible = !1
                        }
                    }, .7).to(this._laserSound, .5, {
                        volume: 0
                    }, .7).to(this._enemyMaterial, .3, {
                        progress: 0
                    }, .7);
                    var a = i.duration();
                    i.timeScale(e), this._totalDuration += a / e, this._laserTl.addCallback(function() {}, this._totalDuration)
                }
            }, {
                key: "_addVertical",
                value: function(e, t) {
                    var n = this,
                        o = "down" !== (arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "down") ? 1 : -1,
                        r = new TimelineMax({
                            paused: !0
                        });
                    this._tls.push(r), this._totalDuration += t + .05, this._laserTl.addCallback(function() {
                        r.play(0)
                    }, this._totalDuration), r.to(this._laserSound, 1, {
                        volume: 1
                    }, .01).to(this._laserMaterial, .2, {
                        opacity: 1,
                        onStart: function() {
                            n._coneMesh.visible = !0
                        }
                    }, .01).fromTo(this._laserBaseRot, 1, {
                        y: .3 * o
                    }, {
                        y: -.3 * o,
                        ease: Expo.easeOut
                    }, .01).fromTo(this._enemyMaterial, .4, {
                        progres: 0
                    }, {
                        progress: 1
                    }, .01).fromTo(this._coneMesh.scale, 1, {
                        x: 1e-6,
                        y: 1e-6,
                        z: 1e-6
                    }, {
                        x: 1,
                        y: 1,
                        z: 1,
                        ease: Expo.easeOut
                    }, .01).fromTo(this, .7, {
                        _laserProgress: 0
                    }, {
                        _laserBasePos: 1,
                        onUpdate: this._laserUpdate
                    }, .1).to(this._laserMaterial, 1, {
                        opacity: 0,
                        ease: Expo.easeOut,
                        onComplete: function() {
                            n._coneMesh.visible = !1
                        }
                    }, .7).to(this._laserSound, .5, {
                        volume: 0
                    }, .7).to(this._enemyMaterial, .3, {
                        progress: 0
                    }, .7);
                    var i = r.duration();
                    r.timeScale(e), this._totalDuration += i / e, this._laserTl.addCallback(function() {}, this._totalDuration)
                }
            }, {
                key: "_addHorizontal",
                value: function(e, t) {
                    var n = this,
                        o = "left" !== (arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "left") ? 1 : -1,
                        r = new TimelineMax({
                            paused: !0
                        });
                    this._tls.push(r), this._totalDuration += t + .05, this._laserTl.addCallback(function() {
                        r.play(0)
                    }, this._totalDuration), r.to(this._laserSound, 1, {
                        volume: 1
                    }, .01).to(this._laserMaterial, .2, {
                        opacity: 1,
                        onStart: function() {
                            n._coneMesh.visible = !0
                        }
                    }, .01).fromTo(this._laserBaseRot, 1, {
                        z: .3 * o
                    }, {
                        z: -.3 * o,
                        ease: Expo.easeOut
                    }, .01).fromTo(this._enemyMaterial, .4, {
                        progres: 0
                    }, {
                        progress: 1
                    }, .01).fromTo(this._coneMesh.scale, 1, {
                        x: 1e-6,
                        y: 1e-6,
                        z: 1e-6
                    }, {
                        x: 1,
                        y: 1,
                        z: 1,
                        ease: Expo.easeOut
                    }, .01).fromTo(this, .7, {
                        _laserProgress: 0
                    }, {
                        _laserBasePos: 1,
                        onUpdate: this._laserUpdate
                    }, .1).to(this._laserMaterial, 1, {
                        opacity: 0,
                        ease: Expo.easeOut,
                        onComplete: function() {
                            n._coneMesh.visible = !1
                        }
                    }, .7).to(this._laserSound, .5, {
                        volume: 0
                    }, .7).to(this._enemyMaterial, .3, {
                        progress: 0
                    }, .7);
                    var i = r.duration();
                    r.timeScale(e), this._totalDuration += i / e, this._laserTl.addCallback(function() {}, this._totalDuration)
                }
            }, {
                key: "_addDelay",
                value: function(e) {
                    this._totalDuration += e, this._laserTl.addCallback(function() {}, this._totalDuration)
                }
            }, {
                key: "_updateSound",
                value: function() {
                    var e = u.default.pool.get();
                    e.set(0, 0, -1), e.applyQuaternion(this._scene.camera.quaternion), this._pan.setListenerPosition(this._scene.camera.position), this._pan.setListenerOrientation(e.normalize()), e.release()
                }
            }, {
                key: "_laserUpdate",
                value: function() {
                    this._raycast()
                }
            }, {
                key: "_laserHit",
                value: function() {
                    this._signals.enemy.laserHit.dispatch()
                }
            }, {
                key: "_activate",
                value: function() {
                    this.active = !0, this._laserTl.play()
                }
            }, {
                key: "_desactivate",
                value: function() {
                    this.active = !1
                }
            }, {
                key: "_onPauseShow",
                value: function() {
                    this._laserSound && (this._laserSound.volume = 0)
                }
            }, {
                key: "_onPauseHide",
                value: function() {
                    this._laserSound
                }
            }]) && v(n.prototype, o), t
        }()).prototype, "_laserUpdate", [o], Object.getOwnPropertyDescriptor(r.prototype, "_laserUpdate"), r.prototype), _(r.prototype, "_laserHit", [o], Object.getOwnPropertyDescriptor(r.prototype, "_laserHit"), r.prototype), _(r.prototype, "_onPauseShow", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPauseShow"), r.prototype), _(r.prototype, "_onPauseHide", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPauseHide"), r.prototype), r);
        t.default = m, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(21)) && o.__esModule ? o : {
        default: o
    };

    function i(e) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function a() {
        return (a = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }
    var s = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === i(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, n))).defines = a({}, e.defines, {
                IS_MOVABLE: !0
            }), e.uniforms = a({}, e.uniforms, {
                uMovableHighlightColor: {
                    value: new THREE.Color("#c1ffff")
                },
                uMovableActivate: {
                    value: 0
                }
            }), e
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, r.default), t
    }();
    t.default = s, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = l(n(5)),
            a = l(n(23)),
            s = n(3);

        function l(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function u(e) {
            return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function c(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var f, p, d, h, y, v, _ = (0, s.getLogger)("InteractiveEntity", s.INFO, !0),
            m = (f = (r = function(e) {
                function t() {
                    var e;
                    return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t), (e = function(e, t) {
                        if (t && ("object" === u(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this))).type = "default", e._debug = !1, e.minDistance = 0, e.maxDistance = 12, e.distance = 0, e.isInteractive = !1, e._offsetActiveDistance = new THREE.Matrix4, e._ctrl = e._scene.interactiveEntitiesCtrl, e._ctrl.add(function(e) {
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(e)), e
                }
                var n, o;
                return function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }(t, i.default), n = t, (o = [{
                    key: "activate",
                    value: function() {
                        if (!(this.isActive || this._state.actionIsActive || this._scene.character.isDying)) return _("Activate"), this.isActive = !0, !0
                    }
                }, {
                    key: "desactivate",
                    value: function() {
                        this.isActive && (_("Desactivate"), this.isActive = !1)
                    }
                }, {
                    key: "update",
                    value: function(e, n) {
                        (function e(t, n, o) {
                            null === t && (t = Function.prototype);
                            var r = Object.getOwnPropertyDescriptor(t, n);
                            if (void 0 === r) {
                                var i = Object.getPrototypeOf(t);
                                return null === i ? void 0 : e(i, n, o)
                            }
                            if ("value" in r) return r.value;
                            var a = r.get;
                            return void 0 !== a ? a.call(o) : void 0
                        })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "update", this).call(this, e, n), this._checkDistance()
                    }
                }, {
                    key: "_checkDistance",
                    value: function() {
                        this.distance = this.mesh.position.distanceTo(this._character.position), this.isInteractive = this._checkInteractive()
                    }
                }, {
                    key: "_checkInteractive",
                    value: function() {
                        this.lookAtPivot.lookAt(this._character.position);
                        var e = a.default.pool.get(),
                            t = a.default.pool.get();
                        this._character.getWorldDirection(e), this.lookAtPivot.getWorldDirection(t), e.angleTo(t), Math.PI;
                        var n = this.distance >= this.minDistance && this.distance <= this.maxDistance;
                        return e.release(), t.release(), n && !this._ctrl.isActive && !this.isActive
                    }
                }]) && c(n.prototype, o), t
            }()).prototype, p = "_checkInteractive", d = [o], h = Object.getOwnPropertyDescriptor(r.prototype, "_checkInteractive"), y = r.prototype, v = {}, Object.keys(h).forEach(function(e) {
                v[e] = h[e]
            }), v.enumerable = !!v.enumerable, v.configurable = !!v.configurable, ("value" in v || v.initializer) && (v.writable = !0), v = d.slice().reverse().reduce(function(e, t) {
                return t(f, p, e) || e
            }, v), y && void 0 !== v.initializer && (v.value = v.initializer ? v.initializer.call(y) : void 0, v.initializer = void 0), void 0 === v.initializer && (Object.defineProperty(f, p, v), v = null), r);
        t.default = m, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = p(n(315)),
            a = p(n(12)),
            s = p(n(14)),
            l = p(n(23)),
            u = p(n(59)),
            c = p(n(314)),
            f = n(2);

        function p(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function d(e) {
            return (d = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function h(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function y(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : y(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }

        function v(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var _ = (v((r = function(e) {
            function t(e, n) {
                var o;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), (o = function(e, t) {
                    if (t && ("object" === d(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this))).type = "movable", o.mesh = e, o.name = o.mesh.name, o._raycaster = o._context.raycaster, o._convexCollisionMesh = o._gltf.getObject("terrain", "".concat(o.name, "_convex")), o._convexCollisionMesh.visible = !1;
                var r = o.mesh.position.clone();
                return o._posInertia = new u.default({
                    friction: 9,
                    rigidity: .15,
                    value: {
                        x: r.x,
                        y: r.y,
                        z: r.z
                    },
                    interpolation: "elastic"
                }), o.mesh.position.copy(r), o._isInMoveArea = !1, o._maxMoveAreaDistance = 18, o._pMaterial = o._pMaterials[n], o._basePos = e.position.clone(), o._baseMat = e.matrix.clone(), o._baseAnchorPos = new CANNON.Vec3, o.bbox = null, o._shakeFactor = 0, o._moveSpeed = .1, o.minDistance = 1, o.maxDistance = 15, o._anchorNearOffset = 0, o._raycaster = o._context.raycaster, o.mesh.material = new c.default({
                    name: o.name
                }), o.add(o.mesh), o.lookAtPivot = new THREE.Object3D, o._computeBbox(), o._createBody(), o._createGUI(), o._index = t.COUNT, t.COUNT++, "level-1" === o._scene.name && "props_rock_1" === o.name && (o._raycastPlane = new THREE.Mesh(new THREE.PlaneBufferGeometry(5, 3, 1, 1), o._materials.debugMaterial), o._raycastPlane.name = "movable-plane", o.mesh.add(o._raycastPlane), o._scene.navMeshes.push(o._raycastPlane), o._raycastPlane.position.set(0, .45 * o.bbox.y, 0), o._raycastPlane.rotation.x = -Math.PI / 2, o._raycastPlane.visible = !1), o._bind(), o
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), n = t, (o = [{
                key: "destroy",
                value: function() {
                    y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._unbind(), this._posInertia.destroy()
                }
            }, {
                key: "activate",
                value: function() {
                    return !this.isAnchorNearMesh && 0 === this._state.currentPower && !this._state.powerCdActivated[0] && (y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "activate", this).call(this), TweenMax.to(this, .5, {
                        _shakeFactor: 1,
                        ease: Expo.easeOut
                    }), TweenMax.to(this.mesh.position, .4, {
                        y: this._basePos.y + .5 * this.bbox.y,
                        ease: Power3.easeOut
                    }), !0)
                }
            }, {
                key: "desactivate",
                value: function() {
                    var e = this;
                    if (this.isActive) {
                        y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "desactivate", this).call(this);
                        var n = this._basePos.y;
                        this._raycaster.set(this.mesh.position, l.default.Y_DOWN);
                        var o, r = this._scene.navMeshes,
                            i = this._raycaster.intersectObjects(r);
                        if (i.length) {
                            var a = i[0];
                            a.object.name.match(/rock/gi) && (a = i[1] ? i[1] : null), a && (o = a.distance, n = this.mesh.position.y - o + .49 * this.bbox.y)
                        }
                        TweenMax.to(this, .2, {
                            _shakeFactor: 0,
                            ease: Expo.easeOut
                        }), TweenMax.to(this.mesh.position, .3, {
                            y: n,
                            ease: Power2.easeIn,
                            onComplete: function() {
                                e._sounds.play("falling-stone")
                            }
                        }), this._state.actionIsActive = !1
                    }
                }
            }, {
                key: "update",
                value: function(e, n) {
                    y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "update", this).call(this, e, n);
                    var o = this._character.position,
                        r = this.body.position,
                        i = (0, f.distance)(o.x, o.z, r.x, r.z) < 10;
                    i && !this.body.added ? (this.body.added = !0, this.addBody()) : !i && this.body.added && (this.body.added = !1, this.removeBody()), this._posInertia.stopped || this._posInertia.update(), this.mesh.material.update(e, n);
                    var a = (0, f.distance)(o.x, o.z, r.x, r.z),
                        s = Math.max(this.bbox.x, this.bbox.z);
                    this.isAnchorNearMesh = a <= s / 2 + this._anchorNearOffset, this.isActive ? this._processMoveInputs() : this._checkIsInMoveArea(), this.isInteractive && !this.isAnchorNearMesh || this.isActive ? this.mesh.material.uniforms.uMovableActivate.value = 1 : this.mesh.material.uniforms.uMovableActivate.value = 0;
                    var l = .001 * n;
                    this.position.x = this._shakeFactor * (Math.sin(1.2 * l) + Math.sin(l)) * .5, this.position.y = this._shakeFactor * (Math.cos(l) + Math.sin(1.3 * l)) * .5, this.position.z = this._shakeFactor * (Math.sin(.8 * l) + Math.cos(l)) * .5, this.mesh.rotation.x = this._shakeFactor * (Math.sin(6 * l + .3) + Math.cos(l + .9)) * .03, this.mesh.rotation.z = this._shakeFactor * (Math.cos(6 * l + 1.2) + Math.cos(l + .54367)) * .03, this.lookAtPivot.position.copy(this.mesh.position), this.lookAtPivot.quaternion.copy(this.mesh.quaternion);
                    var u = this._posInertia.value,
                        c = u.x,
                        p = u.z;
                    this.mesh.position.x = c, this.mesh.position.z = p, this.body.position.copy(this.mesh.position), this.body.quaternion.copy(this.mesh.quaternion), this.wasInteractive = this.isInteractive
                }
            }, {
                key: "_bind",
                value: function() {
                    this._signals.character.reseted.add(this._onCharReset)
                }
            }, {
                key: "_unbind",
                value: function() {
                    this._signals.character.reseted.remove(this._onCharReset)
                }
            }, {
                key: "_computeBbox",
                value: function() {
                    this.mesh.geometry.computeBoundingBox();
                    var e = this.mesh.geometry.boundingBox;
                    this.bbox = {
                        x: Math.abs(e.max.x - e.min.x) * this.mesh.scale.x,
                        y: Math.abs(e.max.y - e.min.y) * this.mesh.scale.y,
                        z: Math.abs(e.max.z - e.min.z) * this.mesh.scale.z
                    }, this.mesh.bbox = this.bbox
                }
            }, {
                key: "_createBody",
                value: function() {
                    this.body = new CANNON.Body({
                        mass: 0,
                        material: this._pMaterial,
                        position: (new CANNON.Vec3).copy(this.mesh.position),
                        shape: this._getConvexFromMesh(this._convexCollisionMesh),
                        collisionFilterGroup: this._physics.group.rock2,
                        collisionFilterMask: this._physics.group.character
                    }), this.body.added = !0, this.syncBody(this.mesh), this.addBody(this.body), this._scene.navMeshes.push(this.mesh)
                }
            }, {
                key: "_getConvexFromMesh",
                value: function(e) {
                    var t = new THREE.Geometry;
                    t.fromBufferGeometry(e.geometry), e.updateMatrix(), t.applyMatrix(e.matrix);
                    for (var n = t.vertices, o = t.faces, r = [], i = [], a = 0, s = n.length; a < s; a++) {
                        var l = n[a];
                        r.push((new CANNON.Vec3).copy(l))
                    }
                    for (var u = 0, c = o.length; u < c; u++) {
                        var f = o[u];
                        i.push([f.a, f.b, f.c])
                    }
                    return new CANNON.ConvexPolyhedron(r, i)
                }
            }, {
                key: "_createGUI",
                value: function() {}
            }, {
                key: "_canMove",
                value: function(e, t) {
                    var n = l.default.pool.get(),
                        o = l.default.pool.get();
                    n.copy(this.mesh.position), n.y -= .5 * this.bbox.y, o.set(e, this.mesh.position.y, t).sub(this.mesh.position).normalize(), this._raycaster.set(n, o);
                    var r = this._scene.navMeshes,
                        i = this._raycaster.intersectObjects(function(e) {
                            if (Array.isArray(e)) {
                                for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                                return n
                            }
                            return Array.from(e)
                        }(r).concat([this._character.movableHitbox])),
                        a = !0;
                    return i.length && i[0].distance <= .75 * this.bbox.x && (a = !1), o.release(), n.release(), a
                }
            }, {
                key: "_toggleEntities",
                value: function() {
                    0 === this._state.currentPower && y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_toggleEntities", this).call(this)
                }
            }, {
                key: "_checkIsInMoveArea",
                value: function() {
                    this._basePosDistance = this.mesh.position.distanceTo(this._basePos), this._isInMoveArea = this._basePosDistance <= this._maxMoveAreaDistance
                }
            }, {
                key: "_checkInteractive",
                value: function() {
                    var e = y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_checkInteractive", this).call(this);
                    return this.lookAtPivot.lookAt(this._character.position), e
                }
            }, {
                key: "_updateDirectionControl",
                value: function(e, t) {
                    t = t || this._moveSpeed;
                    var n = l.default.pool.get();
                    n.set(-1, 0, 0).applyAxisAngle(l.default.Y_UP, e - this._scene.camera.cameraAngle).multiplyScalar(t), this._checkIsInMoveArea();
                    var o = this._posInertia.value.x + n.x,
                        r = this._posInertia.value.z + n.z,
                        i = this._posInertia,
                        a = this._canMove(o, r),
                        s = (0, f.distance)(this._basePos.x, this._basePos.z, this.mesh.position.x, this.mesh.position.z) < this.maxDistance;
                    a && s ? i.to({
                        x: o,
                        z: r
                    }) : a ? s || (n.set(o, this._basePos.y, r).sub(this._basePos).normalize(), i.to({
                        x: i.value.x - .1 * n.x,
                        z: i.value.z - .1 * n.z
                    })) : i.to({
                        x: i.value.x - .3 * n.x,
                        z: i.value.z - .3 * n.z
                    }), n.release()
                }
            }, {
                key: "_processMoveInputs",
                value: function() {
                    var e = 0,
                        t = 0,
                        n = !1;
                    if (a.default.joystickLeftIsMoving) e = a.default.joystickLeft.x, t = a.default.joystickLeft.y, n = !0;
                    else {
                        var o = s.default.isDown("up") || a.default.isDown("d_pad_up"),
                            r = s.default.isDown("down") || a.default.isDown("d_pad_down"),
                            i = s.default.isDown("left") || a.default.isDown("d_pad_left"),
                            l = s.default.isDown("right") || a.default.isDown("d_pad_right");
                        this._keysDowned = o || i || l || r, n = this._keysDowned, i ? e = -1 : l && (e = 1), o ? t = -1 : r && (t = 1)
                    }
                    if (n) {
                        var u = -Math.atan2(t, e) - Math.PI / 2;
                        this._updateDirectionControl(u)
                    }
                }
            }, {
                key: "_onPreStep",
                value: function() {}
            }, {
                key: "_onCharReset",
                value: function(e) {
                    var t = l.default.pool.get();
                    t.copy(this._basePos), this.mesh.position.copy(t), this.body.position.copy(t), t.release()
                }
            }]) && h(n.prototype, o), t
        }()).prototype, "_onPreStep", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPreStep"), r.prototype), v(r.prototype, "_onCharReset", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onCharReset"), r.prototype), r);
        _.COUNT = 0;
        var m = _;
        t.default = m, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = h(n(5)),
            a = h(n(316)),
            s = h(n(313)),
            l = h(n(143)),
            u = h(n(21)),
            c = h(n(306)),
            f = h(n(23)),
            p = n(2),
            d = h(n(305));

        function h(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function y(e) {
            return (y = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function v(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var _, m, g, b, w, x, k = 15,
            O = 8,
            E = 20,
            P = 100,
            S = new THREE.Triangle,
            T = (new THREE.Quaternion).setFromAxisAngle(new THREE.Vector3(1, 0, 0), 1.5 * Math.PI),
            j = (_ = (r = function(e) {
                function t() {
                    var e;
                    return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t), (e = function(e, t) {
                        if (t && ("object" === y(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)))._bodies = [], e._faceBodies = [], e._fixedBodies = [], e._movableEntities = [], e._enemyEntities = [], e._instancedEntities = [], e._sphereMath = new THREE.Sphere(new THREE.Vector3, 4), e._init(), e
                }
                var n, o;
                return function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }(t, i.default), n = t, (o = [{
                    key: "destroy",
                    value: function() {
                        (function e(t, n, o) {
                            null === t && (t = Function.prototype);
                            var r = Object.getOwnPropertyDescriptor(t, n);
                            if (void 0 === r) {
                                var i = Object.getPrototypeOf(t);
                                return null === i ? void 0 : e(i, n, o)
                            }
                            if ("value" in r) return r.value;
                            var a = r.get;
                            return void 0 !== a ? a.call(o) : void 0
                        })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this);
                        for (var e = 0, n = this._movableEntities.length; e < n; e++) this._movableEntities[e].destroy();
                        for (var o = 0, r = this._enemyEntities.length; o < r; o++) this._enemyEntities[o].destroy()
                    }
                }, {
                    key: "update",
                    value: function(e, t) {
                        var n = this._character.body;
                        n && (this._sphereMath.center.copy(n.position), this._updateEnemyEntities(e, t), this._updateFaceBodies(e, t))
                    }
                }, {
                    key: "_init",
                    value: function() {
                        this._initInstances(), this._initNonInstances(), this._initNavMesh(), this._initCollisionGround(), this._initProps()
                    }
                }, {
                    key: "_initInstances",
                    value: function() {
                        for (var e = this._gltf.getObject("terrain", "instances").children, t = 0, n = e.length; t < n; t++) {
                            for (var o = e[t].name, r = this._gltf.getObject("terrain", "".concat(o, "_base")), i = this._gltf.getObject("terrain", "".concat(o, "_instances")).children, a = r.geometry, s = i.length, u = [], f = [], p = [], d = 0; d < s; d++) {
                                var h = i[d],
                                    y = h.position,
                                    v = y.x,
                                    _ = y.y,
                                    m = y.z;
                                u.push((new THREE.Vector4).set(v, _, m, 1)), f.push(new THREE.Vector3(h.scale.x, h.scale.z, h.scale.y)), p.push(h.quaternion.multiply(T))
                            }
                            var g = {
                                name: o
                            };
                            void 0 !== a.attributes.color && (g.useVertexColors = !0);
                            var b = new c.default(g),
                                w = new l.default({
                                    geometry: a,
                                    material: b,
                                    nb: s,
                                    positions: u,
                                    scales: f,
                                    orientations: p
                                });
                            w.name = o, this.add(w), this._instancedEntities.push(w)
                        }
                    }
                }, {
                    key: "_initNonInstances",
                    value: function() {
                        for (var e = this, t = this._gltf.getObject("terrain", "non_instances").children, n = t.length, o = function() {
                                var o = t[n],
                                    r = o.geometry,
                                    i = {
                                        name: o.name.toLowerCase()
                                    };
                                void 0 !== r.attributes.color && (i.useVertexColors = !0);
                                var a = new u.default(i);
                                o.traverse(function(e) {
                                    e.material && (e.material = a)
                                }), o.castShadow = !0, o.receiveShadow = !0, e.add(o)
                            }; n--;) o()
                    }
                }, {
                    key: "_initNavMesh",
                    value: function() {
                        var e = this._gltf.getObject("terrain", "nav_mesh");
                        e && (e.visible = !1, this.add(e), this._scene.navMeshes.push(e))
                    }
                }, {
                    key: "_initCollisionGround",
                    value: function() {
                        var e = this._gltf.getObject("terrain", "collision_ground");
                        e.visible = !1, this.add(e), this._scene.navMeshes.push(e);
                        var t = new THREE.Geometry;
                        t.fromBufferGeometry(e.geometry);
                        for (var n = t.faces, o = t.vertices, r = 0, i = n.length; r < i; r++) {
                            var a = n[r],
                                s = [a.a, a.b, a.c],
                                l = [o[a.a], o[a.b], o[a.c]];
                            S.set(l[0], l[1], l[2]), S.getArea() > P ? this._subdivideFace(l, [0, 1, 2]) : this._createFaceBody(o, s)
                        }
                        t.dispose()
                    }
                }, {
                    key: "_initCollisionObjects",
                    value: function() {
                        var e = [];
                        this._gltf.getObject("terrain", "collision_objects").traverse(function(t) {
                            t.geometry && e.push(t)
                        });
                        for (var t = 0, n = e.length; t < n; t++) {
                            var o = e[t],
                                r = o.geometry;
                            r.computeBoundingBox();
                            var i = r.boundingBox,
                                a = f.default.pool.get();
                            i.getSize(a);
                            var s = new CANNON.Body({
                                mass: 0,
                                shape: new CANNON.Box(new CANNON.Vec3(.5 * a.x * o.scale.x, .5 * a.y * o.scale.y, .5 * a.z * o.scale.z)),
                                material: this._pMaterials.rock
                            });
                            s.position.copy(o.position), s.quaternion.copy(o.quaternion), s.added = !0, s.distancePos = s.position, s.name = o.name, s.entityType = "box", s.verticesPos = [];
                            var l = (new THREE.Geometry).fromBufferGeometry(r);
                            o.updateMatrix(), l.applyMatrix(o.matrix);
                            for (var u = l.vertices, c = 0, p = u.length; c < p; c += 3) s.verticesPos.push(u[c].clone());
                            this._bodies.push(s), this._fixedBodies.push(s), this._world.add(s), l.dispose(), a.release(), this._scene.navMeshes.push(o), o.visible = !1, this.add(o)
                        }
                    }
                }, {
                    key: "_initProps",
                    value: function() {
                        var e = this._gltf.getObject("terrain", "props");
                        if (e)
                            for (var t = e.children, n = t.length; n--;) {
                                var o = t[n];
                                if (o.name.indexOf("rock") > -1) {
                                    var r = new a.default(o, "rock");
                                    this._movableEntities.push(r), this.add(r)
                                } else if (o.name.indexOf("enemy") > -1) {
                                    var i = new s.default(o);
                                    this._enemyEntities.push(i), this.add(i)
                                }
                            }
                    }
                }, {
                    key: "_createFaceBody",
                    value: function(e) {
                        for (var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [0, 1, 2], n = [], o = 0, r = t.length; o < r; o++) {
                            var i = e[t[o]];
                            n.push((new CANNON.Vec3).copy(i))
                        }
                        var a = new CANNON.ConvexPolyhedron(n, [
                                [0, 1, 2]
                            ]),
                            s = new CANNON.Body({
                                mass: 0,
                                shape: a,
                                material: this._pMaterials.ground,
                                collisionFilterGroup: this._physics.group.terrain
                            }),
                            l = new CANNON.Vec3;
                        l.x = (n[0].x + n[1].x + n[2].x) / 3, l.y = (n[0].y + n[1].y + n[2].y) / 3, l.z = (n[0].z + n[1].z + n[2].z) / 3, s.facePos = l, s.vertices = n, s.position.copy(this.position), s.added = !1, s.entityType = "face", this._faceBodies.push(s), this._bodies.push(s)
                    }
                }, {
                    key: "_subdivideFace",
                    value: function(e, t) {
                        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                            o = f.default.pool.get();
                        S.getMidpoint(o);
                        for (var r = [
                                [e[t[0]], e[t[1]], o],
                                [e[t[0]], o, e[t[2]]],
                                [e[t[1]], e[t[2]], o]
                            ], i = 0, a = r.length; i < a; i++) S.set(e[t[0]], e[t[1]], e[t[2]]), S.getArea() > P ? this._subdivideFace(r[i], t, n++) : this._createFaceBody(r[i]);
                        o.release()
                    }
                }, {
                    key: "_updateEnemyEntities",
                    value: function(e, t) {
                        for (var n = 0, o = this._enemyEntities.length; n < o; n++) this._enemyEntities[n].update(e, t)
                    }
                }, {
                    key: "_updateFaceBodies",
                    value: function() {
                        for (var e = this._character.body, t = 0, n = this._faceBodies.length; t < n; t++) {
                            var o = this._faceBodies[t];
                            if ("movable" !== !o.type) {
                                var r = o.facePos,
                                    i = o.vertices,
                                    a = (0, p.distance)(e.position.x, e.position.z, r.x, r.z) < E && (0, d.default)(this._sphereMath, i[0], i[1], i[2]);
                                a && !o.added ? (this.addBody(o), o.added = !0) : !a && o.added && (this.removeBody(o), o.added = !1)
                            }
                        }
                    }
                }, {
                    key: "_updateFixedBodies",
                    value: function() {
                        for (var e = this._character.body, t = 0, n = this._fixedBodies.length; t < n; t++) {
                            var o = this._fixedBodies[t];
                            if ("movable" !== !o.type) {
                                for (var r = !1, i = o.verticesPos, a = 0, s = i.length; a < s; a++) {
                                    var l = i[a];
                                    if (r = (0, p.distance)(e.position.x, e.position.z, l.x, l.z) < k) break
                                }
                                if (!r)
                                    for (var u = 0, c = this._movableEntities.length; u < c; u++) {
                                        var f = this._movableEntities[u];
                                        if (f.body.added) {
                                            for (var d = 0, h = i.length; d < h; d++) {
                                                var y = i[d];
                                                if (r = (0, p.distance)(f.body.position.x, f.body.position.z, y.x, y.z) < O) break
                                            }
                                            if (r) break
                                        }
                                    }
                                r && !o.added ? (this.addBody(o), o.added = !0) : !r && o.added && (this.removeBody(o), o.added = !1)
                            }
                        }
                    }
                }]) && v(n.prototype, o), t
            }()).prototype, m = "update", g = [o], b = Object.getOwnPropertyDescriptor(r.prototype, "update"), w = r.prototype, x = {}, Object.keys(b).forEach(function(e) {
                x[e] = b[e]
            }), x.enumerable = !!x.enumerable, x.configurable = !!x.configurable, ("value" in x || x.initializer) && (x.writable = !0), x = g.slice().reverse().reduce(function(e, t) {
                return t(_, m, e) || e
            }, x), w && void 0 !== x.initializer && (x.value = x.initializer ? x.initializer.call(w) : void 0, x.initializer = void 0), void 0 === x.initializer && (Object.defineProperty(_, m, x), x = null), r);
        t.default = j, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = l(n(5)),
            a = l(n(31)),
            s = n(2);

        function l(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function u(e) {
            return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function c(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var f, p, d, h, y, v, _ = (f = (r = function(e) {
            function t() {
                var e;
                return function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), (e = function(e, t) {
                    if (t && ("object" === u(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)))._sprite = new a.default({
                    debug: !1,
                    geometry: new THREE.PlaneBufferGeometry(3, 3, 1, 1),
                    fps: 24,
                    dataId: "level.json.sprites.power_2",
                    atlasId: "level.textures.sprites.power_2"
                }), e.add(e._sprite), e._sprite.rotation.x = -Math.PI / 2, e._scene.materialCtrl.add(e._sprite.material), e._bind(), e
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), n = t, (o = [{
                key: "destroy",
                value: function() {
                    (function e(t, n, o) {
                        null === t && (t = Function.prototype);
                        var r = Object.getOwnPropertyDescriptor(t, n);
                        if (void 0 === r) {
                            var i = Object.getPrototypeOf(t);
                            return null === i ? void 0 : e(i, n, o)
                        }
                        if ("value" in r) return r.value;
                        var a = r.get;
                        return void 0 !== a ? a.call(o) : void 0
                    })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._unbind(), this._sprite.destroy()
                }
            }, {
                key: "update",
                value: function(e, t) {}
            }, {
                key: "_bind",
                value: function() {
                    this._signals.character.power2SpritePlay.add(this._play)
                }
            }, {
                key: "_unbind",
                value: function() {
                    this._signals.character.power2SpritePlay.remove(this._play)
                }
            }, {
                key: "_play",
                value: function() {
                    this.rotation.y = (0, s.randomFloat)(0, 2 * Math.PI), this._sprite.mc.gotoAndPlay(0), this.position.copy(this._character.body.position), this.position.y -= 1.4
                }
            }]) && c(n.prototype, o), t
        }()).prototype, p = "_play", d = [o], h = Object.getOwnPropertyDescriptor(r.prototype, "_play"), y = r.prototype, v = {}, Object.keys(h).forEach(function(e) {
            v[e] = h[e]
        }), v.enumerable = !!v.enumerable, v.configurable = !!v.configurable, ("value" in v || v.initializer) && (v.writable = !0), v = d.slice().reverse().reduce(function(e, t) {
            return t(f, p, e) || e
        }, v), y && void 0 !== v.initializer && (v.value = v.initializer ? v.initializer.call(y) : void 0, v.initializer = void 0), void 0 === v.initializer && (Object.defineProperty(f, p, v), v = null), r);
        t.default = _, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = l(n(5)),
            a = l(n(31)),
            s = n(2);

        function l(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function u(e) {
            return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function c(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var f, p, d, h, y, v, _ = (f = (r = function(e) {
            function t() {
                var e;
                return function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), (e = function(e, t) {
                    if (t && ("object" === u(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)))._sprite = new a.default({
                    debug: !1,
                    geometry: new THREE.PlaneBufferGeometry(3, 3, 1, 1),
                    fps: 24,
                    dataId: "common.json.sprites.fall_smoke",
                    atlasId: "common.textures.sprites.fall_smoke",
                    mcOptions: {
                        loop: !1
                    }
                }), e.add(e._sprite), e._sprite.rotation.x = -Math.PI / 2, e.position.y = 2, e._scene.materialCtrl.add(e._sprite.material), e._last, e._bind(), e._lastSoundId = (0, s.randomInt)(0, 3), e
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), n = t, (o = [{
                key: "destroy",
                value: function() {
                    (function e(t, n, o) {
                        null === t && (t = Function.prototype);
                        var r = Object.getOwnPropertyDescriptor(t, n);
                        if (void 0 === r) {
                            var i = Object.getPrototypeOf(t);
                            return null === i ? void 0 : e(i, n, o)
                        }
                        if ("value" in r) return r.value;
                        var a = r.get;
                        return void 0 !== a ? a.call(o) : void 0
                    })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._unbind()
                }
            }, {
                key: "update",
                value: function(e, t) {}
            }, {
                key: "_bind",
                value: function() {
                    this._signals.character.fallen.add(this._onCharacterFall)
                }
            }, {
                key: "_unbind",
                value: function() {
                    this._signals.character.fallen.remove(this._onCharacterFall)
                }
            }, {
                key: "_onCharacterFall",
                value: function(e) {
                    if (-1 !== e.object.name.indexOf("collision_ground")) {
                        this.position.copy(e.point), this.position.y += .3, this.lookAt(e.point), this.rotation.x -= Math.PI / 2, this._sprite.mc.gotoAndPlay(0);
                        var t = (0, s.randomFloat)(.5, 1.3);
                        this._sprite.scale.set(t, t, t), this._sprite.rotation.z = (0, s.randomFloat)(0, 2 * Math.PI);
                        for (var n = (0, s.randomInt)(0, 3); n === this._lastSoundId;) n = (0, s.randomInt)(0, 3);
                        this._sounds.play("fall-stone-".concat(n)), this._lastSoundId = n
                    }
                }
            }]) && c(n.prototype, o), t
        }()).prototype, p = "_onCharacterFall", d = [o], h = Object.getOwnPropertyDescriptor(r.prototype, "_onCharacterFall"), y = r.prototype, v = {}, Object.keys(h).forEach(function(e) {
            v[e] = h[e]
        }), v.enumerable = !!v.enumerable, v.configurable = !!v.configurable, ("value" in v || v.initializer) && (v.writable = !0), v = d.slice().reverse().reduce(function(e, t) {
            return t(f, p, e) || e
        }, v), y && void 0 !== v.initializer && (v.value = v.initializer ? v.initializer.call(y) : void 0, v.initializer = void 0), void 0 === v.initializer && (Object.defineProperty(f, p, v), v = null), r);
        t.default = _, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = p(n(5)),
            a = p(n(14)),
            s = p(n(12)),
            l = p(n(21)),
            u = p(n(23)),
            c = p(n(59)),
            f = n(2);

        function p(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function d(e) {
            return (d = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function h(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function y(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var v = new THREE.Quaternion,
            _ = (y((r = function(e) {
                function t() {
                    var e;
                    return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t), (e = function(e, t) {
                        if (t && ("object" === d(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this))).visible = !1, e._pMaterial = e._pMaterials.rock, e._rocks = [], e._bodies = [], e._rOpacities = [], e._isKeyDowned = !1, e._shakeFactor = 0, e._basePos = new THREE.Vector3, e._offsetPos = new THREE.Vector3, e._raycaster = e._context.raycaster, e._init(), e._bind(), e._rockSound = e._sounds.get("rock-construct"), e
                }
                var n, o;
                return function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }(t, i.default), n = t, (o = [{
                    key: "destroy",
                    value: function() {
                        (function e(t, n, o) {
                            null === t && (t = Function.prototype);
                            var r = Object.getOwnPropertyDescriptor(t, n);
                            if (void 0 === r) {
                                var i = Object.getPrototypeOf(t);
                                return null === i ? void 0 : e(i, n, o)
                            }
                            if ("value" in r) return r.value;
                            var a = r.get;
                            return void 0 !== a ? a.call(o) : void 0
                        })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._unbind(), this._clearTls()
                    }
                }, {
                    key: "update",
                    value: function(e, t) {
                        var n = this._character.position,
                            o = .1 * t;
                        this._offsetPos.x = Math.sin(.5 * o + 200) + Math.sin(.5 * o) + Math.cos(1.2 * o - 320), this._offsetPos.y = Math.cos(o - 343) + Math.sin(.5 * o + 23) + Math.cos(1.2 * o), this._offsetPos.z = Math.sin(o + 2e3) + Math.cos(.8 * o) + Math.sin(.7 * o + 444), this._offsetPos.multiplyScalar(.1).multiplyScalar(this._shakeFactor), this.position.copy(this._basePos).add(this._offsetPos);
                        for (var r = 0 * t, i = 0, a = this._rocks.length; i < a; i++) {
                            var s = this._rocks[i],
                                l = s.basePos,
                                c = s.offsetPos,
                                p = s.baseRot,
                                d = s.timeOffset,
                                h = s.posInertiaY,
                                y = u.default.pool.get(),
                                _ = Math.sin(r + d.x) + Math.sin(.5 * r + d.y) + Math.cos(1.2 * r + d.y);
                            _ /= 3, s.position.x = l.x + c.x, s.position.y = l.y + c.y + .1 * _, s.position.z = l.z + c.z, s.rotation.x = p.x + (Math.cos(r + d.y) + Math.sin(.4 * r + d.x)) / 2 * .06, s.rotation.y = p.y + (Math.cos(.7 * r + d.y) + Math.cos(.8 * r + d.x)) / 2 * .06, s.rotation.z = p.z + (Math.cos(.4 * r + d.y) + Math.sin(1.1 * r + d.x)) / 2 * .06, s.getWorldPosition(y);
                            var m = (0, f.distance)(n.x, n.z, y.x, y.z) < 1,
                                g = s.position.y + this.position.y - n.y + 1.65,
                                b = s.isActive ? g <= 1 && g > -1 : g <= 0 && g > -1;
                            m && b && !s.isActive ? (s.isActive = !0, h.to(-.5)) : !s.isActive || m && b || (s.isActive = !1, h.to(0)), s.posInertiaY.update(), s.position.y += h.value, y.y += h.value, this._bodies[i].position.copy(y), s.getWorldQuaternion(v), this._bodies[i].quaternion.copy(v), y.release()
                        }
                    }
                }, {
                    key: "_init",
                    value: function() {
                        for (var e = this._gltf.getAsset("platform").scene, t = 0, n = e.children.length; t < n; t++) {
                            var o = e.getObjectByName("platform_".concat(t));
                            o.material = new l.default({
                                name: o.name,
                                diffuse: new THREE.Color("#c49258"),
                                transparent: !0
                            }), o.material.uniforms.uOpacity.value = 0, o.basePos = o.position.clone(), o.baseRot = o.rotation.clone(), o.offsetPos = new THREE.Vector3, o.timeOffset = new THREE.Vector3((0, f.randomFloat)(-1e3, 1e3), (0, f.randomFloat)(-1e3, 1e3), (0, f.randomFloat)(-1e3, 1e3)), o.added = !1, o.isActive = !1, o.posInertiaY = new c.default({
                                value: 0,
                                interpolation: "linear"
                            }), o.receiveShadow = !0, o.castShadow = !0, this._rOpacities.push(o.material.uniforms.uOpacity), this._rocks.push(o), this.add(o), this._createBody(o)
                        }
                        this._raycastPlane = new THREE.Mesh(new THREE.PlaneBufferGeometry(6, 7, 1, 1), this._materials.debugMaterial), this._raycastPlane.name = "platform-plane", this.add(this._raycastPlane), this._scene.navMeshes.push(this._raycastPlane), this._raycastPlane.position.set(0, -1.2, -.2), this._raycastPlane.rotation.x = -Math.PI / 2, this._raycastPlane.visible = !1
                    }
                }, {
                    key: "_bind",
                    value: function() {
                        a.default.downed.add(this._onKeyDown), a.default.upped.add(this._onKeyUp), s.default.buttonDowned.add(this._onButtonDown), s.default.buttonUpped.add(this._onButtonUp), this._signals.character.collided.add(this._onCharCollide), this._signals.powers.cdAlmostDone.add(this._onPowerAlmostdone)
                    }
                }, {
                    key: "_unbind",
                    value: function() {
                        a.default.downed.remove(this._onKeyDown), a.default.upped.remove(this._onKeyUp), s.default.buttonDowned.remove(this._onButtonDown), s.default.buttonUpped.remove(this._onButtonUp), this._signals.character.collided.remove(this._onCharCollide), this._signals.powers.cdAlmostDone.remove(this._onPowerAlmostdone)
                    }
                }, {
                    key: "_createBody",
                    value: function(e) {
                        for (var t = [], n = [], o = (new THREE.Geometry).fromBufferGeometry(e.geometry), r = o.vertices, i = o.faces, a = 0, s = r.length; a < s; a++) {
                            var l = r[a];
                            t.push((new CANNON.Vec3).copy(l))
                        }
                        for (var u = 0, c = i.length; u < c; u++) {
                            var f = i[u];
                            n.push([f.a, f.b, f.c])
                        }
                        var p = new CANNON.Body({
                            mass: 0,
                            material: this._pMaterial,
                            position: (new CANNON.Vec3).copy(e.position),
                            shape: new CANNON.ConvexPolyhedron(t, n),
                            collisionFilterGroup: this._physics.group.rock2,
                            collisionFilterMask: this._physics.group.character
                        });
                        p.type = "platform", p.added = !1, p.mesh = e, this._bodies.push(p)
                    }
                }, {
                    key: "_clearTls",
                    value: function() {
                        this._desactivateTl && (this._desactivateTl.pause(), this._desactivateTl.kill()), this._activateTl && (this._activateTl.pause(), this._activateTl.kill()), this._validationTl && (this._validationTl.pause(), this._validationTl.kill()), this._cdTl && (this._cdTl.pause(), this._cdTl.kill())
                    }
                }, {
                    key: "_createTl",
                    value: function() {
                        var e = this;
                        this._cdTl = new TimelineMax({
                            paused: !0
                        }), this._validationTl = new TimelineMax({
                            paused: !0,
                            onComplete: function() {
                                e._addBodies(), e._state.actionIsActive = !1, e._signals.platform.powerDesactivated.dispatch(), e._signals.powers.setCooldown.dispatch(1), e._sounds.play("validate-click"), TweenMax.to(e._scene.camera, 1, {
                                    shakeSpeed: .05,
                                    ease: Expo.easeOut
                                }, 0), TweenMax.to(e._scene.camera, 1, {
                                    shakeFactor: 0,
                                    ease: Expo.easeOut
                                }, 0), e._cdTl.play(0)
                            }
                        }), this._activateTl = new TimelineMax({
                            paused: !0,
                            onStart: function() {
                                e.visible = !0
                            }
                        }), this._cdTl.to(this._rOpacities, 2, {
                            value: .6,
                            ease: RoughEase.ease.config({
                                template: Power0.easeNone,
                                strength: 1,
                                points: 50,
                                taper: "none",
                                randomize: !0,
                                clamp: !1
                            })
                        }, 3).to(this._rOpacities, 2, {
                            value: .3,
                            ease: RoughEase.ease.config({
                                template: Power0.easeNone,
                                strength: 2,
                                points: 50,
                                taper: "none",
                                randomize: !0,
                                clamp: !1
                            })
                        }, 5).to(this._rOpacities, 1, {
                            value: 1
                        }, 9).addCallback(function() {
                            e._desactivate()
                        }, 9.5), this._cdTl.timeScale((0, f.map)(10, 0, 7, 0, 1)), this._validationTl.to(this, .4, {
                            _shakeFactor: .5
                        }, 0).to(this, .2, {
                            _shakeFactor: 0
                        }, .4);
                        for (var t = 0, n = this._rocks.length; t < n; t++) {
                            var o = this._rocks[t],
                                r = o.basePos,
                                i = (0, f.randomFloat)(0, .7),
                                a = o.material.uniforms.uOpacity;
                            this._activateTl.to(a, .2, {
                                value: 1
                            }, 0).set(o.scale, {
                                x: 1e-5,
                                y: 1e-5,
                                z: 1e-5
                            }, 0).set(o.baseRot, {
                                x: (0, f.randomFloat)(-2, 2),
                                y: (0, f.randomFloat)(-5, 5),
                                z: (0, f.randomFloat)(-2, 2)
                            }, 0).set(o.offsetPos, {
                                x: 3 * r.x,
                                y: r.y - 1,
                                z: 3 * r.z
                            }, 0).to(o.scale, .5, {
                                x: 1,
                                y: 1,
                                z: 1,
                                ease: Expo.easeOut
                            }, i).to(o.baseRot, 1, {
                                x: 0,
                                y: 0,
                                z: 0,
                                ease: Elastic.easeOut.config(1)
                            }, i).to(o.offsetPos, 1, {
                                x: 0,
                                y: 0,
                                z: 0,
                                ease: Elastic.easeOut.config(.4)
                            }, i);
                            var s = (0, f.randomFloat)(0, .3);
                            this._validationTl.set(a, {
                                value: 0
                            }, 0).to(a, .3, {
                                value: 1
                            }, s)
                        }
                        this._activateTl.to(this._scene.camera, 1, {
                            shakeFactor: 1,
                            ease: Expo.easeOut
                        }, 0), this._activateTl.to(this._scene.camera, .4, {
                            shakeSpeed: .1,
                            ease: Expo.easeOut
                        }, 0), this._activateTl.addCallback(function() {
                            e._checkConstruct() || (e._sounds.play("error"), e._activateTl.pause(), e._desactivate(!1), e._signals.platform.powerDesactivated.dispatch())
                        }, .3), this._activateTl.timeScale(1);
                        var l = this._activateTl.totalDuration();
                        this._activateTl.addCallback(function() {
                            e._signals.character.power2SpritePlay.dispatch()
                        }, .8 * l), this._activateTl.addCallback(function() {
                            e._validationTl.play(0)
                        }, .8 * l)
                    }
                }, {
                    key: "_activate",
                    value: function() {
                        if (!this._state.actionIsActive && !this._scene.character.isDying) {
                            this._state.actionIsActive = !0;
                            var e = u.default.pool.get();
                            this._character.getWorldDirection(e).normalize(), this._basePos.copy(this._character.position), this._basePos.x -= 10.5 * e.x, this._basePos.y += 2.7, this._basePos.z -= 10.5 * e.z, this.position.copy(this._basePos);
                            for (var t = 0, n = this._rocks.length; t < n; t++) this._rocks[t].isActive = !1;
                            this._removeBodies(), this._signals.powers.enabled.dispatch(1), this._signals.platform.powerActivated.dispatch(), this._clearTls(), this._createTl(), this._activateTl.play(0), this._rockSound.play(0, 0), this._rockSound.fade(1, .5), this._checkConstruct(), e.release()
                        }
                    }
                }, {
                    key: "_desactivate",
                    value: function() {
                        var e = this,
                            t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                        this._state.actionIsActive = !1, this._rockSound.fade(0, .5), this._removeBodies(), this._desactivateTl && this._desactivateTl.kill(), this._signals.powers.disabled.dispatch(1), this._desactivateTl = new TimelineMax({
                            paused: !0,
                            onComplete: function() {
                                e.visible = !1
                            }
                        }), this._desactivateTl.to(this._scene.camera, .5, {
                            shakeFactor: 0,
                            ease: Expo.easeOut
                        }, 0);
                        for (var n = 0, o = this._rocks.length; n < o; n++) {
                            var r = this._rocks[n],
                                i = r.basePos,
                                a = (0, f.randomFloat)(0, .3),
                                s = r.material.uniforms.uOpacity;
                            this._desactivateTl.addCallback(function() {
                                t && e._activateTl.progress() > .5 && e._sounds.play("explosion")
                            }, a).to(r.scale, 1, {
                                x: 1e-5,
                                y: 1e-5,
                                z: 1e-5,
                                ease: Expo.easeOut
                            }, a).to(r.baseRot, 1, {
                                x: (0, f.randomFloat)(-10, 10),
                                y: (0, f.randomFloat)(-10, 10),
                                z: (0, f.randomFloat)(-10, 10),
                                ease: Expo.easeOut
                            }, a).to(r.offsetPos, 1, {
                                x: 5 * i.x,
                                y: i.x - 2,
                                z: 5 * i.z,
                                ease: Expo.easeOut
                            }, a).to(s, .6, {
                                value: 0
                            }, a)
                        }
                        this._desactivateTl.play(0)
                    }
                }, {
                    key: "_addBodies",
                    value: function() {
                        for (var e = 0, t = this._bodies.length; e < t; e++) {
                            var n = this._bodies[e];
                            n.added || (n.added = !0, this._world.add(n))
                        }
                    }
                }, {
                    key: "_removeBodies",
                    value: function() {
                        for (var e = 0, t = this._bodies.length; e < t; e++) {
                            var n = this._bodies[e];
                            n.added && (n.added = !1, this._world.remove(n))
                        }
                    }
                }, {
                    key: "_checkConstruct",
                    value: function() {
                        var e = !0,
                            t = u.default.pool.get();
                        t.copy(this.position).sub(this._character.position).normalize(), this._raycaster.set(this._character.position, t);
                        var n = this._scene.navMeshes,
                            o = this._raycaster.intersectObjects(n);
                        if (o.length)
                            for (var r = o[0], i = 0; i < o.length;) {
                                if (-1 === r.object.name.indexOf("platform") && r.distance < 8) {
                                    e = !1;
                                    break
                                }
                                i++
                            }
                        return t.release(), e
                    }
                }, {
                    key: "_inputDown",
                    value: function() {
                        this._isKeyDowned || this._state.powerCdActivated[1] || 1 !== this._state.currentPower || !this._character.isGrounded || (this._isKeyDowned = !0, this._activate())
                    }
                }, {
                    key: "_inputUp",
                    value: function() {
                        this._isKeyDowned && (this._isKeyDowned = !1, this._activateTl && this._activateTl.progress() < .8 && (this._activateTl.pause(), this._desactivate(), this._signals.platform.powerDesactivated.dispatch()))
                    }
                }, {
                    key: "_onCharCollide",
                    value: function(e) {
                        e.body.type
                    }
                }, {
                    key: "_onPowerAlmostdone",
                    value: function(e) {}
                }, {
                    key: "_onKeyDown",
                    value: function(e, t) {
                        "e" === t && this._inputDown()
                    }
                }, {
                    key: "_onKeyUp",
                    value: function(e, t) {
                        "e" === t && this._inputUp()
                    }
                }, {
                    key: "_onButtonDown",
                    value: function(e) {
                        "button_3" === e && this._inputDown()
                    }
                }, {
                    key: "_onButtonUp",
                    value: function(e) {
                        "button_3" === e && this._inputUp()
                    }
                }]) && h(n.prototype, o), t
            }()).prototype, "_onCharCollide", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onCharCollide"), r.prototype), y(r.prototype, "_onPowerAlmostdone", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPowerAlmostdone"), r.prototype), y(r.prototype, "_onKeyDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onKeyDown"), r.prototype), y(r.prototype, "_onKeyUp", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onKeyUp"), r.prototype), y(r.prototype, "_onButtonDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onButtonDown"), r.prototype), y(r.prototype, "_onButtonUp", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onButtonUp"), r.prototype), r);
        t.default = _, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#define SHADER_NAME Thunder\n\nattribute vec3 position;\nattribute vec2 uv;\nattribute vec3 normal;\n\nuniform mat4 modelMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform float uTime;\nuniform float uExplode;\n\n@import fogVertPars\n\nvoid main() {\n  vec4 worldPosition = modelMatrix * vec4(position, 1.0);\n  vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n\n  gl_Position = projectionMatrix * mvPosition;\n\n  vec3 dist = normal * uExplode * 10.;\n\n  gl_Position.x += dist.x;\n  gl_Position.y += dist.y;\n  gl_Position.z += dist.z;\n\n  @import fogVert\n}\n"
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = c(n(5)),
            a = c(n(14)),
            s = c(n(12)),
            l = c(n(58)),
            u = n(2);

        function c(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function f(e) {
            return (f = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function p(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function d(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var h = (d((r = function(e) {
            function t(e) {
                var n;
                return function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), (n = function(e, t) {
                    if (t && ("object" === f(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)))._character = e, n._material = new l.default, n._animations = e.animations, n._binded = !1, n.visible = !1, n._gravitateG = [], n._init(), n._bind(), n
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), n = t, (o = [{
                key: "destroy",
                value: function() {
                    (function e(t, n, o) {
                        null === t && (t = Function.prototype);
                        var r = Object.getOwnPropertyDescriptor(t, n);
                        if (void 0 === r) {
                            var i = Object.getPrototypeOf(t);
                            return null === i ? void 0 : e(i, n, o)
                        }
                        if ("value" in r) return r.value;
                        var a = r.get;
                        return void 0 !== a ? a.call(o) : void 0
                    })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._unbind()
                }
            }, {
                key: "update",
                value: function(e, t) {
                    for (var n = 0, o = this._gravitateG.length; n < o; n++) {
                        var r = this._gravitateG[n];
                        r.rotation.y = (r.rotation.y + .002 * e) % (2 * Math.PI)
                    }
                }
            }, {
                key: "_bind",
                value: function() {
                    this._binded || (this._binded = !0, a.default.downed.add(this._onKeyDown), s.default.buttonDowned.add(this._onButtonDown))
                }
            }, {
                key: "_unbind",
                value: function() {
                    this._binded && (a.default.downed.remove(this._onKeyDown), s.default.buttonDowned.remove(this._onButtonDown))
                }
            }, {
                key: "_createTl",
                value: function() {
                    var e = this,
                        t = this._lights.keyLight.shadow.camera.top,
                        n = this._lights.keyLight.shadow.mapSize.width;
                    this._dashTl = new TimelineMax({
                        paused: !0,
                        onStart: function() {
                            e.visible = !0
                        },
                        onComplete: function() {
                            e.visible = !1
                        }
                    }), this._dashTl.fromTo(this._material, .1, {
                        opacity: 0,
                        explode: .3
                    }, {
                        opacity: 1,
                        explode: 0
                    }, 0).to(this._character.materials, .1, {
                        opacity: 0
                    }, 0).to(this._character.scale, .1, {
                        x: 1.5,
                        y: 1.5,
                        z: 10,
                        ease: Expo.easeOut
                    }, 0).addCallback(function() {
                        e._lights.updateShadowCamera({
                            light: e._lights.keyLight,
                            height: 8,
                            width: 8,
                            mapSize: 1024
                        })
                    }, 0).to(this._character.scale, .1, {
                        x: 1,
                        y: 1,
                        z: 1,
                        ease: Expo.easeOut
                    }, .1).addCallback(function() {
                        e._lights.updateShadowCamera({
                            light: e._lights.keyLight,
                            height: t,
                            width: t,
                            mapSize: n
                        })
                    }, .2).to(this._material, 1.5, {
                        opacity: 0,
                        explode: .05,
                        ease: Expo.easeOut
                    }, .3).to(this._character.materials, .25, {
                        opacity: 1,
                        ease: RoughEase.ease.config({
                            template: Power0.easeNone,
                            strength: 2,
                            points: 50,
                            taper: "none",
                            randomize: !0,
                            clamp: !1
                        })
                    }, .1)
                }
            }, {
                key: "_init",
                value: function() {
                    for (var e = new THREE.Object3D, t = [new THREE.Vector3(-.5, .4, .4), new THREE.Vector3(.6, .6, .3), new THREE.Vector3(.4, -.4, -.6)], n = 0, o = t.length; n < o; n++) {
                        var r = new THREE.Mesh(new THREE.DodecahedronBufferGeometry(.1, 0), this._material);
                        r.position.copy(t[n]), r.basePos = r.position.clone(), r.offsetPos = new THREE.Vector3((0, u.randomFloat)(-100, 100), (0, u.randomFloat)(-100, 100), (0, u.randomFloat)(-100, 100)), r.speed = new THREE.Vector3((0, u.randomFloat)(.5, 1) * (0, u.randomSign)(), (0, u.randomFloat)(.5, 1) * (0, u.randomSign)(), (0, u.randomFloat)(.5, 1) * (0, u.randomSign)()), this._gravitateG.push(e), e.add(r), this.add(e), this._createTl()
                    }
                }
            }, {
                key: "_activate",
                value: function() {
                    var e = this;
                    this._state.actionIsActive || this._state.powerCdActivated[2] || this._scene.character.isDying || (this._animations.play("dash", .1), this._character.isWalking = !0, this._character.isDashing = !0, this._character._posAcceleration = -10, this._state.konamiIsActivated && (this._character._posAcceleration *= 2), this._dashTl.play(0), this._sounds.play("woosh-2"), this._signals.powers.enabled.dispatch(2), this._signals.powers.disabled.dispatch(2), this._signals.powers.setCooldown.dispatch(2), this._signals.character.dashed.dispatch(), TweenMax.delayedCall(.3, function() {
                        e._character.isDashing = !1, e._character.isDying || (e._character.isRunning ? e._animations.play("run", .2) : e._character.isWalking ? e._animations.play("walk", .2) : e._animations.play("idle", .3, .2))
                    }), TweenMax.delayedCall(.5, function() {
                        e._character._posAcceleration = 0
                    }))
                }
            }, {
                key: "_onKeyDown",
                value: function(e, t) {
                    "e" === t && 2 === this._state.currentPower && this._activate()
                }
            }, {
                key: "_onButtonDown",
                value: function(e) {
                    "button_3" === e && 2 === this._state.currentPower && this._activate()
                }
            }]) && p(n.prototype, o), t
        }()).prototype, "_onKeyDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onKeyDown"), r.prototype), d(r.prototype, "_onButtonDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onButtonDown"), r.prototype), r);
        t.default = h, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(145)) && o.__esModule ? o : {
        default: o
    };

    function i(e) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function a() {
        return (a = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }

    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var l = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === i(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, n))).defines = a({}, e.defines, {
                USE_DIFFUSE_MAP: !0,
                IS_HEAD: !0
            });
            var o = e._textures.get("level.textures.character.diffuse_head_neutral"),
                r = e._textures.get("level.textures.character.diffuse_head_sad"),
                s = e._textures.get("level.textures.character.diffuse_head_angry");
            return e.uniforms = a({}, e.uniforms, {
                uDiffuseMap: {
                    value: o
                },
                uDiffuseMapSad: {
                    value: r
                },
                uDiffuseMapAngry: {
                    value: s
                },
                uDiffuseMapEnable: {
                    value: 1
                },
                uDiffuseMapSadEnable: {
                    value: 0
                },
                uDiffuseMapAngryEnable: {
                    value: 0
                }
            }), e._toggle = {
                neutral: e.uniforms.uDiffuseMapEnable,
                sad: e.uniforms.uDiffuseMapSadEnable,
                angry: e.uniforms.uDiffuseMapAngryEnable
            }, e
        }
        var n, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, r.default), n = t, (o = [{
            key: "setExpression",
            value: function(e) {
                for (var t in this._toggle) this._toggle[t].value = 0;
                this._toggle[e].value = 1
            }
        }]) && s(n.prototype, o), t
    }();
    t.default = l, e.exports = t.default
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#define SHADER_NAME Toon\n\n@import common\n\n// Object\nuniform sampler2D uDiffuseMap;\n\n#ifdef IS_HEAD\n  uniform sampler2D uDiffuseMapSad;\n  uniform sampler2D uDiffuseMapAngry;\n  uniform float uDiffuseMapEnable;\n  uniform float uDiffuseMapSadEnable;\n  uniform float uDiffuseMapAngryEnable;\n#endif\n\n#ifdef IS_MOVABLE\n  uniform vec3 uMovableHighlightColor;\n  uniform float uMovableActivate;\n#endif\n\nuniform vec3 uDiffuseColor;\nuniform float uOpacity;\n\nuniform vec3 uSpecularColor;\nuniform float uSpecularShininess;\n\nuniform sampler2D uEmissiveMap;\nuniform sampler2D uGradientMap;\n\n// Common\nuniform vec3 uShadowColor;\nuniform float uShadowIntensity;\n\nuniform vec3 uNoise; // scale - intensity - mask\n\nuniform float uAmbientIntensity;\nuniform float uSkyIntensity;\nuniform float uSunIntensity;\nuniform vec3 uGroundColor;\nuniform vec3 uSkyColor;\nuniform vec3 uSunColor;\nuniform vec3 uSkyPosition;\nuniform vec3 uSunPosition;\n\nvarying vec3 vNormal;\nvarying vec3 vViewPosition;\n\n#ifdef USE_INSTANCES\n  varying float vInstanceOpacity;\n#endif\n\n#ifdef USE_COLOR\n  varying vec3 vColor;\n#endif\n\n#if defined(USE_DIFFUSE_MAP) || defined(USE_EMISSIVE_MAP) || defined(USE_AO_MAP) || defined(USE_NORMAL_MAP)\n\tvarying vec2 vUv;\n#endif\n\n@import fogFragPars\n@import lightsPars\n@import shadowmapFragPars\n@import waterFragPars\n@import enemyFragPars\n\n#ifdef USE_AO_MAP\n  uniform sampler2D uAmbientOcclusionMap;\n  uniform uAmbientOcclusionIntensity;\n#endif\n\n@import normalPars\n\nvoid main() {\n  ReflectedLight reflectedLight = ReflectedLight(vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));\n\n  vec3 normal = normalize(vNormal);\n  vec3 normalNP =  normalize(vNormal);\n\n  #if defined(USE_DIFFUSE_MAP) || defined(USE_EMISSIVE_MAP) || defined(USE_AO_MAP) || defined(USE_NORMAL_MAP)\n    vec2 uv = vUv;\n  #endif\n\n  @import waterFragNormal\n\n  // --- Normal map perturbation\n  @import normal\n\n  GeometricContext geometry;\n  geometry.position = -vViewPosition;\n  geometry.normal = normal;\n  geometry.normalNP = normalNP;\n  geometry.viewDir = normalize(vViewPosition);\n\n  AmbientIrradiance ambient;\n  ambient.intensity = uAmbientIntensity;\n  ambient.skyIntensity = uSkyIntensity;\n  ambient.sunIntensity = uSunIntensity;\n  ambient.groundColor = uGroundColor;\n  ambient.skyColor = uSkyColor;\n  ambient.sunColor = uSunColor;\n  ambient.skyPosition = uSkyPosition;\n  ambient.sunPosition = uSunPosition;\n\n  // --- Diffuse color/map\n  float opacity = uOpacity;\n  \n  #ifdef USE_INSTANCES\n    opacity = vInstanceOpacity;\n  #endif\n\n  vec4 diffuseColor = vec4(uDiffuseColor, opacity);\n  \n  // Vertex colors\n  #ifdef USE_COLOR\n    diffuseColor.rgb *= vColor;\n  #endif\n\n  // Diffuse map\n  #ifdef USE_DIFFUSE_MAP\n    diffuseColor *= texture2D(uDiffuseMap, uv);\n  #endif\n\n  // Head expressions\n  #ifdef IS_HEAD\n    diffuseColor = diffuseColor * uDiffuseMapEnable;\n    diffuseColor += texture2D(uDiffuseMapSad, uv) * uDiffuseMapSadEnable;\n    diffuseColor += texture2D(uDiffuseMapAngry, uv) * uDiffuseMapAngryEnable;\n  #endif\n\n  \n  @import enemyFrag\n  @import waterFragColor\n  \n  // --- Emissive color\n  #ifdef USE_EMISSIVE_MAP\n    vec4 emissiveColor = texture2D(uEmissiveMap, uv);\n    reflectedLight.emissive *= emissiveColor.rgb;\n  #endif\n\n  ToonMaterial material;\n  material.diffuseColor = diffuseColor.rgb;\n  material.specularColor = uSpecularColor;\n  material.specularShininess = uSpecularShininess;\n\n  // --- Lights accumulation\n  IncidentLight directLight;\n\n  indirectDiffuseToon(geometry, material, ambient, reflectedLight);\n\n  #if NUM_DIR_LIGHTS > 0\n    DirectionalLight directionalLight;\n\n    #pragma unroll_loop\n    for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n      directionalLight = directionalLights[ i ];\n\n      directLight.color = directionalLight.color;\n      directLight.direction = directionalLight.direction;\n      directLight.visible = true;\n\n      if( directLight.color != vec3(0.0) )\n        directDiffuseToon( directLight, geometry, material, reflectedLight );\n    }\n  #endif\n\n  // --- Shadow\n  float shadowMask = min(1.0 - getShadowMask(), uShadowIntensity);\n  vec3 shadow = mix(vec3(1.0), uShadowColor, shadowMask);\n  reflectedLight.indirectDiffuse *= shadow;\n\n  // --- Ambient occlusion\n  #ifdef USE_AO_MAP\n    float ambientOcclusion = (texture2D(uAmbientOcclusionMap, uv).r - 1.0) * uAmbientOcclusionIntensity + 1.0;\n    reflectedLight.indirectDiffuse *= ambientOcclusion;\n  #endif\n\n  vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.emissive;\n\n  #ifdef IS_MOVABLE\n    float progressVariation =\n      sin(uTime * .005) + \n      sin(uTime * .002 + 2.7) + \n      cos(uTime * .004 + 1.2);\n    progressVariation = progressVariation / 3.; // average\n    progressVariation = (progressVariation + 1.) / 2.; // normalise\n\n    outgoingLight = mix(outgoingLight, uMovableHighlightColor, min(uMovableActivate + .1, 1.) * progressVariation - .2);\n  #endif\n\n  gl_FragColor = vec4(outgoingLight, diffuseColor.a);\n\n  // --- Fog\n  @import fogFrag\n}\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#define SHADER_NAME Toon\n\n#ifdef USE_INSTANCES\n  mat3 quatToMat_1_0(vec4 q) {\n  mat3 mat;\n\n  float sqw = q.w * q.w;\n  float sqx = q.x * q.x;\n  float sqy = q.y * q.y;\n  float sqz = q.z * q.z;\n  \n  // invs (inverse square length) is only required if quaternion is not already normalised\n  float invs = 1.0 / (sqx + sqy + sqz + sqw);\n  mat[0][0] = ( sqx - sqy - sqz + sqw) * invs; // since sqw + sqx + sqy + sqz =1/invs*invs\n  mat[1][1] = (-sqx + sqy - sqz + sqw) * invs;\n  mat[2][2] = (-sqx - sqy + sqz + sqw) * invs;\n  \n  float tmp1 = q.x * q.y;\n  float tmp2 = q.z * q.w;\n  mat[1][0] = 2.0 * (tmp1 + tmp2) * invs;\n  mat[0][1] = 2.0 * (tmp1 - tmp2) * invs;\n  \n  tmp1 = q.x * q.z;\n  tmp2 = q.y * q.w;\n  mat[2][0] = 2.0 * (tmp1 - tmp2) * invs;\n  mat[0][2] = 2.0 * (tmp1 + tmp2) * invs;\n  tmp1 = q.y * q.z;\n  tmp2 = q.x * q.w;\n  mat[2][1] = 2.0 * (tmp1 + tmp2) * invs;\n  mat[1][2] = 2.0 * (tmp1 - tmp2) * invs;\n\n  return mat;\n}\n\n\n\n#endif\n\n@import shadowmapVertPars\n@import skinningVertPars\n\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nattribute vec3 color;\n\n#ifdef USE_INSTANCES\n  attribute float id;\n  attribute vec4 instancePosition;\n  attribute vec3 instanceScale;\n  attribute vec4 instanceOrientation;\n\n  varying float vInstanceOpacity;\n#endif\n\nuniform mat4 modelMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat3 normalMatrix;\nuniform float uTime;\n\n#ifdef IS_CHARACTER\n  uniform float uExplode;\n#endif\n\n#if defined(USE_DIFFUSE_MAP) || defined(USE_EMISSIVE_MAP) || defined(USE_AO_MAP) || defined(USE_NORMAL_MAP)\n  uniform mat3 uvTransform;\n#endif\n\nvarying vec3 vNormal;\nvarying vec3 vViewPosition;\n\n#ifdef USE_COLOR\n  varying vec3 vColor;\n#endif\n\n#if defined(USE_DIFFUSE_MAP) || defined(USE_EMISSIVE_MAP) || defined(USE_AO_MAP) || defined(USE_NORMAL_MAP)\n\tvarying vec2 vUv;\n#endif\n\n@import fogVertPars\n\nvoid main() {\n  vec3 transformed = position;\n  vec3 objectNormal = normal;\n  vec2 objectUv = uv;\n\n  @import skinningVertBase\n  @import skinningVert\n  @import skinningVertNormal\n\n  @import waterVert\n\n  #ifdef USE_INSTANCES\n    mat3 orientation = quatToMat_1_0(instanceOrientation);\n\n    transformed *= instanceScale;\n    transformed *= orientation;\n    transformed += instancePosition.xyz;\n\n    objectNormal *= instanceScale;\n    objectNormal *= orientation;\n\n    vInstanceOpacity = instancePosition.w;\n  #endif\n\n  vec4 mvPosition = modelViewMatrix * vec4(transformed, 1.0);\n  vec4 worldPosition = modelMatrix * vec4(transformed, 1.0);\n\n  @import shadowmapVert\n\n  gl_Position = projectionMatrix * mvPosition;\n\n  vNormal = normalize(normalMatrix * objectNormal);\n  vViewPosition = -mvPosition.xyz;\n\n  #ifdef IS_CHARACTER\n    vec3 dist = vNormal * uExplode * 10.;\n    gl_Position.x += dist.x;\n    gl_Position.y += dist.y;\n    gl_Position.z += dist.z;\n  #endif\n\n  #ifdef USE_COLOR\n    vColor = color;\n  #endif\n\n  #if defined(USE_DIFFUSE_MAP) || defined(USE_EMISSIVE_MAP) || defined(USE_AO_MAP) || defined(USE_NORMAL_MAP)\n    vUv = (uvTransform * vec3(objectUv, 1.0)).xy;\n  #endif\n\n  @import fogVert\n}\n"
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i, a = (r = n(15)) && r.__esModule ? r : {
                default: r
            },
            s = n(2),
            l = n(3);

        function u(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function c(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var f = (0, l.getLogger)("CharacterAnimations", l.INFO, !1),
            p = (0, l.getLogger)("CharacterAnimations", l.ERROR, !0),
            d = (c((i = function() {
                function e(t, n, o) {
                    ! function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, e), this._character = t, this.mixer = new THREE.AnimationMixer(n), this.clipsArray = o, this.clips = {}, this.actionsArray = [], this.actions = {}, this.previousAnimation = null, this.currentAnimation = null, this.idleIndex = 0, this.idles = ["bored_idle", "sad_idle_01", "sad_idle_02"], this.loopAnimations = ["bored_idle", "sad_idle_01", "sad_idle_02", "run", "walk", "spell_01", "falling"], this.lockAnimations = ["jump", "jump_02", "spell_02", "death_electrocute", "dash"], this._angryAnimations = ["jump", "jump_02", "spell_01", "spell_02", "death_electrocute"], this._sadAnimations = ["sad_idle_01", "sad_idle_02"], this.excludeAnimations = [], this.mixer.addEventListener("loop", this._handleLoop), this.mixer.addEventListener("finished", this._handleFinish);
                    for (var r = 0, i = o.length; r < i; r++) {
                        var s = o[r],
                            l = s.name.toLowerCase();
                        if (l = l.replace("armature_", ""), s.name = l, "tpose" !== l) {
                            this.clips[l] = s;
                            var u = this.mixer.clipAction(s);
                            u.enabled = !0, u.setEffectiveTimeScale(1), u.setEffectiveWeight(0), -1 === this.loopAnimations.indexOf(l) && (u.loop = THREE.LoopOnce), this.lockAnimations.indexOf(l) > -1 && (u.clampWhenFinished = !0), u.play(), u.name = l, this.actionsArray.push(u), this.actions[l] = u
                        }
                    }
                    this.looped = new a.default, this.finished = new a.default
                }
                var t, n;
                return t = e, (n = [{
                    key: "play",
                    value: function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : .5,
                            n = arguments.length > 2 ? arguments[2] : void 0;
                        if ("idle" === e && (this.idleIndex = (0, s.randomInt)(0, this.idles.length - 1), e = this.idles[this.idleIndex]), this.clips[e]) {
                            if (this.previousAnimation !== this.currentAnimation && -1 === this.excludeAnimations.indexOf(e) && (this.previousAnimation = this.currentAnimation), this.currentAnimation = e, this.previousAnimation !== this.currentAnimation) {
                                if (this.previousAnimation) {
                                    var o = this.actions[this.previousAnimation],
                                        r = this.actions[this.currentAnimation];
                                    f("From '".concat(this.previousAnimation, "' to '").concat(this.currentAnimation, "'")), r.setEffectiveTimeScale(1), r.setEffectiveWeight(1), r.enabled = !0, r.paused = !0, r.time = 0, r.reset(), o.fadeOut(n || t), r.fadeIn(t)
                                } else {
                                    var i = this.actions[this.currentAnimation];
                                    i.setEffectiveWeight(1), i.play()
                                }
                                this._sadAnimations.indexOf(e) > -1 ? this._character.headMaterial.setExpression("sad") : this._angryAnimations.indexOf(e) > -1 ? this._character.headMaterial.setExpression("angry") : this._character.headMaterial.setExpression("neutral")
                            }
                        } else p("Animation '".concat(e, "' does not exist"))
                    }
                }, {
                    key: "playPrevious",
                    value: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : .5;
                        this.play(this.previousAnimation, e)
                    }
                }, {
                    key: "update",
                    value: function(e, t) {
                        this.mixer.update(e)
                    }
                }, {
                    key: "_handleLoop",
                    value: function(e) {
                        var t = e.action.name;
                        if (this.looped.dispatch(e), t === this.currentAnimation && this.idles.indexOf(this.currentAnimation) > -1 && 3 === (0, s.randomInt)(1, 3) && t.match(/idle/g)) {
                            var n = this.idles[(0, s.randomInt)(0, this.idles.length - 1)];
                            this.play(n, 1)
                        }
                    }
                }, {
                    key: "_handleFinish",
                    value: function(e) {
                        this.finished.dispatch(e)
                    }
                }]) && u(t.prototype, n), e
            }()).prototype, "update", [o], Object.getOwnPropertyDescriptor(i.prototype, "update"), i.prototype), c(i.prototype, "_handleLoop", [o], Object.getOwnPropertyDescriptor(i.prototype, "_handleLoop"), i.prototype), c(i.prototype, "_handleFinish", [o], Object.getOwnPropertyDescriptor(i.prototype, "_handleFinish"), i.prototype), i);
        t.default = d, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = n(2),
            a = y(n(5)),
            s = y(n(14)),
            l = y(n(12)),
            u = y(n(326)),
            c = y(n(145)),
            f = y(n(323)),
            p = y(n(23)),
            d = y(n(322)),
            h = n(6);

        function y(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function v(e) {
            return (v = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function _(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function m(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var g = new CANNON.Quaternion,
            b = (new THREE.Vector3(1, 0, 0), {
                baseMoveAnimationRatio: 1.25,
                moveAnimationRatio: 1.25,
                inAirPosMaxSpeed: 3.8,
                groundedPosMaxSpeed: 3.5,
                jumpImpulse: 2,
                heightLimit: -30
            }),
            w = ["sigh", "want-beer", "happened-to-me", "just-want-to-go-home"],
            x = (m((r = function(e) {
                function t() {
                    var e;
                    return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t), (e = function(e, t) {
                        if (t && ("object" === v(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this))).lastCharReset = Date.now(), e.isDashing = !1, e._baseGravity = e._world.gravity.clone(), e._posSpeed = .03, e._jumpSpeedFactor = 1.2, e._baseSpeedMax = .2, e._posSmoothness = .1, e._posSpeedMax = e._baseSpeedMax, e._rotSmoothness = 1, e._coords = null, e._wasWalking = !1, e._isWalking = !1, e._wasRunning = !1, e._isRunning = !1, e._isGrounded = !0, e._isJumping = !1, e._isFalling = !1, e._isDying = !1, e._speedFactor = 1, e._wasGrounded = !1, e._jumpImpulse = b.jumpImpulse, e._jumpNow = Date.now(), e._canPlayFallenSprite = !1, e._sameIntersectNow = 0, e.dyingNow = Date.now(), e._goundedDistance = 1.9, e._jumpType = null, e._canPlayMoveAnimation = !0, e._canJump = !0, e._lastHeightDistance = 0, e._resetSequenceIndex = 0, e._posAcceleration = 0, e._rotAcceleration = 0, e._posAccelerationTgt = 0, e._rotAccelerationTgt = 0, e._jumpBtnDowned = !1, e._runningEnabled = !1, e._cEuler = new CANNON.Vec3, e._keysDowned = !1, e._raycaster = e._context.raycaster, e._interactiveEntitiesCtrl = e._scene.interactiveEntitiesCtrl, e._canFall = "level-2" !== e._scene.name, e._walkingSound = e._sounds.get("walking"), e._walkingSound.play(), e._init(), e
                }
                var n, o;
                return function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }(t, a.default), n = t, (o = [{
                    key: "createGUI",
                    value: function() {
                        this._guiFolder = this._gui.addFolder("Character"), this._guiFolder.add(b, "moveAnimationRatio").min(0).max(2).step(.001), this._guiFolder.add(this._walkingSound, "playbackRate").min(0).max(2).step(.001)
                    }
                }, {
                    key: "setPosition",
                    value: function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 20;
                        this.body.position.copy(e), this.body.position.y += t, this._sync()
                    }
                }, {
                    key: "setDirection",
                    value: function(e) {
                        this._rotAcceleration = this._rotAccelerationTgt = Math.PI / 2 - e
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        clearTimeout(this._charResetTimeout),
                            function e(t, n, o) {
                                null === t && (t = Function.prototype);
                                var r = Object.getOwnPropertyDescriptor(t, n);
                                if (void 0 === r) {
                                    var i = Object.getPrototypeOf(t);
                                    return null === i ? void 0 : e(i, n, o)
                                }
                                if ("value" in r) return r.value;
                                var a = r.get;
                                return void 0 !== a ? a.call(o) : void 0
                            }(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._unbind(), this._walkingSound.stop(), this._dashPower && this._dashPower.destroy()
                    }
                }, {
                    key: "_bind",
                    value: function() {
                        s.default.downed.add(this._onKeyDown), s.default.upped.add(this._onKeyUp), l.default.buttonDowned.add(this._onButtonDown), l.default.buttonUpped.add(this._onButtonUp), this._signals.interactiveEntities.activated.add(this._onInteractiveEntityActivate), this._signals.interactiveEntities.desactivated.add(this._onInteractiveEntityDesactivate), this._signals.platform.powerActivated.add(this._onPlateformActivate), this._signals.platform.powerDesactivated.add(this._onPlateformDesactivate), this._signals.enemy.laserHit.add(this._onLaserHit), this._signals.thunder.hit.add(this._onThunderHit), this._signals.water.death.add(this._onWaterDeath), this._signals.pause.hidden.add(this._onPauseHidden), this._world.addEventListener("preStep", this._onPreStep), this._world.addEventListener("postStep", this._onPostStep), this.body.addEventListener("collide", this._onBodyCollide), this._signals.konami.toggle.add(this._onKonamiToggle)
                    }
                }, {
                    key: "_unbind",
                    value: function() {
                        s.default.downed.remove(this._onKeyDown), s.default.upped.remove(this._onKeyUp), l.default.buttonDowned.remove(this._onButtonDown), l.default.buttonUpped.remove(this._onButtonUp), this._signals.interactiveEntities.activated.remove(this._onInteractiveEntityActivate), this._signals.interactiveEntities.desactivated.remove(this._onInteractiveEntityDesactivate), this._signals.platform.powerActivated.remove(this._onPlateformActivate), this._signals.platform.powerDesactivated.remove(this._onPlateformDesactivate), this._signals.enemy.laserHit.remove(this._onLaserHit), this._signals.thunder.hit.remove(this._onThunderHit), this._signals.water.death.remove(this._onWaterDeath), this._signals.pause.hidden.remove(this._onPauseHidden), this._world.removeEventListener("preStep", this._onPreStep), this._world.removeEventListener("postStep", this._onPostStep), this.body.removeEventListener("collide", this._onBodyCollide), this._signals.konami.toggle.remove(this._onKonamiToggle)
                    }
                }, {
                    key: "_init",
                    value: function() {
                        var e = this._gltf.getAsset("character");
                        this.obj = e.scene.children[0], this.obj.scale.multiplyScalar(1.7), this.obj.position.z = .18, this.obj.position.y = -1.5;
                        var t = this._textures.get("level.textures.character.diffuse_body"),
                            n = new c.default({
                                name: "character_body",
                                diffuseMap: t,
                                skinning: !0
                            }),
                            o = new f.default({
                                name: "character_head",
                                skinning: !0
                            });
                        this.bodyMaterial = n, this.headMaterial = o, this.materials = [n, o], this.obj.traverse(function(e) {
                            "body" === e.name ? (e.material = n, e.name = "character_body", e.renderOrder = -1) : "head" === e.name && (e.material = o, e.name = "character_head", e.renderOrder = -2), e instanceof THREE.SkinnedMesh && (e.castShadow = !0, e.receiveShadow = !0)
                        }), this.add(this.obj), this.animations = new u.default(this, this.obj, e.animations), this.animations.play("idle", .3), this._dashPower = new d.default(this), this.add(this._dashPower), this.body = new CANNON.Body({
                            mass: 70,
                            shape: new CANNON.Sphere(1.5),
                            material: this._pMaterials.character,
                            angularDamping: 0,
                            linearDamping: 0,
                            collisionFilterGroup: this._physics.group.character,
                            collisionFilterMask: this._physics.group.terrain | this._physics.group.rock2
                        }), this.obj.baseRot = this.obj.rotation.clone(), this.addBody(), this.hitBox = new THREE.Mesh(new THREE.BoxBufferGeometry(1.6, 3, 1.6), this._materials.debugMaterial), this.hitBox.visible = !1, this.hitBox.name = "hit-box", this.add(this.hitBox), this.movableHitbox = new THREE.Mesh(new THREE.BoxBufferGeometry(4, 10, 4), this._materials.debugMaterial), this.movableHitbox.visible = !1, this.movableHitbox.name = "movable-hit-box", this.add(this.movableHitbox), this._bind()
                    }
                }, {
                    key: "_sync",
                    value: function() {
                        this.position.copy(this.body.position), this.quaternion.copy(this.body.quaternion)
                    }
                }, {
                    key: "_resetInputs",
                    value: function() {
                        this.isDashing = !1, this._isRunning = !1, this._wasRunning = !1, this._isWalking = !1, this._wasWalking = !1, this._isJumping = !1
                    }
                }, {
                    key: "_accelerate",
                    value: function() {
                        if (this._state.actionIsActive) this.body.velocity.x = 0, this.body.velocity.z = 0;
                        else {
                            this.body.quaternion.toEuler(this._cEuler), this._coords = (0, i.polarToCartesian)(this._posAcceleration, this._cEuler.y);
                            var e = this._isJumping ? 1.1 : 1;
                            this.body.velocity.x = this._coords.y * e, this.body.velocity.z = this._coords.x * e
                        }
                    }
                }, {
                    key: "_rotate",
                    value: function() {
                        g.setFromAxisAngle(p.default.Y_UP.c, this._rotAcceleration), this.body.quaternion.copy(g)
                    }
                }, {
                    key: "_groundedTest",
                    value: function() {
                        this._raycaster.set(this.position, p.default.Y_DOWN);
                        var e = this._scene.navMeshes;
                        this._intersects = this._raycaster.intersectObjects(e);
                        var t, n, o, r = this._intersects.length;
                        r && (this._intersect !== this._intersects[0] && (this._sameIntersectNow = Date.now(), this._firstSameIntersectDistance = this._intersects[0].distance), this._intersect = this._intersects[0], t = this._intersect.distance, this._intersect.object.bbox && (t -= this._intersect.object.bbox.y / 2), n = "jumpable-plane" === (o = this._intersect.object.name) || "jumpable-rock" === o || o.indexOf("props_platform") > -1);
                        var i = Date.now() - this._sameIntersectNow;
                        if (!this._isDying && this._intersect && (!r || this.position.y - this._intersect.point.y > 6 && i > 100) && (this._canPlayMoveAnimation = !1, this._isFalling = !0, this.animations.play("falling", .4), this.position.y - this._intersect.point.y > 10 && (this._canPlayFallenSprite = !0)), r && this._isJumping) {
                            var a = Date.now() - this._jumpNow,
                                s = "in-place" === this._jumpType ? 1.7 : 1.5;
                            (!this._isFalling && this._lastHeightDistance > t && t > s && t < 5 && a > 1e3 || a > 4e3) && this._resetAfterFall(n), this._lastHeightDistance = t
                        } else this._lastHeightDistance = -1e4;
                        r && t < this._goundedDistance ? (this._isGrounded = !0, this._isFalling && !this._isDying && this._onFallingDone(n)) : this._state.powerCdActivated[1] && "platform-plane" === o && t < 2.9 ? (this._isGrounded = !0, this._isFalling && !this._isDying && this._onFallingDone(!0)) : this._isGrounded = !1, this._wasGrounded = this._isGrounded
                    }
                }, {
                    key: "_jump",
                    value: function() {
                        var e = this;
                        this._state.actionIsActive && !this._state.powerCdActivated[1] || this._isDying || this._isGrounded && this._canJump && (this._jumpNow = Date.now(), this._canJump = !1, this._canPlayMoveAnimation = !1, this._canPlayFallenSprite = !0, this._isJumping = !0, this._jumpAnimation(), this._sounds.play("jump-".concat((0, i.randomInt)(0, 2))), setTimeout(function() {
                            e._canJump = !0
                        }, 500))
                    }
                }, {
                    key: "_resetAfterFall",
                    value: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        this._canPlayMoveAnimation = !0, this._isJumping = !1, e || (this._world.gravity.y = this._baseGravity.y), this._triggerMoveAnimationInAir(), TweenMax.to(this.obj.rotation, .1, {
                            x: this.obj.baseRot.x,
                            z: this.obj.baseRot.z
                        })
                    }
                }, {
                    key: "_defineSpeed",
                    value: function() {
                        var e = l.default.isDown("shoulder_bottom_right");
                        this._runningEnabled = !s.default.isDown("shift") && !e && this._isWalking, this._runningEnabled ? (this._speedFactor = 1, e && (this._speedFactor = e + .3), this._isRunning = !0) : (this._isRunning = !1, this._speedFactor = 1, this._posSpeedMax = this._baseSpeedMax), this._isGrounded ? this._runningEnabled ? this._posSpeedMax = this._baseSpeedMax * b.groundedPosMaxSpeed : this._posSpeedMax = this._baseSpeedMax : this._posSpeedMax = this._baseSpeedMax * b.inAirPosMaxSpeed, this._state.konamiIsActivated ? this._posSpeedMax = 1.5 * b.moveAnimationRatio : this._posSpeedMax *= b.moveAnimationRatio, this._speedFactor *= b.moveAnimationRatio, this._isJumping && (this._speedFactor *= this._jumpSpeedFactor)
                    }
                }, {
                    key: "_updatePosition",
                    value: function(e) {
                        this._state.actionIsActive || (this._state.konamiIsActivated && (e *= 100), this._posAccelerationTgt += -e, this._posAccelerationTgt = (0, i.clamp)(this._posAccelerationTgt, -this._posSpeedMax, this._posSpeedMax))
                    }
                }, {
                    key: "_processMoveInputs",
                    value: function() {
                        if (!this._state.actionIsActive && !this._isDying) {
                            var e = 0,
                                t = 0,
                                n = !1;
                            if (l.default.joystickLeftIsMoving) e = l.default.joystickLeft.x, t = l.default.joystickLeft.y, n = !0, b.moveAnimationRatio = b.baseMoveAnimationRatio, (this._state.konamiIsActivated || this._state.gamepadDebugMode) && (l.default.isDown("shoulder_top_left") && (b.moveAnimationRatio = 3), l.default.isDown("stick_button_right") && (this.body.velocity.y += .25, b.moveAnimationRatio = 6));
                            else {
                                var o = s.default.isDown("up") || l.default.isDown("d_pad_up"),
                                    r = s.default.isDown("down") || l.default.isDown("d_pad_down"),
                                    i = s.default.isDown("left") || l.default.isDown("d_pad_left"),
                                    a = s.default.isDown("right") || l.default.isDown("d_pad_right");
                                this._keysDowned = o || i || a || r, n = this._keysDowned, i ? e = -1 : a && (e = 1), o ? t = -1 : r && (t = 1)
                            }
                            if (this.isDashing && !n && (n = !0, t = -1), n) {
                                var u = -Math.atan2(t, e);
                                this._isWalking = !0, this._updatePosition(this._posSpeed * this._speedFactor), this._rotAccelerationTgt = u - this._scene.camera.cameraAngle
                            }
                        }
                    }
                }, {
                    key: "_triggerMoveAnimations",
                    value: function() {
                        this._state.actionIsActive || !this._canPlayMoveAnimation || this._isDying || (!this._isWalking && this._wasWalking ? this.animations.play("idle", .5) : !this._isRunning && this._wasRunning && this._isWalking && this.animations.play("walk", .5), !this._isWalking || this._wasWalking || this._isRunning || this.animations.play("walk", .5), this._isRunning && !this._wasRunning && this._isWalking && this.animations.play("run", .5))
                    }
                }, {
                    key: "_triggerMoveAnimationInAir",
                    value: function() {
                        if (!this._isDying) {
                            var e = Date.now() - this._jumpNow;
                            this._canPlayFallenSprite && e > 300 && this._signals.character.fallen.dispatch(this._intersect), this._canPlayFallenSprite = !1, this._isRunning ? this.animations.play("run", .3) : this._isWalking ? this.animations.play("walk", .3) : this.animations.play("idle", .5, .3)
                        }
                    }
                }, {
                    key: "_jumpAnimation",
                    value: function() {
                        var e = this;
                        clearTimeout(this._jumpTimeout), this._world.gravity.y = -.4, this._isWalking || this._isWalking ? (this._isRunning ? this.animations.play("falling", .6, 0) : this.animations.play("falling", 1.2, .8), this._jumpType = "moving", this._jumpTimeout = setTimeout(function() {
                            TweenMax.fromTo(e.obj.rotation, .2, {
                                x: "-=0.015",
                                z: "+=0.015"
                            }, {
                                x: "+=0.015",
                                z: "-=0.015",
                                repeat: -1,
                                yoyo: !0,
                                ease: Power0.easeNone
                            }), TweenMax.to(e.body.velocity, .3, {
                                y: e._jumpImpulse,
                                ease: Power0.easeNone
                            })
                        }, 100)) : (this.animations.play("jump_02", .3, 0), this._jumpType = "in-place", TweenMax.to(this.obj.position, .2, {
                            y: -1.5,
                            ease: Power0.easeNone
                        }), this._jumpTimeout = setTimeout(function() {
                            TweenMax.to(e.body.velocity, .2, {
                                y: e._jumpImpulse,
                                ease: Power0.easeNone
                            }), TweenMax.to(e.obj.position, .1, {
                                y: -1.5,
                                delay: .3,
                                ease: Power0.easeNone
                            })
                        }, 400))
                    }
                }, {
                    key: "_laserHit",
                    value: function() {
                        var e = this;
                        this._isDying || (this._isDying = !0, this.dyingNow = Date.now(), this._canPlayMoveAnimation = !1, this._isWalking = !1, this._keysDowned = !1, this._updatePosition(0), this.animations.play("death_electrocute", .3), this._signals.postPass.vignetteAnimation.dispatch(3, 40, 2, "out"), this._sounds.play("electrocution"), this._sounds.play("laser-hit"), setTimeout(function() {
                            setTimeout(function() {
                                e._sounds.play("loser")
                            }, 1e3)
                        }, 1700), this._charResetTimeout = setTimeout(function() {
                            e._charReset("laser")
                        }, 3e3))
                    }
                }, {
                    key: "_waterDeath",
                    value: function() {
                        var e = this;
                        this._isDying || (this._isDying = !0, this.dyingNow = Date.now(), this._updatePosition(0), this._charResetTimeout = setTimeout(function() {
                            e._charReset("water")
                        }, 3e3))
                    }
                }, {
                    key: "_onKeyDown",
                    value: function(e, t) {
                        this._state.actionIsActive || this._state.pauseDisplayed || "space" !== t || this._jumpBtnDowned || (this._jumpBtnDowned = !0, this._jump())
                    }
                }, {
                    key: "_onKeyUp",
                    value: function(e, t) {
                        "space" !== t || this._state.pauseDisplayed || (this._jumpBtnDowned = !1)
                    }
                }, {
                    key: "_onButtonDown",
                    value: function(e) {
                        this._state.actionIsActive || this._state.pauseDisplayed || this._jumpBtnDowned || "button_1" !== e || (this._jumpBtnDowned = !0, this._jump())
                    }
                }, {
                    key: "_onButtonUp",
                    value: function(e) {
                        this._state.actionIsActive || this._state.pauseDisplayed || "button_1" === e && (this._jumpBtnDowned = !1)
                    }
                }, {
                    key: "_onInteractiveEntityActivate",
                    value: function(e) {
                        this._state.isUsingPower = !0, this._signals.powers.enabled.dispatch(0), this.animations.play("spell_01", .3)
                    }
                }, {
                    key: "_onInteractiveEntityDesactivate",
                    value: function() {
                        this._state.isUsingPower = !1, this._signals.powers.disabled.dispatch(0), this._signals.powers.setCooldown.dispatch(0), this.animations.play("idle", .3)
                    }
                }, {
                    key: "_onPlateformActivate",
                    value: function() {
                        this._resetInputs(), this._state.isUsingPower = !0, this.animations.play("spell_02", .3)
                    }
                }, {
                    key: "_onPlateformDesactivate",
                    value: function() {
                        this._state.isUsingPower = !1, this.animations.play("idle", .3)
                    }
                }, {
                    key: "_onLaserHit",
                    value: function() {
                        this._isDying || (this._laserHit(), this._signals.bigMsg.showLaserDeath.dispatch(2.5), (0, h.event)("character", "character-laser-hit"))
                    }
                }, {
                    key: "_onThunderHit",
                    value: function() {
                        this._isDying || (this._laserHit(), this._signals.bigMsg.showThunderDeath.dispatch(2.5), (0, h.event)("character", "character-thunder-hit"))
                    }
                }, {
                    key: "_onWaterDeath",
                    value: function() {
                        this._isDying || (this._waterDeath(), this._signals.postPass.vignetteAnimation.dispatch(3, 200, 0, "out"), this._signals.bigMsg.showWaterDeath.dispatch(0), (0, h.event)("character", "character-water-death"))
                    }
                }, {
                    key: "_onPauseHidden",
                    value: function() {}
                }, {
                    key: "_onPreStep",
                    value: function() {
                        l.default.joystickLeftIsMoving || this._keysDowned || !this._isGrounded || this.isDashing || (this.body.velocity.x *= .001, this.body.velocity.z *= .001)
                    }
                }, {
                    key: "_onPostStep",
                    value: function() {}
                }, {
                    key: "_onBodyCollide",
                    value: function(e) {
                        this._isJumping || (this._signals.character.collided.dispatch(e), this._world.gravity.y = this._baseGravity.y)
                    }
                }, {
                    key: "_onKonamiToggle",
                    value: function() {
                        TweenMax.to(this.obj.scale, 2, {
                            x: .05,
                            y: .05,
                            z: .05,
                            ease: SteppedEase.config(12)
                        }), this._posSpeedMax = 1e3, this._jumpImpulse *= 1.3
                    }
                }, {
                    key: "_charReset",
                    value: function(e) {
                        var t = this;
                        clearTimeout(this._charResetTimeout), this._isDying = !1, this.lastCharReset = Date.now(), this.body.velocity.set(0, -.001, 0), this.body.angularVelocity.set(0, 0, 0), this._signals.character.reseted.dispatch(), this.animations.play("idle", .4), this._state.actionIsActive = !0, TweenMax.delayedCall(2, function() {
                            TweenMax.to(t.obj.rotation, .1, {
                                x: t.obj.baseRot.x,
                                z: t.obj.baseRot.z
                            }), t._canPlayMoveAnimation = !0, t._triggerMoveAnimationInAir(), t._resetSequenceIndex = (0, i.modAbs)(t._resetSequenceIndex + 1, w.length), "fall" === e ? TweenMax.delayedCall(2.5, function() {
                                t._state.actionIsActive = !1
                            }) : "laser" === e ? TweenMax.delayedCall(.3, function() {
                                t._state.actionIsActive = !1
                            }) : t._state.actionIsActive = !1, TweenMax.delayedCall(3, function() {
                                t._sounds.play(w[t._resetSequenceIndex])
                            })
                        }), (0, h.event)("character", "character-reset")
                    }
                }, {
                    key: "_onFallingDone",
                    value: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        TweenMax.to(this.obj.rotation, .1, {
                            x: this.obj.baseRot.x,
                            z: this.obj.baseRot.z
                        }), this._isFalling = !1, this._canPlayMoveAnimation = !0, this._isJumping = !1, e || (this._world.gravity.y = this._baseGravity.y), this._triggerMoveAnimationInAir()
                    }
                }, {
                    key: "update",
                    value: function(e, t) {
                        var n = this;
                        if (this.body) {
                            this._posAcceleration += (this._posAccelerationTgt - this._posAcceleration) * this._posSmoothness, this._rotAcceleration = (0, i.lerpAngle)(this._rotAcceleration, this._rotAccelerationTgt, .1), this._groundedTest(), this._defineSpeed(), this._isWalking = !1, this._processMoveInputs(), this._triggerMoveAnimations(), this._wasWalking = this._isWalking, this._wasRunning = this._isRunning;
                            var o = this._interactiveEntitiesCtrl.activeEntity;
                            if (this._state.actionIsActive && o && o.mesh) {
                                var r = Math.atan2(this.position.x - o.mesh.position.x, this.position.z - o.mesh.position.z);
                                this._posAccelerationTgt = 0, this._rotAccelerationTgt = r
                            }
                            l.default.joystickLeftIsMoving || this._keysDowned || (this._posAccelerationTgt = 0), this._isDying && this._isFalling || (this._rotate(), this._accelerate()), this.body.position.y > 100 && (this.body.position.y = 100), this._sync(), this._dashPower && this._dashPower.update(e, t), this.animations.update(e / 1e3 * this._speedFactor, t), this.body.position.y < b.heightLimit && this._canFall && !this._isDying && (this._signals.postPass.vignetteAnimation.dispatch(3, 200, 0, "out"), this._signals.bigMsg.showFallDeath.dispatch(0), this._sounds.play("scream"), setTimeout(function() {
                                n._sounds.play("loser")
                            }, 1e3), this._charReset("fall"), (0, h.event)("character", "character-fall")), this._walkingSound.volume = 0, this._isGrounded && !this.isDashing && (this._isRunning ? (this._walkingSound.volume = .6, this._walkingSound.playbackRate = 1.44) : this._isWalking && (this._walkingSound.volume = .5, this._walkingSound.playbackRate = .866))
                        }
                    }
                }, {
                    key: "isGrounded",
                    get: function() {
                        return this._isGrounded
                    },
                    set: function(e) {
                        this._isGrounded = e
                    }
                }, {
                    key: "isDying",
                    get: function() {
                        return this._isDying
                    },
                    set: function(e) {
                        this._isDying = e
                    }
                }, {
                    key: "isWalking",
                    get: function() {
                        return this._isWalking
                    },
                    set: function(e) {
                        this._isWalking = e
                    }
                }, {
                    key: "isRunning",
                    get: function() {
                        return this._isRunning
                    },
                    set: function(e) {
                        this._isRunning = e
                    }
                }, {
                    key: "posAcceleration",
                    get: function() {
                        return this._posAcceleration
                    },
                    set: function(e) {
                        this._posAcceleration = e
                    }
                }]) && _(n.prototype, o), t
            }()).prototype, "_onKeyDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onKeyDown"), r.prototype), m(r.prototype, "_onKeyUp", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onKeyUp"), r.prototype), m(r.prototype, "_onButtonDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onButtonDown"), r.prototype), m(r.prototype, "_onButtonUp", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onButtonUp"), r.prototype), m(r.prototype, "_onInteractiveEntityActivate", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onInteractiveEntityActivate"), r.prototype), m(r.prototype, "_onInteractiveEntityDesactivate", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onInteractiveEntityDesactivate"), r.prototype), m(r.prototype, "_onPlateformActivate", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPlateformActivate"), r.prototype), m(r.prototype, "_onPlateformDesactivate", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPlateformDesactivate"), r.prototype), m(r.prototype, "_onLaserHit", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onLaserHit"), r.prototype), m(r.prototype, "_onThunderHit", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onThunderHit"), r.prototype), m(r.prototype, "_onWaterDeath", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onWaterDeath"), r.prototype), m(r.prototype, "_onPauseHidden", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPauseHidden"), r.prototype), m(r.prototype, "_onPreStep", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPreStep"), r.prototype), m(r.prototype, "_onPostStep", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPostStep"), r.prototype), m(r.prototype, "_onBodyCollide", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onBodyCollide"), r.prototype), m(r.prototype, "_onKonamiToggle", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onKonamiToggle"), r.prototype), m(r.prototype, "_charReset", [o], Object.getOwnPropertyDescriptor(r.prototype, "_charReset"), r.prototype), m(r.prototype, "update", [o], Object.getOwnPropertyDescriptor(r.prototype, "update"), r.prototype), r);
        t.default = x, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";

    function o(e, t) {
        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : new Map,
            r = n.get(e);
        if (r) return r;
        if (Array.isArray(e)) {
            var i = [];
            n.set(e, i);
            for (var a = 0; a < e.length; a++) i[a] = o(e[a], t, n);
            return i
        }
        if (e instanceof Date) return new Date(e.valueOf());
        if (!(e instanceof Object)) return e;
        var s = {};
        n.set(e, s);
        for (var l = Object.keys(e), u = 0; u < l.length; u++) s[t ? t(l[u]) : l[u]] = o(e[l[u]], t, n);
        return s
    }

    function r(e) {
        return function(t) {
            return o(t, e)
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = o, t.formatKeys = r, o.formatKeys = r
}, function(e, t, n) {
    e.exports = n(328).default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = s(n(329)),
        r = s(n(184)),
        i = s(n(51)),
        a = s(n(65));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function l(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var u = {
            mapsWhitelist: ["diffuseMap", "emissiveMap", "gradientMap", "ambientOcclusionMap", "normalMap"]
        },
        c = function() {
            function e(t) {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this._scene = t, this._materials = new r.default, this._textures = i.default, this._config = a.default[t.name], this._defaultConfig = (0, o.default)(this._config), this._fogEnabled = !0
            }
            var t, n;
            return t = e, (n = [{
                key: "setMaterials",
                value: function() {
                    var e = this,
                        t = this._config.common;
                    for (var n in t) {
                        var o = t[n];
                        "background" === n ? this._scene.background = new THREE.Color(o) : this.setAllProperties(n, o)
                    }
                    var r = this._config.objects,
                        i = function(t) {
                            var n = r[t];
                            e._materials.set.forEach(function(o) {
                                if (o.name === t)
                                    for (var r in n) {
                                        var i = n[r];
                                        if (-1 !== u.mapsWhitelist.indexOf(r)) {
                                            var a = i.split("."),
                                                s = a[0],
                                                l = a[1],
                                                c = r.replace(/map/gi, ""),
                                                f = e._textures.get("".concat(s, ".textures.").concat(l, ".").concat(c), {
                                                    wrapping: THREE.RepeatWrapping
                                                });
                                            f.name = i, o[r] = f
                                        } else o[r] = i
                                    }
                            })
                        };
                    for (var a in r) i(a)
                }
            }, {
                key: "add",
                value: function(e) {
                    this._materials.add(e)
                }
            }, {
                key: "get",
                value: function(e) {
                    var t = [];
                    return this._materials.set.forEach(function(n) {
                        n.name === e && t.push(n)
                    }), t
                }
            }, {
                key: "setAllProperties",
                value: function(e, t) {
                    this._materials.set.forEach(function(n) {
                        n[e] = t
                    })
                }
            }, {
                key: "setAllUniforms",
                value: function(e, t) {
                    this._materials.set.forEach(function(n) {
                        n.uniforms[e] && (n.uniforms[e].value = t)
                    })
                }
            }, {
                key: "setAllUniformsComponent",
                value: function(e, t, n) {
                    this._materials.set.forEach(function(o) {
                        o.uniforms[e] && (o.uniforms[e].value[t] = n)
                    })
                }
            }, {
                key: "toggleFog",
                value: function() {
                    this._fogEnabled ? (this.defaultConfig.common.fog = this._config.common.fog, this.setAllProperties("fog", {
                        distance: {
                            density: 0
                        },
                        height: {
                            density: 0
                        }
                    })) : this.setAllProperties("fog", this.defaultConfig.common.fog), this._fogEnabled = !this._fogEnabled
                }
            }, {
                key: "update",
                value: function(e, t) {
                    this._materials.set.forEach(function(n) {
                        n.update(e, t)
                    })
                }
            }, {
                key: "defaultConfig",
                get: function() {
                    return this._defaultConfig
                }
            }, {
                key: "materials",
                get: function() {
                    return this._materials.set
                }
            }, {
                key: "fogEnabled",
                get: function() {
                    return this._fogEnabled
                },
                set: function(e) {
                    this._fogEnabled = e
                }
            }]) && l(t.prototype, n), e
        }();
    t.default = c, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = d(n(11)),
            a = d(n(69)),
            s = d(n(4)),
            l = d(n(49)),
            u = d(n(61)),
            c = d(n(95)),
            f = d(n(37)),
            p = n(6);

        function d(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function h(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var y, v, _, m, g, b, w = new THREE.Vector3,
            x = (y = (r = function() {
                function e() {
                    ! function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, e), this._scene = i.default.scene, this._gltf = u.default, this._save = a.default, this._signals = s.default, this._sounds = l.default, this._character = this._scene.character, this._currentCheckpointIndex = -1, this._spawnPoint = null, this._endPoint = null, this._ended = !1, this._checkpoints = [], this._guiFolder = null, this._debugGeom = new THREE.SphereBufferGeometry(1), this._debugGroup = new THREE.Object3D, this._scene.add(this._debugGroup), this._bind(), this._create(), this._init()
                }
                var t, n;
                return t = e, (n = [{
                    key: "destroy",
                    value: function() {
                        this._unbind(), this._spawnPoint = null, this._endPoint = null, this._checkpoints = null, this._debugGeom.dispose()
                    }
                }, {
                    key: "update",
                    value: function(e, t) {
                        if (this._character) {
                            var n = this._character.position,
                                o = this._endPoint;
                            if (!this._ended && o && o.box.containsPoint(n)) {
                                this._ended = !0;
                                var r = this._save.nextLevelName;
                                r && (this._signals.postPass.vignetteAnimation.dispatch(3, 200, 0, "out"), this._sounds.play("woosh-2"), this._save.set("".concat(r, ".checkpoint"), -1), setTimeout(function() {
                                    f.default.navigate("/level/".concat(r))
                                }, 1e3))
                            }
                            for (var i = this._currentCheckpointIndex + 1, a = this._checkpoints.length; i < a; i++) {
                                var s = this._checkpoints[i].box;
                                if (s && s.containsPoint(n)) {
                                    this._currentCheckpointIndex = i, this._signals.checkpoint.show.dispatch(i), i > this.lastCheckpointIndex && (this._save.set("".concat(this._scene.name, ".checkpoint"), i), this._sounds.play("helper"), (0, p.event)("checkpoint", "checkpoint-".concat(this._scene.name, "-").concat(i)));
                                    break
                                }
                            }
                        }
                    }
                }, {
                    key: "tpTo",
                    value: function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10;
                        this._character.setPosition(e.position, t), this._setDirection(e.rotation)
                    }
                }, {
                    key: "_bind",
                    value: function() {
                        this._signals.character.reseted.add(this._onCharacterReset)
                    }
                }, {
                    key: "_unbind",
                    value: function() {
                        this._signals.character.reseted.remove(this._onCharacterReset)
                    }
                }, {
                    key: "_create",
                    value: function() {
                        var e = this._gltf.getObject("terrain", "points_checkpoints"),
                            t = this._gltf.getObject("terrain", "points_spawn"),
                            n = this._gltf.getObject("terrain", "points_end");
                        if (this._spawnPoint = t, this._createDebugPointSphere(t), n) {
                            this._endPoint = n;
                            var o = this._createPointBox(n);
                            this._endPoint.box = o
                        }
                        if (e)
                            for (var r = e.children, i = 0, a = r.length; i < a; i++) {
                                var s = r[i].name,
                                    l = this._gltf.getObject("terrain", "".concat(s, "_direction")),
                                    u = this._gltf.getObject("terrain", "".concat(s, "_box")),
                                    c = l.position,
                                    f = l.rotation,
                                    p = this._createPointBox(u);
                                this._checkpoints.push({
                                    position: c,
                                    rotation: f,
                                    box: p
                                })
                            }
                    }
                }, {
                    key: "_init",
                    value: function() {
                        var e, t = this.lastCheckpointIndex,
                            n = this._checkpoints[t];
                        e = t >= 0 && n ? n : this._spawnPoint, this.tpTo(e), this._currentCheckpointIndex = t
                    }
                }, {
                    key: "_setDirection",
                    value: function(e) {
                        var t = e.z - Math.PI / 2;
                        this._scene.gameCamera.direction = t, this._scene.character.setDirection(t)
                    }
                }, {
                    key: "_createPointBox",
                    value: function(e) {
                        var t = e.position,
                            n = e.scale,
                            o = new THREE.Box3;
                        return o.set(w, w), o.expandByVector(new THREE.Vector3(n.x, n.y, n.z)), o.translate(t), this._createDebugPointBox(o), o
                    }
                }, {
                    key: "_createDebugPointBox",
                    value: function(e) {
                        var t = new THREE.Box3Helper(e, 16776960);
                        t.name = "boxHelper", t.visible = !1, this._scene.add(t)
                    }
                }, {
                    key: "_createDebugPointSphere",
                    value: function(e) {
                        var t = new THREE.Mesh(this._debugGeom, c.default.debugMaterial);
                        t.name = "PointHelper", t.visible = !1, t.position.copy(e.position), t.scale.multiplyScalar(e.scale.x), this._debugGroup.add(t)
                    }
                }, {
                    key: "_onCharacterReset",
                    value: function() {
                        var e, t = this._checkpoints[this.lastCheckpointIndex];
                        e = this.lastCheckpointIndex >= 0 && t ? this._checkpoints[this.lastCheckpointIndex] : this._spawnPoint, this.tpTo(e)
                    }
                }, {
                    key: "checkpoints",
                    get: function() {
                        return this._checkpoints
                    }
                }, {
                    key: "spawnPoint",
                    get: function() {
                        return this._spawnPoint
                    }
                }, {
                    key: "endPoint",
                    get: function() {
                        return this._endPoint
                    }
                }, {
                    key: "currentCheckpointIndex",
                    get: function() {
                        return this._currentCheckpointIndex
                    }
                }, {
                    key: "lastCheckpointIndex",
                    get: function() {
                        return parseInt(this._save.get("".concat(this._scene.name, ".checkpoint")), 10)
                    }
                }]) && h(t.prototype, n), e
            }()).prototype, v = "_onCharacterReset", _ = [o], m = Object.getOwnPropertyDescriptor(r.prototype, "_onCharacterReset"), g = r.prototype, b = {}, Object.keys(m).forEach(function(e) {
                b[e] = m[e]
            }), b.enumerable = !!b.enumerable, b.configurable = !!b.configurable, ("value" in b || b.initializer) && (b.writable = !0), b = _.slice().reverse().reduce(function(e, t) {
                return t(y, v, e) || e
            }, b), g && void 0 !== b.initializer && (b.value = b.initializer ? b.initializer.call(g) : void 0, b.initializer = void 0), void 0 === b.initializer && (Object.defineProperty(y, v, b), b = null), r);
        t.default = x, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = u(n(20)),
            a = u(n(4)),
            s = u(n(14)),
            l = u(n(12));

        function u(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function c(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function f(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var p = (f((r = function() {
            function e(t) {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this._scene = t, this._lastActivatedEntity = null, this.closestInteractive = null, this.lastCloseInteractive = null, this.entities = [], this._binded = !1, this.bind()
            }
            var t, n;
            return t = e, (n = [{
                key: "add",
                value: function(e) {
                    this.entities.push(e)
                }
            }, {
                key: "update",
                value: function(e, t) {
                    for (var n = 0, o = this.entities.length; n < o; n++) {
                        var r = this.entities[n];
                        r.update(e, t), this.closestInteractive = null, r.isInteractive && r.distance <= 1 / 0 && (this.closestInteractive = r)
                    }
                }
            }, {
                key: "bind",
                value: function() {
                    this._binded || (this._binded = !0, s.default.downed.add(this._onKeyDown), l.default.buttonDowned.add(this._onButtonDown))
                }
            }, {
                key: "unbind",
                value: function() {
                    this._binded && (s.default.downed.remove(this._onKeyDown), l.default.buttonDowned.remove(this._onButtonDown))
                }
            }, {
                key: "destroy",
                value: function() {
                    this.unbind()
                }
            }, {
                key: "_activate",
                value: function() {
                    var e = this;
                    if (this._scene.character.isGrounded) {
                        for (var t = null, n = 0, o = this.entities.length; n < o; n++) {
                            var r = this.entities[n];
                            r.isInteractive && (t && r.distance < t.distance || !t) && (t = r)
                        }
                        t && t.activate() && (i.default.actionIsActive = !0, this._lastActivatedEntity = t, a.default.interactiveEntities.activated.dispatch(t), TweenMax.to(this._scene.camera, 1, {
                            fov: 85,
                            shakeFactor: 1,
                            ease: Elastic.easeOut.config(.7),
                            onUpdate: function() {
                                e._scene.camera.updateProjectionMatrix()
                            }
                        }))
                    }
                }
            }, {
                key: "_desactivate",
                value: function() {
                    for (var e = this, t = 0, n = this.entities.length; t < n; t++) this.entities[t].desactivate();
                    i.default.actionIsActive = !1, a.default.interactiveEntities.desactivated.dispatch(this._lastActivatedEntity), TweenMax.to(this._scene.camera, .7, {
                        fov: 60,
                        shakeFactor: 0,
                        ease: Expo.easeOut,
                        onUpdate: function() {
                            e._scene.camera.updateProjectionMatrix()
                        }
                    })
                }
            }, {
                key: "_toggleEntities",
                value: function() {
                    i.default.pauseDisplayed || (this.isActive ? this._desactivate() : this._activate())
                }
            }, {
                key: "_onKeyDown",
                value: function(e, t) {
                    "e" === t && 0 === i.default.currentPower && this._toggleEntities()
                }
            }, {
                key: "_onButtonDown",
                value: function(e) {
                    "button_3" === e && this._toggleEntities()
                }
            }, {
                key: "isActive",
                get: function() {
                    for (var e = 0, t = this.entities.length; e < t; e++)
                        if (this.entities[e].isActive) return !0;
                    return !1
                }
            }, {
                key: "activeEntity",
                get: function() {
                    for (var e = 0, t = this.entities.length; e < t; e++) {
                        var n = this.entities[e];
                        if (n.isActive) return n
                    }
                    return null
                }
            }]) && c(t.prototype, n), e
        }()).prototype, "_onKeyDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onKeyDown"), r.prototype), f(r.prototype, "_onButtonDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onButtonDown"), r.prototype), r);
        t.default = p, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(156)) && o.__esModule ? o : {
            default: o
        },
        i = function(e, t, n) {
            n = n || {}, this.scene = e, this.world = t, this._meshes = [], this._material = new r.default({
                color: 16715775,
                wireframe: !0,
                depthTest: !1,
                depthWrite: !1,
                transparent: !0,
                opacity: .3
            }), this._sphereGeometry = new THREE.SphereGeometry(1), this._boxGeometry = new THREE.BoxGeometry(1, 1, 1), this._planeGeometry = new THREE.PlaneGeometry(10, 10, 10, 10), this._cylinderGeometry = new THREE.CylinderGeometry(1, 1, 10, 10)
        };
    i.prototype = {
        tmpVec0: new CANNON.Vec3,
        tmpVec1: new CANNON.Vec3,
        tmpVec2: new CANNON.Vec3,
        tmpQuat0: new CANNON.Vec3,
        update: function() {
            for (var e = this.world.bodies, t = this._meshes, n = this.tmpVec0, o = this.tmpQuat0, r = 0, i = 0; i !== e.length; i++)
                for (var a = e[i], s = 0; s !== a.shapes.length; s++) {
                    var l = a.shapes[s];
                    this._updateMesh(r, a, l), (u = t[r]) && (a.quaternion.vmult(a.shapeOffsets[s], n), a.position.vadd(n, n), a.quaternion.mult(a.shapeOrientations[s], o), u.position.copy(n), u.quaternion.copy(o)), r++
                }
            for (i = r; i < t.length; i++) {
                var u;
                (u = t[i]) && this.scene.remove(u)
            }
            t.length = r
        },
        _updateMesh: function(e, t, n) {
            var o = this._meshes[e];
            this._typeMatch(o, n) || (o && this.scene.remove(o), o = this._meshes[e] = this._createMesh(n)), this._scaleMesh(o, n)
        },
        _typeMatch: function(e, t) {
            if (!e) return !1;
            var n = e.geometry;
            return n instanceof THREE.SphereGeometry && t instanceof CANNON.Sphere || n instanceof THREE.BoxGeometry && t instanceof CANNON.Box || n instanceof THREE.PlaneGeometry && t instanceof CANNON.Plane || n.id === t.geometryId && t instanceof CANNON.ConvexPolyhedron || n.id === t.geometryId && t instanceof CANNON.Trimesh || n.id === t.geometryId && t instanceof CANNON.Heightfield
        },
        _createMesh: function(e) {
            var t, n = this._material;
            switch (e.type) {
                case CANNON.Shape.types.SPHERE:
                    t = new THREE.Mesh(this._sphereGeometry, n);
                    break;
                case CANNON.Shape.types.BOX:
                    t = new THREE.Mesh(this._boxGeometry, n);
                    break;
                case CANNON.Shape.types.CONVEXPOLYHEDRON:
                    for (var o = new THREE.Geometry, r = 0; r < e.vertices.length; r++) {
                        var i = e.vertices[r];
                        o.vertices.push(new THREE.Vector3(i.x, i.y, i.z))
                    }
                    for (r = 0; r < e.faces.length; r++)
                        for (var a = e.faces[r], s = a[0], l = 1; l < a.length - 1; l++) {
                            var u = a[l],
                                c = a[l + 1];
                            o.faces.push(new THREE.Face3(s, u, c))
                        }
                    o.computeBoundingSphere(), o.computeFaceNormals(), t = new THREE.Mesh(o, n), e.geometryId = o.id;
                    break;
                case CANNON.Shape.types.TRIMESH:
                    var f = new THREE.Geometry,
                        p = this.tmpVec0,
                        d = this.tmpVec1,
                        h = this.tmpVec2;
                    for (r = 0; r < e.indices.length / 3; r++) e.getTriangleVertices(r, p, d, h), f.vertices.push(new THREE.Vector3(p.x, p.y, p.z), new THREE.Vector3(d.x, d.y, d.z), new THREE.Vector3(h.x, h.y, h.z)), l = f.vertices.length - 3, f.faces.push(new THREE.Face3(l, l + 1, l + 2));
                    f.computeBoundingSphere(), f.computeFaceNormals(), t = new THREE.Mesh(f, n), e.geometryId = f.id;
                    break;
                case CANNON.Shape.types.HEIGHTFIELD:
                    f = new THREE.Geometry, p = this.tmpVec0, d = this.tmpVec1, h = this.tmpVec2;
                    for (var y = 0; y < e.data.length - 1; y++)
                        for (var v = 0; v < e.data[y].length - 1; v++)
                            for (var _ = 0; _ < 2; _++) e.getConvexTrianglePillar(y, v, 0 === _), p.copy(e.pillarConvex.vertices[0]), d.copy(e.pillarConvex.vertices[1]), h.copy(e.pillarConvex.vertices[2]), p.vadd(e.pillarOffset, p), d.vadd(e.pillarOffset, d), h.vadd(e.pillarOffset, h), f.vertices.push(new THREE.Vector3(p.x, p.y, p.z), new THREE.Vector3(d.x, d.y, d.z), new THREE.Vector3(h.x, h.y, h.z)), r = f.vertices.length - 3, f.faces.push(new THREE.Face3(r, r + 1, r + 2));
                    f.computeBoundingSphere(), f.computeFaceNormals(), t = new THREE.Mesh(f, n), e.geometryId = f.id
            }
            return t && this.scene.add(t), t
        },
        _scaleMesh: function(e, t) {
            switch (t.type) {
                case CANNON.Shape.types.SPHERE:
                    var n = t.radius;
                    e.scale.set(n, n, n);
                    break;
                case CANNON.Shape.types.BOX:
                    e.scale.copy(t.halfExtents), e.scale.multiplyScalar(2);
                    break;
                case CANNON.Shape.types.CONVEXPOLYHEDRON:
                    e.scale.set(1, 1, 1);
                    break;
                case CANNON.Shape.types.TRIMESH:
                    e.scale.copy(t.scale);
                    break;
                case CANNON.Shape.types.HEIGHTFIELD:
                    e.scale.set(1, 1, 1)
            }
        }
    };
    var a = i;
    t.default = a, e.exports = t.default
}, function(e, t) {
    "object" == typeof e && (e.exports = function() {
        var e = Date.now(),
            t = e,
            n = 0,
            o = 1 / 0,
            r = 0,
            i = 0,
            a = 1 / 0,
            s = 0,
            l = 0,
            u = 0,
            c = document.createElement("div");
        c.id = "stats", c.addEventListener("mousedown", function(e) {
            e.preventDefault(), m(++u % 2)
        }, !1), c.style.cssText = "width:80px;opacity:0.9;cursor:pointer";
        var f = document.createElement("div");
        f.id = "fps", f.style.cssText = "padding:0 0 3px 3px;text-align:left;background-color:#002", c.appendChild(f);
        var p = document.createElement("div");
        p.id = "fpsText", p.style.cssText = "color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px", p.innerHTML = "FPS", f.appendChild(p);
        var d = document.createElement("div");
        for (d.id = "fpsGraph", d.style.cssText = "position:relative;width:74px;height:30px;background-color:#0ff", f.appendChild(d); 74 > d.children.length;) {
            var h = document.createElement("span");
            h.style.cssText = "width:1px;height:30px;float:left;background-color:#113", d.appendChild(h)
        }
        var y = document.createElement("div");
        y.id = "ms", y.style.cssText = "padding:0 0 3px 3px;text-align:left;background-color:#020;display:none", c.appendChild(y);
        var v = document.createElement("div");
        v.id = "msText", v.style.cssText = "color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px", v.innerHTML = "MS", y.appendChild(v);
        var _ = document.createElement("div");
        for (_.id = "msGraph", _.style.cssText = "position:relative;width:74px;height:30px;background-color:#0f0", y.appendChild(_); 74 > _.children.length;)(h = document.createElement("span")).style.cssText = "width:1px;height:30px;float:left;background-color:#131", _.appendChild(h);
        var m = function(e) {
            switch (u = e) {
                case 0:
                    f.style.display = "block", y.style.display = "none";
                    break;
                case 1:
                    f.style.display = "none", y.style.display = "block"
            }
        };
        return {
            REVISION: 12,
            domElement: c,
            setMode: m,
            begin: function() {
                e = Date.now()
            },
            end: function() {
                var u = Date.now();
                n = u - e, o = Math.min(o, n), r = Math.max(r, n), v.textContent = n + " MS (" + o + "-" + r + ")";
                var c = Math.min(30, 30 - n / 200 * 30);
                return _.appendChild(_.firstChild).style.height = c + "px", l++, u > t + 1e3 && (i = Math.round(1e3 * l / (u - t)), a = Math.min(a, i), s = Math.max(s, i), p.textContent = i + " FPS (" + a + "-" + s + ")", c = Math.min(30, 30 - i / 100 * 30), d.appendChild(d.firstChild).style.height = c + "px", t = u, l = 0), u
            },
            update: function() {
                e = this.end()
            }
        }
    })
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = y(n(192)),
            a = y(n(334)),
            s = y(n(20)),
            l = y(n(11)),
            u = y(n(17)),
            c = y(n(35)),
            f = y(n(14)),
            p = y(n(4)),
            d = y(n(333)),
            h = n(6);

        function y(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function v() {
            return (v = Object.assign || function(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = arguments[t];
                    for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
                }
                return e
            }).apply(this, arguments)
        }

        function _(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function m(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var g = (m((r = function() {
            function e() {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this._state = s.default, this._gui = u.default, this._renderer = l.default.renderer, this._postProcessing = this._renderer.postProcessing, this._scene = l.default.scene, this._name = this._scene.name, this._lsName = this._name + "_debug", this._character = this._scene.character, this._signals = p.default, this._world = this._scene.physics.world, this._guiFolder = null, this.baseConfig = {
                    stats: !1,
                    helpers: !1,
                    ctrlClickToTp: !0,
                    debugInfos: !1,
                    gamepadDebugMode: !1,
                    savedCharPos: {
                        x: 0,
                        y: 0,
                        z: 0
                    }
                };
                var t = i.default.getItem(this._lsName);
                this.config = t ? v({}, this.baseConfig, JSON.parse(t)) : this.baseConfig, this.raycaster = new THREE.Raycaster, this.config.stats && this._createStats(), this.config.helpers && this._toggleHelpers(this.config.helpers), this._state.gamepadDebugMode = this.config.gamepadDebugMode, this._createGUI(), this._createCannonDebugger(), this._bind()
            }
            var t, n;
            return t = e, (n = [{
                key: "preUpdate",
                value: function(e, t) {
                    this.config.stats && this.stats.begin()
                }
            }, {
                key: "postUpdate",
                value: function(e, t) {
                    this.config.stats && this.stats.end()
                }
            }, {
                key: "update",
                value: function(e, t) {
                    this._state.cannonDebugMode && this.cannonDebugger.update()
                }
            }, {
                key: "destroy",
                value: function() {
                    this._unbind(), this._destroyGUI()
                }
            }, {
                key: "_bind",
                value: function() {
                    f.default.upped.add(this._onKeyUp), c.default.downed.add(this._onPointerDown)
                }
            }, {
                key: "_unbind",
                value: function() {
                    f.default.upped.remove(this._onKeyUp), c.default.downed.remove(this._onPointerDown)
                }
            }, {
                key: "_createStats",
                value: function() {
                    this.stats = new a.default, document.body.appendChild(this.stats.domElement), this.statsInitialized = !0
                }
            }, {
                key: "_createCannonDebugger",
                value: function() {
                    this.cannonDebugger = new d.default(this._scene, this._world), this.cannonDebuggerInitialized = !0
                }
            }, {
                key: "_toggleHelpers",
                value: function(e) {
                    var t = this;
                    this._scene.traverse(function(n) {
                        -1 !== n.name.toLowerCase().search("helper") && t._scene.camera && t._scene.camera.helper !== n && (n.visible = e)
                    })
                }
            }, {
                key: "_togglePostProcessing",
                value: function() {
                    this._postProcessing.enabled = !this._postProcessing.enabled, (0, h.event)("debug", "debug-post-processing", this._postProcessing.enabled)
                }
            }, {
                key: "_toggleFog",
                value: function() {
                    this._scene.materialCtrl.toggleFog(), (0, h.event)("debug", "debug-fog", this._scene.materialCtrl.fogEnabled)
                }
            }, {
                key: "_createGUI",
                value: function() {
                    var e = this;
                    this._guiFolder = this._gui.addFolder("DebugCtrl"), this._guiFolder.add(this.config, "stats").name("stats").onChange(function() {
                        e.statsInitialized || e._createStats(), e.stats.domElement.classList.toggle("hide", !e.config.stats), e._log("stats: ".concat(e.config.stats))
                    }), this._guiFolder.add(this.config, "ctrlClickToTp").name("ctrlClickToTp").onChange(function() {
                        e._log("ctrlClickToTp: ".concat(e.config.ctrlClickToTp))
                    }), this._helpersGui = this._guiFolder.add(this.config, "helpers").name("helpers").onChange(function(t) {
                        e._toggleHelpers(t), e._log("helpers: ".concat(e.config.helpers))
                    }), this._guiFolder.add(this.config, "gamepadDebugMode").name("gamepadDebugMode").onChange(function(t) {
                        e._state.gamepadDebugMode = t, e._log("gamepadDebugMode: ".concat(e.config.gamepadDebugMode))
                    }), this._guiFolder.add(this, "_saveCharPos").name("save char pos"), this._guiFolder.add(this, "_setCharPos").name("set char pos"), this._guiFolder.add(this, "_resetConfig").name("reset config").onChange(function() {
                        e._log("Reset config")
                    }), this._guiFolder.add(this, "_saveConfig").name("save config").onChange(function() {
                        e._log("Save config")
                    }), this.guiInitialized = !0
                }
            }, {
                key: "_destroyGUI",
                value: function() {
                    this._guiFolder && this._gui.removeFolder(this._guiFolder)
                }
            }, {
                key: "_resetConfig",
                value: function() {
                    this.config = this.baseConfig, this._saveConfig()
                }
            }, {
                key: "_saveConfig",
                value: function() {
                    i.default.setItem(this._lsName, JSON.stringify(this.config))
                }
            }, {
                key: "_log",
                value: function(e) {
                    this._signals.toastMsg.log.dispatch("debug", "#DebugCtrl - " + e)
                }
            }, {
                key: "_toggleCannonDebugger",
                value: function(e) {
                    this._state.cannonDebugMode = void 0 === e ? !this._state.cannonDebugMode : e, e = this._state.cannonDebugMode;
                    for (var t = 0, n = this.cannonDebugger._meshes.length; t < n; t++) {
                        var o = this.cannonDebugger._meshes[t];
                        o && (o.visible = e)
                    }(0, h.event)("debug", "debug-cannon", e)
                }
            }, {
                key: "_saveCharPos",
                value: function() {
                    this.config.savedCharPos.x = this._character.body.position.x, this.config.savedCharPos.y = this._character.body.position.y, this.config.savedCharPos.z = this._character.body.position.z, this._log("Char pos saved to key ~");
                    var e = i.default.getItem(this._lsName);
                    e ? ((e = JSON.parse(e)).savedCharPos = this.config.savedCharPos, i.default.setItem(this._lsName, JSON.stringify(e))) : this._saveConfig(), (0, h.event)("debug", "debug-save-char-pos")
                }
            }, {
                key: "_setCharPos",
                value: function() {
                    var e = this.config.savedCharPos,
                        t = e.x,
                        n = e.y,
                        o = e.z;
                    this._character.setPosition({
                        x: t,
                        y: n,
                        z: o
                    }, 10), this._log("Set char position"), (0, h.event)("debug", "debug-set-char-pos")
                }
            }, {
                key: "_tpToProgression",
                value: function(e) {
                    var t = e,
                        n = this._scene.progressionCtrl,
                        o = n.checkpoints,
                        r = o[t - 1];
                    if (!(isNaN(t) || t - 1 >= o.length)) {
                        var i = n.spawnPoint;
                        t > 0 && r && (i = r), n.tpTo(i), this._log("Teleported to ".concat(t > 0 ? "checkpoint #".concat(t) : "spawn point")), (0, h.event)("debug", "debug-tp-to-progression", e)
                    }
                }
            }, {
                key: "_onKeyUp",
                value: function(e, t) {
                    f.default.isDown("shift") && ("o" === t && this._toggleCannonDebugger(), "alt" === t && this._saveCharPos(), "`" === t && this._setCharPos(), Number.isNaN(parseInt(t, 10)) || this._tpToProgression(parseInt(t, 10)), "p" === t && this._togglePostProcessing(), "f" === t && this._toggleFog(), "h" === t && (this.config.helpers = !this.config.helpers, this._helpersGui.setValue(this.config.helpers), this._toggleHelpers(this.config.helpers), (0, h.event)("debug", "debug-helpers", this.config.helpers)))
                }
            }, {
                key: "_onPointerDown",
                value: function() {
                    if (this.config.ctrlClickToTp && f.default.isDown("shift") && f.default.isDown("ctrl")) {
                        var e = {
                            x: 2 * c.default.client.norm.x - 1,
                            y: 2 * -c.default.client.norm.y + 1
                        };
                        this.raycaster.setFromCamera(e, this._scene.camera);
                        var t = this.raycaster.intersectObjects(this._scene.navMeshes);
                        if (t.length) {
                            var n = t[0];
                            this._character.setPosition(n.point, 10), (0, h.event)("debug", "debug-tp")
                        }
                    }
                }
            }]) && _(t.prototype, n), e
        }()).prototype, "_resetConfig", [o], Object.getOwnPropertyDescriptor(r.prototype, "_resetConfig"), r.prototype), m(r.prototype, "_saveConfig", [o], Object.getOwnPropertyDescriptor(r.prototype, "_saveConfig"), r.prototype), m(r.prototype, "_onKeyUp", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onKeyUp"), r.prototype), m(r.prototype, "_onPointerDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPointerDown"), r.prototype), r);
        t.default = g, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#define SHADER_NAME Post\n\nfloat blendAdd_1_0(float base, float blend) {\n\treturn min(base+blend,1.0);\n}\n\nvec3 blendAdd_1_0(vec3 base, vec3 blend) {\n\treturn min(base+blend,vec3(1.0));\n}\n\nvec3 blendAdd_1_0(vec3 base, vec3 blend, float opacity) {\n\treturn (blendAdd_1_0(base, blend) * opacity + base * (1.0 - opacity));\n}\n\n\n\nvec4 fxaa_6_1(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE, \n            vec2 v_rgbSW, vec2 v_rgbSE, \n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\n\nfloat outline_2_2(sampler2D tInput, vec2 uv, vec2 resolution, float thickness) {\n  vec2 texel = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n\n  const mat3 Gx = mat3(-1, -2, -1, 0, 0, 0, 1, 2, 1);\n  const mat3 Gy = mat3(-1, 0, 1, -2, 0, 2, -1, 0, 1);\n\n  float tx0y0 = texture2D(tInput, uv + texel * vec2(-thickness, -thickness)).r;\n  float tx0y1 = texture2D(tInput, uv + texel * vec2(-thickness, 0)).r;\n  float tx0y2 = texture2D(tInput, uv + texel * vec2(-thickness, thickness)).r;\n\n  float tx1y0 = texture2D(tInput, uv + texel * vec2(0,-thickness)).r;\n  float tx1y1 = texture2D(tInput, uv + texel * vec2(0, 0)).r;\n  float tx1y2 = texture2D(tInput, uv + texel * vec2(0, thickness)).r;\n\n  float tx2y0 = texture2D(tInput, uv + texel * vec2(thickness, -thickness)).r;\n  float tx2y1 = texture2D(tInput, uv + texel * vec2(thickness, 0)).r;\n  float tx2y2 = texture2D(tInput, uv + texel * vec2(thickness, thickness)).r;\n\n  float valueGx = Gx[0][0] * tx0y0 + Gx[1][0] * tx1y0 + Gx[2][0] * tx2y0 + \n  Gx[0][1] * tx0y1 + Gx[1][1] * tx1y1 + Gx[2][1] * tx2y1 + \n  Gx[0][2] * tx0y2 + Gx[1][2] * tx1y2 + Gx[2][2] * tx2y2; \n\n  float valueGy = Gy[0][0] * tx0y0 + Gy[1][0] * tx1y0 + Gy[2][0] * tx2y0 + \n  Gy[0][1] * tx0y1 + Gy[1][1] * tx1y1 + Gy[2][1] * tx2y1 + \n  Gy[0][2] * tx0y2 + Gy[1][2] * tx1y2 + Gy[2][2] * tx2y2; \n\n  return sqrt((valueGx * valueGx) + (valueGy * valueGy));\n}\n\n\n\nvec3 bsc_3_3(vec3 color, float brightness, float saturation, float contrast) {\n   vec3 bColor = color.rgb * brightness;\n   float intensity = dot(bColor, vec3(0.2125, 0.7154, 0.0721));\n   return mix(vec3(0.5), mix(vec3(intensity), bColor, saturation), contrast);\n}\n\n\n\nvec3 vignette_4_4(vec3 color, float boost, float reduction, vec2 resolution) {\n  vec2 center = resolution * 0.5;\n  float vignette = distance(center, gl_FragCoord.xy)  / resolution.x;\n  vignette = boost - vignette * reduction;\n  return color * vignette;\n}\n\n\n\nfloat rand_5_5(vec2 n, float offset) {\n  return 0.5 - fract(sin(dot(n.xy + vec2( offset, 0. ), vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvec3 random_5_6(vec3 color, vec2 pos, float time, float amount, float speed) {\n  return color + amount * rand_5_5(pos, 0.0000000001 * time * speed);\n}\n\n\n\n\nuniform sampler2D tInput;\nuniform vec2 uResolution;\nuniform float uTime;\nuniform float uVignette;\nuniform float uFadeOut;\nuniform float uBurn;\nuniform float uOutlineThickness;\nuniform float uBloomMix;\nuniform vec3 uBloomColor;\nuniform vec3 uBloomMixColor;\nuniform vec3 uBsc;\nuniform vec2 uNoise;\n\nvarying vec2 vUv;\n\n#if QUALITY != 0\n  varying vec2 vrgbNW;\n  varying vec2 vrgbNE;\n  varying vec2 vrgbSW;\n  varying vec2 vrgbSE;\n  varying vec2 vrgbM;\n#endif\n\nvoid main() {\n  #if QUALITY != 0\n    vec2 fragCoord = vUv * uResolution;\n    vec4 tex = fxaa_6_1(tInput, fragCoord, uResolution, vrgbNW, vrgbNE, vrgbSW, vrgbSE, vrgbM);\n  #else\n    vec4 tex = texture2D(tInput, vUv);\n  #endif\n\n  vec3 color = tex.rgb;\n\n  #if QUALITY != 0\n    float outline = 1.0 - outline_2_2(tInput, vUv, uResolution, uOutlineThickness);\n    color *= outline;\n  #endif\n\n  color = vignette_4_4(color, 1.0, uVignette, uResolution).rgb;\n  color += mix(uBloomColor, uBloomMixColor, uBloomMix);\n  color = bsc_3_3(color, uBsc.r, uBsc.g, uBsc.b);\n  color = random_5_6(color, vUv, uTime, uNoise.x, uNoise.y); // amount - speed\n\n  gl_FragColor = mix(vec4(color, 1.0), vec4(0.0, 0.0, 0.0, 1.0), uFadeOut);\n  gl_FragColor = mix(gl_FragColor, vec4(1., 1., 1., 1.), uBurn);\n}\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#define SHADER_NAME Post\n\nvoid texcoords_1_0(vec2 fragCoord, vec2 resolution,\n\t\t\tout vec2 v_rgbNW, out vec2 v_rgbNE,\n\t\t\tout vec2 v_rgbSW, out vec2 v_rgbSE,\n\t\t\tout vec2 v_rgbM) {\n\tvec2 inverseVP = 1.0 / resolution.xy;\n\tv_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n\tv_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n\tv_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n\tv_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n\tv_rgbM = vec2(fragCoord * inverseVP);\n}\n\n\n\n\nattribute vec3 position;\nattribute vec2 uv;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\n\nuniform vec2 uResolution;\n\nvarying vec2 vUv;\n\n#if QUALITY != 0\n  varying vec2 vrgbNW;\n  varying vec2 vrgbNE;\n  varying vec2 vrgbSW;\n  varying vec2 vrgbSE;\n  varying vec2 vrgbM;\n#endif\n\nvoid main() {\n  vUv = uv;\n\n  #if QUALITY != 0\n    vec2 fragCoord = uv * uResolution;\n    texcoords_1_0(fragCoord, uResolution, vrgbNW, vrgbNE, vrgbSW, vrgbSE, vrgbM);\n  #endif\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = c(n(68)),
            a = c(n(4)),
            s = c(n(337)),
            l = c(n(336)),
            u = c(n(28));

        function c(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function f(e) {
            return (f = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function p() {
            return (p = Object.assign || function(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = arguments[t];
                    for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
                }
                return e
            }).apply(this, arguments)
        }

        function d(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function h(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : h(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }

        function y(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var v = (y((r = function(e) {
            function t() {
                var e;
                return function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), (e = function(e, t) {
                    if (t && ("object" === f(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this))).name = "PostPass", e._signals = a.default, e._bind(), e
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), n = t, (o = [{
                key: "destroy",
                value: function() {
                    h(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._unbind()
                }
            }, {
                key: "init",
                value: function(e) {
                    h(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "init", this).call(this, e), this.material.vertexShader = s.default, this.material.fragmentShader = l.default, this.material.uniforms = p({}, this.material.uniforms, {
                        uResolution: {
                            value: new THREE.Vector2
                        },
                        uVignette: {
                            value: 0
                        },
                        uTime: {
                            value: 0
                        },
                        uFadeOut: {
                            value: 0
                        },
                        uBurn: {
                            value: 0
                        },
                        uOutlineThickness: {
                            value: 0
                        },
                        uBloomColor: {
                            value: new THREE.Color
                        },
                        uBloomMixColor: {
                            value: new THREE.Color(997721)
                        },
                        uBloomMix: {
                            value: 0
                        },
                        uBsc: {
                            value: new THREE.Vector3(1, 1, 1)
                        },
                        uNoise: {
                            value: new THREE.Vector2(0, 0)
                        }
                    });
                    var n = 0;
                    u.default.isMedium ? n = 1 : u.default.isHigh && (n = 2), this.material.defines = {
                        QUALITY: n,
                        FXAA_REDUCE_MIN: 1 / 128,
                        FXAA_REDUCE_MUL: 1 / 8,
                        FXAA_SPAN_MAX: 4
                    }
                }
            }, {
                key: "_bind",
                value: function() {
                    this._signals.postPass.vignetteAnimation.add(this._vignetteAnimation), this._signals.postPass.burnAnimation.add(this._burnAnimation)
                }
            }, {
                key: "_unbind",
                value: function() {
                    TweenMax.killTweensOf(this.material.uniforms.uVignette, {
                        value: !0
                    }), this._signals.postPass.vignetteAnimation.remove(this._vignetteAnimation), this._signals.postPass.burnAnimation.remove(this._burnAnimation)
                }
            }, {
                key: "_burnAnimation",
                value: function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                    TweenMax.to(this.material.uniforms.uBurn, e, {
                        value: 1,
                        delay: t,
                        ease: Expo.easeOut
                    })
                }
            }, {
                key: "_vignetteAnimation",
                value: function(e, t) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                        o = arguments.length > 3 ? arguments[3] : void 0;
                    if (TweenMax.to(this.material.uniforms.uVignette, e, {
                            value: t,
                            delay: n,
                            ease: Expo.easeOut
                        }), o) {
                        var r = "out" === o;
                        TweenMax.to(this.material.uniforms.uFadeOut, .5 * e, {
                            value: r ? 1 : 0,
                            delay: r ? n : .5 * e + n,
                            ease: Expo.easeOut
                        })
                    }
                }
            }, {
                key: "outlineThickness",
                set: function(e) {
                    this.material.uniforms.uOutlineThickness.value = e
                },
                get: function() {
                    return this.material.uniforms.uOutlineThickness.value
                }
            }, {
                key: "bloomColor",
                set: function(e) {
                    this.material.uniforms.uBloomColor.value.set(e)
                },
                get: function() {
                    return "#".concat(this.uniforms.uBloomColor.value.getHexString())
                }
            }, {
                key: "burn",
                set: function(e) {
                    this.material.uniforms.uBurn.value = e
                },
                get: function() {
                    return this.material.uniforms.uBurn.value
                }
            }, {
                key: "vignette",
                get: function() {
                    return this.material.uniforms.uVignette.value
                },
                set: function(e) {
                    this.material.uniforms.uVignette.value = e
                }
            }, {
                key: "brightness",
                get: function() {
                    return this.material.uniforms.uBsc.value.x
                },
                set: function(e) {
                    this.material.uniforms.uBsc.value.x = e
                }
            }, {
                key: "saturation",
                get: function() {
                    return this.material.uniforms.uBsc.value.y
                },
                set: function(e) {
                    this.material.uniforms.uBsc.value.y = e
                }
            }, {
                key: "contrast",
                get: function() {
                    return this.material.uniforms.uBsc.value.z
                },
                set: function(e) {
                    this.material.uniforms.uBsc.value.z = e
                }
            }, {
                key: "noise",
                set: function(e) {
                    var t = e.amount,
                        n = e.speed;
                    t && (this.material.uniforms.uNoise.value.x = t), n && (this.material.uniforms.uNoise.value.y = n)
                }
            }]) && d(n.prototype, o), t
        }()).prototype, "_burnAnimation", [o], Object.getOwnPropertyDescriptor(r.prototype, "_burnAnimation"), r.prototype), y(r.prototype, "_vignetteAnimation", [o], Object.getOwnPropertyDescriptor(r.prototype, "_vignetteAnimation"), r.prototype), r);
        t.default = v, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(68)) && o.__esModule ? o : {
            default: o
        },
        i = n(147);

    function a(e) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var l = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === a(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, "BlurPass"))).renderTargetX = new THREE.WebGLRenderTarget(1, 1, {
                minFilter: THREE.LinearFilter,
                magFilter: THREE.LinearFilter,
                stencilBuffer: !1,
                depthBuffer: !1
            }), e.renderTargetX.texture.name = "Blur.TargetX", e.renderTargetX.texture.generateMipmaps = !1, e.renderTargetY = e.renderTargetX.clone(), e.renderTargetY.texture.name = "Blur.TargetY", e.resolutionScale = void 0 !== n.resolutionScale ? n.resolutionScale : .5, e.convolutionMaterial = new i.ConvolutionMaterial, e.ditheredConvolutionMaterial = new i.ConvolutionMaterial, e.ditheredConvolutionMaterial.dithering = !0, e.dithering = !1, e.kernelSize = n.kernelSize, e
        }
        var n, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, r.default), n = t, (o = [{
            key: "render",
            value: function(e, t, n, o, r) {
                var i, a, s, l = this.scene,
                    u = this.camera,
                    c = this.renderTargetX,
                    f = this.renderTargetY,
                    p = this.convolutionMaterial,
                    d = p.uniforms,
                    h = p.getKernel(),
                    y = t;
                for (this.material = p, a = 0, s = h.length - 1; a < s; ++a) i = a % 2 == 0 ? c : f, d.kernel.value = h[a], d.tInput.value = y.texture, e.render(l, u, i), y = i;
                this.dithering && (d = (p = this.ditheredConvolutionMaterial).uniforms, this.material = p), d.kernel.value = h[a], d.tInput.value = y.texture, e.render(l, u, this.renderToScreen ? null : n)
            }
        }, {
            key: "setSize",
            value: function(e, t) {
                e = Math.max(1, Math.floor(e * this.resolutionScale)), t = Math.max(1, Math.floor(t * this.resolutionScale)), this.renderTargetX.setSize(e, t), this.renderTargetY.setSize(e, t), this.convolutionMaterial.setTexelSize(1 / e, 1 / t), this.ditheredConvolutionMaterial.setTexelSize(1 / e, 1 / t)
            }
        }, {
            key: "init",
            value: function(e, t) {
                t || (this.renderTargetX.texture.format = THREE.RGBFormat, this.renderTargetY.texture.format = THREE.RGBFormat)
            }
        }, {
            key: "width",
            get: function() {
                return this.renderTargetX.width
            }
        }, {
            key: "height",
            get: function() {
                return this.renderTargetX.height
            }
        }, {
            key: "kernelSize",
            get: function() {
                return this.convolutionMaterial.kernelSize
            },
            set: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : i.KernelSize.LARGE;
                this.convolutionMaterial.kernelSize = e, this.ditheredConvolutionMaterial.kernelSize = e
            }
        }]) && s(n.prototype, o), t
    }();
    t.default = l, e.exports = t.default
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n}"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\nuniform sampler2D texture1;\nuniform sampler2D texture2;\n\nuniform float opacity1;\nuniform float opacity2;\n\nvarying vec2 vUv;\n\nvoid main() {\n\n  vec4 texel1 = opacity1 * texture2D(texture1, vUv);\n  vec4 texel2 = opacity2 * texture2D(texture2, vUv);\n\n  #ifdef SCREEN_MODE\n\n    vec3 invTexel1 = vec3(1.0) - texel1.rgb;\n    vec3 invTexel2 = vec3(1.0) - texel2.rgb;\n\n    vec4 color = vec4(\n      vec3(1.0) - invTexel1 * invTexel2,\n      texel1.a + texel2.a\n    );\n\n  #else\n\n    vec4 color = texel1 + texel2;\n\n  #endif\n\n  gl_FragColor = color;\n\n}"
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = i(n(341)),
        r = i(n(340));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function a(e) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var l = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === a(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, {
                type: "CombineMaterial",
                uniforms: {
                    texture1: new THREE.Uniform(null),
                    texture2: new THREE.Uniform(null),
                    opacity1: new THREE.Uniform(1),
                    opacity2: new THREE.Uniform(1)
                },
                fragmentShader: o.default,
                vertexShader: r.default,
                depthWrite: !1,
                depthTest: !1
            }))).screenMode = n, e
        }
        var n, i;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, THREE.ShaderMaterial), n = t, (i = [{
            key: "screenMode",
            get: function() {
                return !!this.defines.SCREEN_MODE
            },
            set: function(e) {
                e ? this.defines.SCREEN_MODE = "1" : delete this.defines.SCREEN_MODE, this.needsUpdate = !0
            }
        }]) && s(n.prototype, i), t
    }();
    t.default = l, e.exports = t.default
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n}"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#include <common>\n\nuniform sampler2D tInput;\nuniform float distinction;\nuniform vec2 range;\n\nvarying vec2 vUv;\n\nvoid main() {\n\n  vec4 texel = texture2D(tInput, vUv);\n  float l = linearToRelativeLuminance(texel.rgb);\n\n  #ifdef RANGE\n\n    float low = step(range.x, l);\n    float high = step(l, range.y);\n\n    // Apply the mask.\n    l *= low * high;\n\n  #endif\n\n  l = pow(abs(l), distinction);\n\n  #ifdef COLOR\n\n    gl_FragColor = vec4(texel.rgb * l, texel.a);\n\n  #else\n\n    gl_FragColor = vec4(l, l, l, texel.a);\n\n  #endif\n\n}"
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = i(n(344)),
        r = i(n(343));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function a(e) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var l = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t);
            var s = null !== i;
            return (e = function(e, t) {
                if (t && ("object" === a(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, {
                type: "LuminosityMaterial",
                uniforms: {
                    tInput: new THREE.Uniform(null),
                    distinction: new THREE.Uniform(1),
                    range: new THREE.Uniform(s ? i : new THREE.Vector2)
                },
                fragmentShader: o.default,
                vertexShader: r.default
            }))).setColorOutputEnabled(n), e.setLuminanceRangeEnabled(s), e
        }
        var n, i;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, THREE.ShaderMaterial), n = t, (i = [{
            key: "setColorOutputEnabled",
            value: function(e) {
                e ? this.defines.COLOR = "1" : delete this.defines.COLOR, this.needsUpdate = !0
            }
        }, {
            key: "setLuminanceRangeEnabled",
            value: function(e) {
                e ? this.defines.RANGE = "1" : delete this.defines.RANGE, this.needsUpdate = !0
            }
        }]) && s(n.prototype, i), t
    }();
    t.default = l, e.exports = t.default
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\nuniform vec2 texelSize;\nuniform vec2 halfTexelSize;\nuniform float kernel;\n\nvarying vec2 vUv0;\nvarying vec2 vUv1;\nvarying vec2 vUv2;\nvarying vec2 vUv3;\n\nvoid main() {\n\n\tvec2 dUv = (texelSize * vec2(kernel)) + halfTexelSize;\n\n\tvUv0 = vec2(uv.x - dUv.x, uv.y + dUv.y);\n\tvUv1 = vec2(uv.x + dUv.x, uv.y + dUv.y);\n\tvUv2 = vec2(uv.x + dUv.x, uv.y - dUv.y);\n\tvUv3 = vec2(uv.x - dUv.x, uv.y - dUv.y);\n\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n}"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#include <common>\n#include <dithering_pars_fragment>\n\nuniform sampler2D tInput;\n\nvarying vec2 vUv0;\nvarying vec2 vUv1;\nvarying vec2 vUv2;\nvarying vec2 vUv3;\n\nvoid main() {\n\n\t// Sample top left texel.\n\tvec4 sum = texture2D(tInput, vUv0);\n\n\t// Sample top right texel.\n\tsum += texture2D(tInput, vUv1);\n\n\t// Sample bottom right texel.\n\tsum += texture2D(tInput, vUv2);\n\n\t// Sample bottom left texel.\n\tsum += texture2D(tInput, vUv3);\n\n\t// Compute the average.\n\tgl_FragColor = sum * 0.25;\n\n\t#include <dithering_fragment>\n\n}"
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = a(n(347)),
        r = a(n(346)),
        i = a(n(146));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function s(e) {
        return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function l(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var u = function(e) {
            function t() {
                var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new THREE.Vector2;
                return function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), (e = function(e, t) {
                    if (t && ("object" === s(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, {
                    type: "ConvolutionMaterial",
                    uniforms: {
                        tInput: new THREE.Uniform(null),
                        texelSize: new THREE.Uniform(new THREE.Vector2),
                        halfTexelSize: new THREE.Uniform(new THREE.Vector2),
                        kernel: new THREE.Uniform(0)
                    },
                    fragmentShader: o.default,
                    vertexShader: r.default,
                    depthWrite: !1,
                    depthTest: !1
                }))).setTexelSize(n.x, n.y), e.kernelSize = i.default.LARGE, e
            }
            var n, a;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, THREE.ShaderMaterial), n = t, (a = [{
                key: "getKernel",
                value: function() {
                    return c[this.kernelSize]
                }
            }, {
                key: "setTexelSize",
                value: function(e, t) {
                    this.uniforms.texelSize.value.set(e, t), this.uniforms.halfTexelSize.value.set(e, t).multiplyScalar(.5)
                }
            }]) && l(n.prototype, a), t
        }(),
        c = [new Float32Array([0, 0]), new Float32Array([0, 1, 1]), new Float32Array([0, 1, 1, 2]), new Float32Array([0, 1, 2, 2, 3]), new Float32Array([0, 1, 2, 3, 4, 4, 5]), new Float32Array([0, 1, 2, 3, 4, 5, 7, 8, 9, 10])],
        f = u;
    t.default = f, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = a(n(68)),
        r = n(147),
        i = a(n(339));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function s(e) {
        return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function l(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var u = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === s(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, {
                name: "BloomPass"
            }))).renderTarget = new THREE.WebGLRenderTarget(1, 1, {
                minFilter: THREE.LinearFilter,
                magFilter: THREE.LinearFilter,
                stencilBuffer: !1,
                depthBuffer: !1
            }), e.needsSwap = !0, e.renderTarget.texture.name = "Bloom.Target", e.renderTarget.texture.generateMipmaps = !1, e.blurPass = new i.default(n), e.combineMaterial = new r.CombineMaterial(void 0 === n.screenMode || n.screenMode), e.intensity = n.intensity, e.luminosityMaterial = new r.LuminosityMaterial(!0), e.distinction = n.distinction, e
        }
        var n, a;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), n = t, (a = [{
            key: "render",
            value: function(e, t, n, o, r) {
                var i = this.scene,
                    a = this.camera,
                    s = this.blurPass,
                    l = this.luminosityMaterial,
                    u = this.combineMaterial,
                    c = this.renderTarget;
                this.material = l, l.uniforms.tInput.value = t.texture, e.render(i, a, c), s.render(e, c, c), this.blend && (this.material = u, u.uniforms.texture1.value = t.texture, u.uniforms.texture2.value = c.texture, e.render(i, a, this.renderToScreen ? null : n))
            }
        }, {
            key: "setSize",
            value: function(e, t) {
                this.blurPass.setSize(e, t), e = this.blurPass.width, t = this.blurPass.height, this.renderTarget.setSize(e, t)
            }
        }, {
            key: "init",
            value: function(e, t) {
                this.blurPass.init(e, t), t || (this.renderTarget.texture.format = THREE.RGBFormat)
            }
        }, {
            key: "resolutionScale",
            get: function() {
                return this.blurPass.resolutionScale
            },
            set: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : .5;
                this.blurPass.resolutionScale = e
            }
        }, {
            key: "kernelSize",
            get: function() {
                return this.blurPass.kernelSize
            },
            set: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : r.KernelSize.LARGE;
                this.blurPass.kernelSize = e
            }
        }, {
            key: "intensity",
            get: function() {
                return this.combineMaterial.uniforms.opacity2.value
            },
            set: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
                this.combineMaterial.uniforms.opacity2.value = e
            }
        }, {
            key: "distinction",
            get: function() {
                return this.luminosityMaterial.uniforms.distinction.value
            },
            set: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
                this.luminosityMaterial.uniforms.distinction.value = e
            }
        }, {
            key: "dithering",
            get: function() {
                return this.blurPass.dithering
            },
            set: function(e) {
                this.blurPass.dithering = e
            }
        }, {
            key: "blend",
            get: function() {
                return this.needsSwap
            },
            set: function(e) {
                this.needsSwap = e
            }
        }, {
            key: "screenMode",
            get: function() {
                return this.combineMaterial.screenMode
            },
            set: function(e) {
                this.combineMaterial.screenMode = e
            }
        }, {
            key: "overlay",
            get: function() {
                return this.renderTarget.texture
            }
        }]) && l(n.prototype, a), t
    }();
    t.default = u, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = u(n(11)),
        r = u(n(28)),
        i = u(n(65)),
        a = u(n(183)),
        s = u(n(349)),
        l = u(n(338));

    function u(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function c(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var f = function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._context = o.default, this._renderer = this._context.renderer, this._postProcessing = this._renderer._postProcessing, this._scene = this._context.scene, this._camera = this._scene.camera, this._createPasses()
        }
        var t, n;
        return t = e, (n = [{
            key: "destroy",
            value: function() {
                this._renderPass = null, this._intersectPass = null, this._postPass = null
            }
        }, {
            key: "_createPasses",
            value: function() {
                this._renderPass = new a.default(this._scene, this._camera), this._postProcessing.addPass(this._renderPass);
                var e = i.default[this._scene.name].common.postProcessing;
                if (r.default.isHigh) {
                    var t = e.bloomPass;
                    this._bloomPass = new s.default(t), this._postProcessing.addPass(this._bloomPass)
                }
                this._postPass = new l.default, this._postProcessing.addPass(this._postPass);
                var n = e.postPass;
                this._postPass.outlineThickness = n.outlineThickness, this._postPass.bloomColor = n.bloomColor, this._postPass.vignette = n.vignette, this._postPass.brightness = n.brightness, this._postPass.saturation = n.saturation, this._postPass.contrast = n.contrast, this._postPass.noise = n.noise
            }
        }]) && c(t.prototype, n), e
    }();
    t.default = f, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = {
        tutorial: {
            world: {
                iterations: 10,
                gravity: new CANNON.Vec3(0, -1, 0)
            },
            materials: ["character", "ground", "rock"],
            contactMaterials: [{
                materials: ["character", "ground"],
                friction: 1,
                restitution: 1e-4
            }, {
                materials: ["rock", "ground"],
                friction: 1,
                restitution: 1e-5
            }, {
                materials: ["rock", "rock"],
                friction: 200,
                restitution: 1e-4
            }]
        },
        "level-1": {
            world: {
                iterations: 10,
                gravity: new CANNON.Vec3(0, -1, 0)
            },
            materials: ["character", "ground", "rock"],
            contactMaterials: [{
                materials: ["character", "ground"],
                friction: 1,
                restitution: 1e-4
            }, {
                materials: ["rock", "ground"],
                friction: 1,
                restitution: 1e-5
            }, {
                materials: ["rock", "rock"],
                friction: 200,
                restitution: 1e-4
            }]
        },
        "level-2": {
            world: {
                iterations: 10,
                gravity: new CANNON.Vec3(0, -1, 0)
            },
            materials: ["character", "ground", "rock"],
            contactMaterials: [{
                materials: ["character", "ground"],
                friction: 1,
                restitution: 1e-4
            }, {
                materials: ["rock", "ground"],
                friction: 1,
                restitution: 1e-5
            }, {
                materials: ["rock", "rock"],
                friction: 200,
                restitution: 1e-4
            }]
        },
        "level-3": {
            world: {
                iterations: 10,
                gravity: new CANNON.Vec3(0, -1, 0)
            },
            materials: ["character", "ground", "rock"],
            contactMaterials: [{
                materials: ["character", "ground"],
                friction: 1,
                restitution: 1e-4
            }, {
                materials: ["rock", "ground"],
                friction: 1,
                restitution: 1e-5
            }, {
                materials: ["rock", "rock"],
                friction: 200,
                restitution: 1e-4
            }]
        }
    };
    t.default = o, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(351)) && o.__esModule ? o : {
        default: o
    };

    function i(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var a = function() {
        function e(t) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._sceneName = t, this._config = r.default[this._sceneName], this._materialsList = this._config.materials, this._contactMaterials = this._config.contactMaterials, this.group = {
                terrain: 1,
                character: 2,
                rock1: 4,
                rock2: 8
            }, this._fixedStep = 1 / 60, this._maxSubSteps = 10, this._world = null, this._materials = {}, this._initWorld(), this._initMaterials(), this._initContactMaterials()
        }
        var t, n;
        return t = e, (n = [{
            key: "update",
            value: function(e, t) {
                this._world.step(this._fixedStep, e, this._maxSubSteps)
            }
        }, {
            key: "destroy",
            value: function() {
                this._world = null, this._materials = null
            }
        }, {
            key: "_initWorld",
            value: function() {
                this._world = new CANNON.World, this._world.broadphase = new CANNON.NaiveBroadphase, this._world.gravity.copy(this._config.world.gravity), this._world.solver.iterations = this._config.world.iterations
            }
        }, {
            key: "_initMaterials",
            value: function() {
                for (var e = 0, t = this._materialsList.length; e < t; e++) {
                    var n = this._materialsList[e];
                    this._materials[n] = new CANNON.Material(n)
                }
            }
        }, {
            key: "_initContactMaterials",
            value: function() {
                for (var e = 0, t = this._contactMaterials.length; e < t; e++) {
                    var n = this._contactMaterials[e],
                        o = n.materials,
                        r = n.friction,
                        i = n.restitution;
                    this._createContactMaterial(o[0], o[1], {
                        friction: r,
                        restitution: i
                    })
                }
            }
        }, {
            key: "_createContactMaterial",
            value: function(e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {
                        friction: .3,
                        restitution: .3
                    },
                    o = new CANNON.ContactMaterial(this._materials[e], this._materials[t], n);
                return this._world.addContactMaterial(o), o
            }
        }, {
            key: "world",
            get: function() {
                return this._world
            }
        }, {
            key: "materials",
            get: function() {
                return this._materials
            }
        }]) && i(t.prototype, n), e
    }();
    t.default = a, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = f(n(151)),
            a = f(n(35)),
            s = f(n(4)),
            l = f(n(12)),
            u = f(n(11)),
            c = n(2);

        function f(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function p(e) {
            return (p = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function d() {
            return (d = Object.assign || function(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = arguments[t];
                    for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
                }
                return e
            }).apply(this, arguments)
        }

        function h(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function y(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : y(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }

        function v(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var _ = (v((r = function(e) {
            function t() {
                var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                return function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), (e = function(e, t) {
                    if (t && ("object" === p(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, d({
                    fov: 60
                }, n)))).name = n.name || "Game camera", e.shakeFactor = 0, e._offsetX = new THREE.Vector3, e._defaultPanY = 330, e._panY = e._panYTarget = e._defaultPanY, e._angleX = e._angleTargetX = 0, e._isDown = !1, e._rotateDampingFactor = .2, e._cameraDampingFactor = .01, e._rotateSpeed = .01, e._panSpeed = 5, e._minPanY = 100, e._maxPanY = 800, e._radius = 10, e.shakeSpeed = .01, e
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), n = t, (o = [{
                key: "createGUI",
                value: function(e) {
                    if (!this._guiIsCreated) {
                        this._guiIsCreated = !0;
                        var n = y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "createGUI", this).call(this, e);
                        return n.add(this, "_panYTarget").min(-100).max(100).step(.01), n.add(this, "_angleTargetX").min(0).max(2 * Math.PI).step(.01), n.add(this, "_radius").min(8).max(100).step(1), n.add(this, "_maxPanY").min(8).max(1e5).step(100), n
                    }
                }
            }, {
                key: "update",
                value: function(e, n) {
                    if (y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "update", this).call(this, e, n), !this._state.pauseDisplayed) {
                        this._processGamepadInputs(), this._angleX = (0, c.lerpAngle)(this._angleX, this._angleTargetX, this._rotateDampingFactor), this._offsetX.x = this._radius * Math.cos(this._angleX), this._offsetX.z = this._radius * Math.sin(this._angleX), this.position.copy(this._charPos).add(this._offsetX), this._panY = (this._panYTarget - this._panY) * this._cameraDampingFactor, this.position.y += this._panY;
                        var o = n * this.shakeSpeed;
                        this.position.x += this.shakeFactor * (Math.cos(o + 2300) + Math.sin(1.2 * o) + Math.cos(2 * o)) / 3 * .1, this.position.y += this.shakeFactor * (Math.sin(o + 800) + Math.sin(.7 * o) + Math.cos(1.8 * o)) / 3 * .1, this.lookAt(this._charPos)
                    }
                }
            }, {
                key: "destroy",
                value: function() {
                    y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._unbind()
                }
            }, {
                key: "_bind",
                value: function() {
                    y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_bind", this).call(this), a.default.downed.add(this._onPointerDown), a.default.upped.add(this._onPointerUp), a.default.moved.add(this._onPointerMove), a.default.leaved.add(this._onPointerLeave), s.default.pause.shown.add(this._onPauseShown), s.default.pause.hidden.add(this._onPauseHidden), s.default.enemy.laserHit.add(this._onLaserHit), s.default.thunder.hit.add(this._onThunderHit), s.default.thunder.nearCharHit.add(this._onThunderNearHit), s.default.character.dashed.add(this._onCharDash), s.default.konami.toggle.add(this._onKonamiToggle)
                }
            }, {
                key: "_unbind",
                value: function() {
                    y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_unbind", this).call(this), a.default.downed.remove(this._onPointerDown), a.default.upped.remove(this._onPointerUp), a.default.moved.remove(this._onPointerMove), a.default.leaved.remove(this._onPointerLeave), s.default.pause.shown.remove(this._onPauseShown), s.default.pause.hidden.remove(this._onPauseHidden), s.default.enemy.laserHit.remove(this._onLaserHit), s.default.thunder.hit.remove(this._onThunderHit), s.default.thunder.nearCharHit.remove(this._onThunderNearHit), s.default.character.dashed.remove(this._onCharDash), s.default.konami.toggle.remove(this._onKonamiToggle)
                }
            }, {
                key: "_processGamepadInputs",
                value: function() {
                    var e = l.default.joystickRight.x,
                        t = l.default.joystickRight.y;
                    this._angleTargetX += e * this._rotateSpeed * 5, this._panYTarget += t * this._panSpeed * 4, this._panYTarget = (0, c.clamp)(this._panYTarget, this._minPanY, this._maxPanY)
                }
            }, {
                key: "_shortShake",
                value: function() {
                    var e = this;
                    this.shakeSpeed = .2, TweenMax.to(this, 1, {
                        shakeFactor: 20,
                        ease: Expo.easeOut
                    }), TweenMax.to(this, .5, {
                        shakeFactor: 0,
                        delay: .3,
                        onComplete: function() {
                            e.shakeSpeed = .05
                        },
                        ease: Expo.easeOut
                    })
                }
            }, {
                key: "_onPointerDown",
                value: function(e) {
                    e.preventDefault(), this._state.pauseDisplayed || e.button === a.default.LEFT_BUTTON && (this._isDown = !0, a.default.addCursor("grabbing"))
                }
            }, {
                key: "_onPointerUp",
                value: function(e) {
                    e.preventDefault(), e.button === a.default.LEFT_BUTTON && (this._isDown = !1, a.default.addCursor("grab"))
                }
            }, {
                key: "_onPointerMove",
                value: function(e) {
                    e.preventDefault(), e.toElement, u.default.renderer.domElement, this._isDown && (this._angleTargetX += a.default.delta.x * this._rotateSpeed, this._panYTarget += a.default.delta.y * this._panSpeed, this._panYTarget = (0, c.clamp)(this._panYTarget, this._minPanY, this._maxPanY))
                }
            }, {
                key: "_onPointerLeave",
                value: function() {
                    this._isDown = !1, a.default.addCursor("grab")
                }
            }, {
                key: "_onPauseShown",
                value: function() {
                    this._isDown = !1, a.default.addCursor("pointer")
                }
            }, {
                key: "_onPauseHidden",
                value: function() {
                    this._angleTargetX = this._angleX, a.default.addCursor("grab")
                }
            }, {
                key: "_onLaserHit",
                value: function() {
                    this._shortShake()
                }
            }, {
                key: "_onThunderHit",
                value: function() {
                    this._shortShake()
                }
            }, {
                key: "_onThunderNearHit",
                value: function(e) {
                    var t = this;
                    this.shakeSpeed = 10 * (1 - e), TweenMax.to(this, .3, {
                        shakeFactor: 5 * (1 - e),
                        ease: Expo.easeOut
                    }), TweenMax.to(this, .3, {
                        shakeFactor: 0,
                        delay: .3,
                        onComplete: function() {
                            t.shakeSpeed = .05
                        },
                        ease: Expo.easeOut
                    })
                }
            }, {
                key: "_onCharDash",
                value: function() {
                    var e = this,
                        t = function() {
                            e.updateProjectionMatrix()
                        };
                    TweenMax.to(this, .1, {
                        fov: 70,
                        onUpdate: t,
                        ease: Expo.easeOut
                    }), TweenMax.to(this, .5, {
                        fov: 60,
                        delay: .1,
                        onUpdate: t,
                        ease: Expo.easeOut
                    })
                }
            }, {
                key: "_onKonamiToggle",
                value: function() {
                    TweenMax.to(this, 2, {
                        _radius: 27,
                        _maxPanY: 1600,
                        ease: Expo.easeOut
                    })
                }
            }, {
                key: "direction",
                set: function(e) {
                    this._angleX = this._angleTargetX = e
                },
                get: function() {
                    return this._angleX
                }
            }, {
                key: "maxPanY",
                get: function() {
                    return this._maxPanY
                },
                set: function(e) {
                    this._maxPanY = e
                }
            }, {
                key: "panYTarget",
                get: function() {
                    return this._panYTarget
                },
                set: function(e) {
                    this._panYTarget = e
                }
            }, {
                key: "defaultPanY",
                get: function() {
                    return this._defaultPanY
                }
            }, {
                key: "rotateDampingFactor",
                get: function() {
                    return this._rotateDampingFactor
                },
                set: function(e) {
                    this._rotateDampingFactor = e
                }
            }, {
                key: "isDown",
                get: function() {
                    return this._isDown
                }
            }]) && h(n.prototype, o), t
        }()).prototype, "_onPointerDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPointerDown"), r.prototype), v(r.prototype, "_onPointerUp", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPointerUp"), r.prototype), v(r.prototype, "_onPointerMove", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPointerMove"), r.prototype), v(r.prototype, "_onPointerLeave", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPointerLeave"), r.prototype), v(r.prototype, "_onPauseShown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPauseShown"), r.prototype), v(r.prototype, "_onPauseHidden", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPauseHidden"), r.prototype), v(r.prototype, "_onLaserHit", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onLaserHit"), r.prototype), v(r.prototype, "_onThunderHit", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onThunderHit"), r.prototype), v(r.prototype, "_onThunderNearHit", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onThunderNearHit"), r.prototype), v(r.prototype, "_onCharDash", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onCharDash"), r.prototype), v(r.prototype, "_onKonamiToggle", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onKonamiToggle"), r.prototype), r);
        t.default = _, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = u(n(78)),
            a = u(n(77)),
            s = u(n(76)),
            l = u(n(297));

        function u(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function c(e) {
            return (c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function f(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function p(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : p(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }
        var d, h, y, v, _, m, g = (d = (r = function(e) {
            function t() {
                return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                    function(e, t) {
                        if (t && ("object" === c(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), n = t, (o = [{
                key: "update",
                value: function(e, n) {
                    p(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "update", this).call(this, e, n), this._wayIndicator.update(e, n), this._wayPathIndicator.update(e, n), this._mainTlPlayed && !this._finalInstructionsPlayed && this._character.position.distanceTo(this._finalInstructionsPtPos) < this._finalInstructionsPtDistance && (this._finalInstructionsPlayed = !0, this._finalStepsTl.play(0))
                }
            }, {
                key: "destroy",
                value: function() {
                    return clearTimeout(this._charResetTimeout), this._portal.destroy(), this._debugGeom.dispose(), p(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this)
                }
            }, {
                key: "_init",
                value: function() {
                    p(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_init", this).call(this);
                    var e = this._gltf.getObject("terrain", "points_final_instructions");
                    this._finalInstructionsPtPos = e.position, this._finalInstructionsPtDistance = e.scale.x, this._mainTlPlayed = !1, this._finalInstructionsPlayed = !1, this._debugGeom = new THREE.SphereBufferGeometry(1)
                }
            }, {
                key: "_createCtrls",
                value: function() {
                    p(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_createCtrls", this).call(this), this._signals.powers.set.dispatch(0), this._signals.powers.enter.dispatch()
                }
            }, {
                key: "_createAudios",
                value: function() {
                    p(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_createAudios", this).call(this), this._sounds.create("level")
                }
            }, {
                key: "_createEntities",
                value: function() {
                    p(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_createEntities", this).call(this);
                    var e = new THREE.Mesh(this._debugGeom, this._materials.debugMaterial);
                    e.name = "FinalInstructionsHelper", e.visible = !1, e.position.copy(this._finalInstructionsPtPos), e.scale.multiplyScalar(this._finalInstructionsPtDistance), this.add(e), this._wayIndicator = new a.default([
                        [new THREE.Vector3(1.7, 5, 10), new THREE.Vector3(14.35, 6, 34.87), new THREE.Vector3(34.5, 6, 84.5)]
                    ]), this.add(this._wayIndicator), this._wayPathIndicator = new s.default, this.addEntity(this._wayPathIndicator), this._portal = new l.default, this.addEntity(this._portal)
                }
            }, {
                key: "_createTls",
                value: function() {
                    var e = this;
                    this._finalStepsTl = new TimelineMax({
                        paused: !0
                    }), this._tutoTl = new TimelineMax({
                        paused: !0,
                        onComplete: function() {
                            e._mainTlPlayed = !0, e._character.position.distanceTo(e._finalInstructionsPtPos) < e._finalInstructionsPtDistance && (e._finalInstructionsPlayed = !0, e._finalStepsTl.play(0))
                        }
                    }), this._tls.push(this._tutoTl, this._finalStepsTl), this._finalStepsTl.addCallback(function() {
                        e._showInstruction("power")
                    }, .1), this._tutoTl.addCallback(function() {
                        var t = e._save.get("global.qwerty") ? "_qwerty" : "_azerty";
                        e._showInstruction("move" + t)
                    }, 6).addCallback(function() {
                        e._hideInstruction()
                    }, "+=4").addCallback(function() {
                        e._sounds.play("intro")
                    }).addCallback(function() {
                        e._showInstruction("jump")
                    }, "+=1").addCallback(function() {
                        e._hideInstruction()
                    }, "+=4").addCallback(function() {
                        e._showInstruction("camera")
                    }, "+=1").addCallback(function() {
                        e._hideInstruction()
                    }, "+=4").addCallback(function() {
                        e._showInstruction("fireflies")
                    }, "+=1").addCallback(function() {
                        e._hideInstruction()
                    }, "+=4"), this._tutoTl.play(0)
                }
            }, {
                key: "_showInstruction",
                value: function(e) {
                    var t = this._gamepad.isConnected ? this._locales.tutorial.gamepad : this._locales.tutorial.keyboard;
                    this._signals.instructions.show.dispatch(t[e])
                }
            }, {
                key: "_hideInstruction",
                value: function() {
                    this._signals.instructions.hide.dispatch()
                }
            }, {
                key: "_onCharReset",
                value: function() {
                    var e = this;
                    this._tutoTl.pause(), this._finalStepsTl.pause(), clearTimeout(this._charResetTimeout), this._finalInstructionsPlayed ? this._charResetTimeout = setTimeout(function() {
                        e._finalStepsTl.play(0)
                    }, 6e3) : this._tutoTl.play(0)
                }
            }]) && f(n.prototype, o), t
        }()).prototype, h = "_onCharReset", y = [o], v = Object.getOwnPropertyDescriptor(r.prototype, "_onCharReset"), _ = r.prototype, m = {}, Object.keys(v).forEach(function(e) {
            m[e] = v[e]
        }), m.enumerable = !!m.enumerable, m.configurable = !!m.configurable, ("value" in m || m.initializer) && (m.writable = !0), m = y.slice().reverse().reduce(function(e, t) {
            return t(d, h, e) || e
        }, m), _ && void 0 !== m.initializer && (m.value = m.initializer ? m.initializer.call(_) : void 0, m.initializer = void 0), void 0 === m.initializer && (Object.defineProperty(d, h, m), m = null), r);
        t.default = g, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#define SHADER_NAME Fxaa\n\nvec4 fxaa_1_0(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE, \n            vec2 v_rgbSW, vec2 v_rgbSE, \n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\n\n\nuniform sampler2D tInput;\nuniform vec2 uResolution;\n\nvarying vec2 vUv;\nvarying vec2 vrgbNW;\nvarying vec2 vrgbNE;\nvarying vec2 vrgbSW;\nvarying vec2 vrgbSE;\nvarying vec2 vrgbM;\n\nvoid main() {\n  vec2 fragCoord = vUv * uResolution;\n  vec4 color = fxaa_1_0(tInput, fragCoord, uResolution, vrgbNW, vrgbNE, vrgbSW, vrgbSE, vrgbM);\n\n  gl_FragColor = color;\n}\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#define SHADER_NAME Fxaa\n\nvoid texcoords_1_0(vec2 fragCoord, vec2 resolution,\n\t\t\tout vec2 v_rgbNW, out vec2 v_rgbNE,\n\t\t\tout vec2 v_rgbSW, out vec2 v_rgbSE,\n\t\t\tout vec2 v_rgbM) {\n\tvec2 inverseVP = 1.0 / resolution.xy;\n\tv_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n\tv_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n\tv_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n\tv_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n\tv_rgbM = vec2(fragCoord * inverseVP);\n}\n\n\n\n\nattribute vec3 position;\nattribute vec2 uv;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nuniform vec2 uResolution;\n\nvarying vec2 vUv;\nvarying vec2 vrgbNW;\nvarying vec2 vrgbNE;\nvarying vec2 vrgbSW;\nvarying vec2 vrgbSE;\nvarying vec2 vrgbM;\n\nvoid main() {\n  vUv = uv;\n\n  vec2 fragCoord = uv * uResolution;\n  texcoords_1_0(fragCoord, uResolution, vrgbNW, vrgbNE, vrgbSW, vrgbSE, vrgbM);\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = a(n(68)),
        r = a(n(356)),
        i = a(n(355));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function s(e) {
        return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function l(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var u = function(e) {
        function t() {
            var e;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === s(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this))).name = "FxaaPass", e
        }
        var n, a;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), n = t, (a = [{
            key: "init",
            value: function(e) {
                (function e(t, n, o) {
                    null === t && (t = Function.prototype);
                    var r = Object.getOwnPropertyDescriptor(t, n);
                    if (void 0 === r) {
                        var i = Object.getPrototypeOf(t);
                        return null === i ? void 0 : e(i, n, o)
                    }
                    if ("value" in r) return r.value;
                    var a = r.get;
                    return void 0 !== a ? a.call(o) : void 0
                })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "init", this).call(this, e), this.material.vertexShader = r.default, this.material.fragmentShader = i.default, this.material.uniforms.uResolution = new THREE.Vector2, this.material.defines = {
                    FXAA_REDUCE_MIN: 1 / 128,
                    FXAA_REDUCE_MUL: 1 / 8,
                    FXAA_SPAN_MAX: 1
                }
            }
        }]) && l(n.prototype, a), t
    }();
    t.default = u, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = l(n(37)),
            a = l(n(149)),
            s = n(6);

        function l(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function u(e) {
            return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function c(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function f(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : f(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }

        function p(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var d = (p((r = function(e) {
            function t() {
                var e;
                return function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), (e = function(e, t) {
                    if (t && ("object" === u(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)))._name = "HomeChaptersEntity", e._modeId = "chapters", e._stepsIds = ["close", "intro", "chapter_1", "chapter_2", "outro"], e._init(), e._bind(), e
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, a.default), n = t, (o = [{
                key: "update",
                value: function(e, t) {
                    for (var n = 0, o = this._steps.length; n < o; n++) {
                        var r = this._steps[n],
                            i = r.timeOffsets;
                        r.inertiaRot.stopped || r.inertiaRot.update();
                        var a = r.inertiaRot.value;
                        r.material.uniforms.uTime.value = t, r.position.copy(r.basePos).add(r.offsetPos), r.rotation.copy(r.baseRot), n > 0 && (r.position.y += .001 * (Math.sin(.002 * t) + Math.sin(.002 * t + 100)), r.rotation.x += a.x + r.offsetRot.x + .03 * Math.sin(.002 * t + i.x), r.rotation.y += a.y + r.offsetRot.y + .03 * Math.sin(.002 * t + i.y), r.rotation.z += a.z + r.offsetRot.z + .1 * Math.sin(.002 * t + i.z))
                    }
                }
            }, {
                key: "_init",
                value: function() {
                    f(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_init", this).call(this), this.position.y = -2, this.position.z = -16;
                    for (var e = 0, n = this._steps.length; e < n; e++) this._steps[e].offsetPos.x = 40, this._steps[e].material.uniforms.uAlpha.value = 0;
                    this._closeEl = this._steps[0];
                    var o = new THREE.BoxGeometry(1, 1, 1),
                        r = new THREE.MeshBasicMaterial({
                            color: 16711680,
                            opacity: 0,
                            transparent: !0
                        });
                    this._closeHitBox = new THREE.Mesh(o, r), this._closeHitBox.scale.multiplyScalar(100), this._closeHitBox.rotation.y = Math.PI / 4, this._closeEl.add(this._closeHitBox), this._closeHitBox.visible = this._closeEl.name, this._closeHitBox.name = this._closeEl.name, this._closeHitBox.indexId = this._closeEl.indexId, this._closeHitBox.inertiaRot = this._closeEl.inertiaRot
                }
            }, {
                key: "_bind",
                value: function() {
                    f(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_bind", this).call(this), this._signals.chapters.open.add(this._open)
                }
            }, {
                key: "_unbind",
                value: function() {
                    f(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_unbind", this).call(this), this._signals.chapters.open.remove(this._open)
                }
            }, {
                key: "_open",
                value: function() {
                    var e = this;
                    this._signals.chapters.opened.dispatch();
                    for (var t = function(t, n) {
                            var o = e._steps[t];
                            TweenMax.to(o.material.uniforms.uAlpha, .2, {
                                value: 1,
                                delay: .06 * t
                            }), TweenMax.to(o.offsetPos, .7, {
                                x: 0,
                                ease: Elastic.easeOut.config(.1),
                                delay: .05 * t + .2,
                                onComplete: function() {
                                    t === n - 1 && (e._canClose = !0, e.currentIndex = 1, e._canNavigate = !0)
                                }
                            })
                        }, n = 0, o = this._steps.length; n < o; n++) t(n, o)
                }
            }, {
                key: "_close",
                value: function() {
                    var e = this;
                    if (this._canClose) {
                        this._canClose = !1, this._canNavigate = !1, this._signals.chapters.closed.dispatch();
                        for (var t = 0, n = this._steps.length; t < n; t++) {
                            var o = this._steps[t];
                            TweenMax.to(o.material.uniforms.uAlpha, .3, {
                                value: 0,
                                delay: .3 + .06 * t
                            }), TweenMax.to(o.offsetPos, .6, {
                                x: 40,
                                ease: Expo.easeOut,
                                delay: .06 * t,
                                onComplete: function() {
                                    e._currentIndex = null
                                }
                            })
                        }
                    }
                }
            }, {
                key: "_addModels",
                value: function() {
                    for (var e = this._textures.get("home.textures.chapters.disable_state"), t = this._textures.get("home.textures.chapters.enable_state"), n = 0, o = this._stepsIds.length; n < o; n++) {
                        var r = this._gltf.getObject("chapters", this._stepsIds[n]);
                        this._initObj(r, e, t, n), this._steps.push(r), this.add(r)
                    }
                    this._intersectables = function(e) {
                        if (Array.isArray(e)) {
                            for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                            return n
                        }
                        return Array.from(e)
                    }(this._steps)
                }
            }, {
                key: "_setActiveStep",
                value: function() {
                    f(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_setActiveStep", this).call(this);
                    var e = this._steps[0],
                        n = this._activeStep.name,
                        o = this._previousStep ? this._previousStep.name : null;
                    "intro" === n.name ? TweenMax.to(e.offsetPos, .7, {
                        y: .2,
                        ease: Expo.easeOut
                    }) : o && "intro" === o.name && TweenMax.to(e.offsetPos, .5, {
                        y: 0
                    }), "close" === n.name ? TweenMax.to(e.offsetPos, .5, {
                        y: 1
                    }) : o && "close" === o.name && "intro" !== n.name && TweenMax.to(e.offsetPos, .5, {
                        y: 0
                    })
                }
            }, {
                key: "_inputValidate",
                value: function(e) {
                    var t, n, o = this;
                    e = e || this._stepsIds[this.currentIndex], t = this._activeStep;
                    var r = .5;
                    "close" === e ? (this._close(), r = 0) : "intro" === e ? n = function() {
                        o._signals.home.startIntroVideo.dispatch()
                    } : "chapter_1" === e ? (this._save.set("level-1.checkpoint", -1), n = function() {
                        i.default.navigate("/level/level-1")
                    }) : "chapter_2" === e ? (this._save.set("level-2.checkpoint", -1), n = function() {
                        i.default.navigate("/level/level-2")
                    }) : "outro" === e && (this._save.set("level-3.checkpoint", -1), n = function() {
                        i.default.navigate("/level/level-3")
                    }), setTimeout(function() {
                        o._sounds.play("active-selection")
                    }, 1e3 * r), "close" !== e && (this._canNavigate = !1, TweenMax.to(t.offsetPos, 1, {
                        z: "outro" === e ? 2 : 7,
                        ease: Elastic.easeInOut.config(1),
                        onComplete: function() {
                            setTimeout(function() {
                                n()
                            }, 1e3)
                        }
                    }), this._scene.validateSprite.position.y = this._activeStep.position.y - 2.5, "outro" === e && (this._scene.validateSprite.position.y = this._activeStep.position.y, this._scene.validateSprite.position.z = -10), setTimeout(function() {
                        o._scene.validateSprite.mc.gotoAndPlay(0)
                    }, 400)), (0, s.event)("menu", "menu-chapters-".concat(e))
                }
            }, {
                key: "_onBack",
                value: function(e, n) {
                    f(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_onBack", this).call(this, e, n), this._close()
                }
            }]) && c(n.prototype, o), t
        }()).prototype, "update", [o], Object.getOwnPropertyDescriptor(r.prototype, "update"), r.prototype), p(r.prototype, "_open", [o], Object.getOwnPropertyDescriptor(r.prototype, "_open"), r.prototype), p(r.prototype, "_close", [o], Object.getOwnPropertyDescriptor(r.prototype, "_close"), r.prototype), p(r.prototype, "_onBack", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onBack"), r.prototype), r);
        t.default = d, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\nuniform sampler2D tDisable;\nuniform sampler2D tEnable;\nuniform float uProgress;\nuniform float uTime;\nuniform float uTimeOffset;\nuniform float uAlpha;\nuniform vec3 uLightSource;\nvarying vec2 vUv;\nvarying vec3 vNormal;\n\nvoid main() {\n  vec4 disableTexel = texture2D(tDisable, vUv);\n  vec4 enableTexel = texture2D(tEnable, vUv);\n\n  float progressVariation = \n    sin(uTime * .05 + uTimeOffset) + \n    sin(uTime * .01 + 2.7 * uTimeOffset) + \n    cos(uTime * .04 + 1.2 * uTimeOffset);\n  progressVariation = progressVariation / 3.; // average\n  progressVariation = (progressVariation + 1.) / 2.; // normalise\n\n  vec3 normalizedlightSource = normalize(uLightSource);\n  float exposure = max(0.0, dot(normalizedlightSource, vNormal));\n\n  gl_FragColor = mix(disableTexel, enableTexel, uProgress * .7 + progressVariation * .3 * uProgress);\n  gl_FragColor = vec4(mix(gl_FragColor.rgb, gl_FragColor.rgb * exposure, .2), gl_FragColor.a * uAlpha);\n\n  \n}"
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e, t, n, o, i, a) {
        var s = r.default.call(this, e, t, n, o, i, a);
        return s - t >= 0 ? (this._setSpeed(-this._getSpeed(a), a), t) : s
    };
    var o, r = (o = n(148)) && o.__esModule ? o : {
        default: o
    };
    e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e, t, n) {
        return e - (e - t) / n.friction
    }, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = f(n(20)),
            a = f(n(37)),
            s = f(n(149)),
            l = f(n(35)),
            u = n(2),
            c = n(6);

        function f(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function p(e) {
            return (p = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function d(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function h(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : h(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }

        function y(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var v = (y((r = function(e) {
            function t() {
                var e;
                for (var n in function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t), (e = function(e, t) {
                        if (t && ("object" === p(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)))._name = "HomeMenuEntity", e._modeId = "menu", e._canContinue = !1, e._animatedIn = !1, e._save.data)
                    if (e._save.data[n].seen) {
                        e._canContinue = !0;
                        break
                    }
                return e._stepsIds = ["continue", "new_game", "chapters"], e._init(), e._bind(), e
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, s.default), n = t, (o = [{
                key: "update",
                value: function(e, n) {
                    h(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "update", this).call(this, e, n), this._orbe.position.y = this._orbe.basePos.y + .05 * (Math.sin(.002 * n - 232) + Math.sin(.002 * n + 432)) + .05
                }
            }, {
                key: "_init",
                value: function() {
                    h(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_init", this).call(this), this.position.y = -3, this.position.z = -16
                }
            }, {
                key: "_bind",
                value: function() {
                    h(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_bind", this).call(this), this._signals.home.menuIn.add(this._animationIn), this._signals.home.videoStarted.add(this._onVideoStart), this._signals.chapters.closed.add(this._onChapterClose)
                }
            }, {
                key: "_unbind",
                value: function() {
                    h(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_unbind", this).call(this), this._signals.home.menuIn.remove(this._animationIn), this._signals.home.videoStarted.remove(this._onVideoStart), this._signals.chapters.closed.remove(this._onChapterClose)
                }
            }, {
                key: "_prepareAnimationIn",
                value: function() {
                    for (var e = 0, t = this._steps.length; e < t; e++) {
                        var n = e % 2 == 0 ? 1 : -1;
                        this._steps[e].offsetRot.z = .8 * n, this._steps[e].offsetPos.y = -15
                    }
                    this._orbe.scale.set(1e-6, 1e-6, 1e-6), this._orbe.position.y += 5, this._orbe.rotation.z = 10
                }
            }, {
                key: "_animationIn",
                value: function() {
                    var e = this;
                    if (!this._animatedIn) {
                        this._animatedIn = !0, this._enterTl = new TimelineMax({
                            paused: !0,
                            delay: 1,
                            onComplete: function() {
                                e.currentIndex = e._canContinue ? 0 : 1, e._canNavigate = !0
                            }
                        });
                        for (var t = 0, n = this._steps.length; t < n; t++) this._enterTl.to(this._steps[t].offsetRot, 1.3, {
                            z: this._steps[t].baseRot.z,
                            ease: Expo.easeOut
                        }, .2 * t), this._enterTl.to(this._steps[t].offsetPos, .7, {
                            y: 0,
                            z: 0,
                            ease: Expo.easeOut
                        }, .2 * t);
                        this._enterTl.to(this._orbe.scale, 1, {
                            x: this._orbe.baseScale.x,
                            y: this._orbe.baseScale.y,
                            z: this._orbe.baseScale.z,
                            ease: Elastic.easeOut
                        }, 1), this._enterTl.to(this._orbe.position, 1, {
                            y: 0,
                            ease: Expo.easeOut
                        }, 1), this._enterTl.to(this._orbe.rotation, 1, {
                            z: 0,
                            ease: Expo.easeOut
                        }, 1), this._enterTl.play(), this._tls.push(this._enterTl)
                    }
                }
            }, {
                key: "_addModels",
                value: function() {
                    for (var e = this._textures.get("home.textures.menu.disable_state"), t = this._textures.get("home.textures.menu.enable_state"), n = 0, o = this._stepsIds.length; n < o; n++) {
                        var r = this._gltf.getObject("menu", this._stepsIds[n]);
                        this._initObj(r, e, t, n), this._steps.push(r), this.add(r)
                    }
                    this._orbe = this._gltf.getObject("menu", "orbe"), this._orbe.basePos = this._orbe.position.clone(), this._orbe.baseScale = this._orbe.scale.clone(), this._orbe.material = new THREE.MeshBasicMaterial({
                        map: t,
                        transparent: !0
                    }), this.add(this._orbe), this._intersectables = function(e) {
                        if (Array.isArray(e)) {
                            for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                            return n
                        }
                        return Array.from(e)
                    }(this._steps)
                }
            }, {
                key: "_setActiveStep",
                value: function() {
                    h(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_setActiveStep", this).call(this), "continue" === this._activeStep.name ? TweenMax.to(this._orbe.position, 1, {
                        z: 1.2,
                        delay: .1,
                        ease: Elastic.easeOut.config(1)
                    }) : this._previousStep && "continue" === this._previousStep.name && TweenMax.to(this._orbe.position, 1, {
                        z: 0,
                        ease: Elastic.easeOut.config(1)
                    })
                }
            }, {
                key: "_inputValidate",
                value: function(e) {
                    var t, n, o = this;
                    e = e || this._stepsIds[this.currentIndex], t = this._activeStep;
                    var r = .5;
                    "new_game" === e ? n = function() {
                        o._newGame()
                    } : "continue" === e ? n = function() {
                        o._continueGame()
                    } : "chapters" === e && (this._openChapters(), r = 0), setTimeout(function() {
                        o._sounds.play("active-selection")
                    }, 1e3 * r), "chapters" !== e && (this._canNavigate = !1, this._scene.validateSprite.position.y = "continue" === e ? this._activeStep.position.y - 3.7 : this._activeStep.position.y - 3.5, setTimeout(function() {
                        o._scene.validateSprite.mc.gotoAndPlay(0)
                    }, 400), TweenMax.to(t.offsetPos, 1, {
                        z: 7,
                        ease: Elastic.easeInOut.config(1),
                        onComplete: function() {
                            setTimeout(function() {
                                n()
                            }, 1e3)
                        }
                    }), TweenMax.to(this._orbe.basePos, 2, {
                        y: 20,
                        ease: Expo.easeOut
                    }), TweenMax.to(this._orbe.scale, 1.5, {
                        x: .001,
                        y: .001,
                        z: .001,
                        ease: Expo.easeOut
                    }), TweenMax.to(this._orbe.rotation, 1.5, {
                        x: 10,
                        y: 10,
                        z: 10,
                        ease: Expo.easeOut
                    })), (0, c.event)("menu", "menu-main-".concat(e))
                }
            }, {
                key: "_newGame",
                value: function() {
                    this._signals.home.startIntroVideo.dispatch()
                }
            }, {
                key: "_continueGame",
                value: function() {
                    var e = this._save.lastSeenLevelName;
                    e.indexOf("level") > -1 ? a.default.navigate("/level/".concat(e)) : a.default.navigate("/".concat(e))
                }
            }, {
                key: "_inputUp",
                value: function() {
                    var e = (0, u.modAbs)(this.currentIndex - 1, this._steps.length);
                    this.currentIndex = 0 !== e || this._canContinue ? e : this._steps.length - 1, this._sounds.play("interface-soft-stone")
                }
            }, {
                key: "_inputDown",
                value: function() {
                    var e = (0, u.modAbs)(this.currentIndex + 1, this._steps.length);
                    this.currentIndex = 0 !== e || this._canContinue ? e : 1, this._sounds.play("interface-soft-stone")
                }
            }, {
                key: "_openChapters",
                value: function() {
                    TweenMax.to(this._orbe.position, .7, {
                        x: -40,
                        ease: Expo.easeOut
                    }), TweenMax.to(this._orbe.material, .3, {
                        opacity: 0,
                        delay: .3
                    });
                    for (var e = 0, t = this._steps.length; e < t; e++) {
                        var n = this._steps[e];
                        TweenMax.to(n.material.uniforms.uAlpha, .2, {
                            value: 0,
                            delay: .3 + .06 * e
                        }), TweenMax.to(this._steps[e].offsetPos, .6, {
                            x: -40,
                            ease: Expo.easeOut,
                            delay: .06 * e + .06
                        })
                    }
                    this._signals.chapters.open.dispatch(), this._state.homeMode = "chapters", this._canNavigate = !1
                }
            }, {
                key: "_onVideoStart",
                value: function() {}
            }, {
                key: "_onIntersectEnter",
                value: function(e) {
                    0 !== e.object.indexId || this._canContinue ? h(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_onIntersectEnter", this).call(this, e) : l.default.addCursor("not-allowed")
                }
            }, {
                key: "_onIntersectMove",
                value: function(e) {
                    0 !== e.object.indexId || this._canContinue ? h(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_onIntersectMove", this).call(this, e) : l.default.addCursor("not-allowed")
                }
            }, {
                key: "_onChapterClose",
                value: function() {
                    var e = this;
                    this._state.homeMode = "menu", TweenMax.to(this._orbe.position, .7, {
                        x: 0,
                        z: 0,
                        ease: Elastic.easeOut.config(.1),
                        delay: .2
                    }), TweenMax.to(this._orbe.material, .3, {
                        opacity: 1,
                        dealy: .2
                    });
                    for (var t = function(t, n) {
                            var o = e._steps[t];
                            TweenMax.to(o.material.uniforms.uAlpha, .3, {
                                value: 1,
                                delay: .06 * t
                            }), TweenMax.to(o.offsetPos, .7, {
                                x: 0,
                                z: 0,
                                ease: Elastic.easeOut.config(.1),
                                delay: .05 * t + .2,
                                onComplete: function() {
                                    t === n - 1 && (e._canNavigate = !0)
                                }
                            })
                        }, n = 0, o = this._steps.length; n < o; n++) t(n, o)
                }
            }, {
                key: "canInteract",
                get: function() {
                    return this._canNavigate && i.default.homeMode === this._modeId
                }
            }]) && d(n.prototype, o), t
        }()).prototype, "update", [o], Object.getOwnPropertyDescriptor(r.prototype, "update"), r.prototype), y(r.prototype, "_animationIn", [o], Object.getOwnPropertyDescriptor(r.prototype, "_animationIn"), r.prototype), y(r.prototype, "_onVideoStart", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onVideoStart"), r.prototype), y(r.prototype, "_onIntersectEnter", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onIntersectEnter"), r.prototype), y(r.prototype, "_onIntersectMove", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onIntersectMove"), r.prototype), y(r.prototype, "_onChapterClose", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onChapterClose"), r.prototype), r);
        t.default = v, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\nuniform float uTime;\nuniform float uTimeOffset;\nuniform vec3 uColor1;\nuniform vec3 uColor2;\n\nvarying vec2 vUv;\nvarying vec3 vNormal;\n\nvoid main() {\n  vUv;\n\n  float progress = \n    cos(uTime * .03 + uTimeOffset) + \n    sin(uTime * .01 + 3. * uTimeOffset) + \n    cos(uTime * .01 + 42. * uTimeOffset);\n  progress = progress / 3.; // average\n  progress = (progress + 1.) / 2.; // normalise\n\n  vec3 normalizedlightSource = normalize(vec3(-0.11, 0.56, -0.11));\n  float exposure = max(0.0, dot(normalizedlightSource, vNormal));\n\n  gl_FragColor = vec4(mix(mix(uColor1, uColor2, progress), vec3(exposure), .1), 1.);\n}"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\nuniform sampler2D tDisable;\nuniform sampler2D tEnable;\nuniform float uProgress;\nuniform float uTime;\nuniform float uTimeOffset;\nvarying vec2 vUv;\n\nvoid main() {\n\n  vec4 disableTexel = texture2D(tDisable, vUv);\n  vec4 enableTexel = texture2D(tEnable, vUv);\n\n  float progressVariation = \n    sin(uTime * .005 + uTimeOffset) + \n    sin(uTime * .002 + 2.7 * uTimeOffset) + \n    cos(uTime * .004 + 1.2 * uTimeOffset);\n  progressVariation = progressVariation / 3.; // average\n  progressVariation = (progressVariation + 1.) / 2.; // normalise\n\n  gl_FragColor = mix(disableTexel, enableTexel, progressVariation * uProgress * .8 + .2);\n}"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function() {
        return (0, o.randomInt)(0, 1) ? -1 : 1
    };
    var o = n(85);
    e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e, t) {
        return {
            x: e * Math.cos(t),
            y: e * Math.sin(t)
        }
    }, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e, t, n) {
        var r = (0, o.modAbs)(t - e, 2 * Math.PI);
        return r > Math.PI && (r -= 2 * Math.PI), e + r * (0, o.clamp)(n, 0, 1)
    };
    var o = n(85);
    e.exports = t.default
}, function(e, t, n) {
    "use strict";

    function o(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var r = function() {
        function e(t) {
            var n = t.data,
                o = t.sheetNb;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this.data = n, this.frames = n.frames, this.meta = n.meta, this.sheetNb = o, this.totalFrames = 0;
            for (var r = 0, i = this.sheetNb; r < i; r++) this.totalFrames += this.frames[r].length
        }
        var t, n;
        return t = e, (n = [{
            key: "getFrameData",
            value: function(e) {
                for (var t = this.meta[0], n = this.frames[0][0], o = 0, r = 0, i = this.frames.length; r < i; r++)
                    for (var a = 0, s = this.frames[r].length; a < s; a++) {
                        var l = this.frames[r][a];
                        if (l.id === e) {
                            t = this.meta[r], n = l, o = r;
                            break
                        }
                    }
                return {
                    meta: t,
                    frameData: n,
                    sheetIndex: o
                }
            }
        }]) && o(t.prototype, n), e
    }();
    t.default = r, e.exports = t.default
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#define SHADER_NAME Basic-sprite\n\n@import common\n\nuniform sampler2D tAtlas0;\nuniform float uAtlas0Enabled;\n\n// {{ uniforms }}\n\nuniform vec2 uPos;\nuniform vec2 uSize;\nuniform vec2 uSourcePos;\nuniform vec2 uSourceSize;\nuniform vec2 uRatio;\nuniform float uSample;\nuniform float uAtlas1Enabled;\n\nvarying vec2 vUv;\n\n@import fogFragPars\n\nvoid main() {\n\n  vec2 coords = vec2(vUv.x, 1. - vUv.y);\n  float mixVal = 1.;\n\n  if (\n    coords.x < uSourcePos.x || coords.x > uSourcePos.x + uSourceSize.x ||\n    coords.y < uSourcePos.y || coords.y > uSourcePos.y + uSourceSize.y\n    ) {\n    discard;\n  } else {\n    vec2 pivot = vec2(\n      (uSourcePos.y + uSize.x * .5) / uRatio.x + uPos.x,\n      (uSourcePos.x + uSize.y * .5) / uRatio.y + uPos.y\n    );\n\n    vec2 uv = vec2(\n      (coords.x - uSourcePos.x) / uRatio.x + uPos.x,\n      (coords.y - uSourcePos.y) / uRatio.y + uPos.y\n    );\n\n    vec4 color = texture2D(tAtlas0, uv) * uAtlas0Enabled;\n    // {{ textures }}\n\n    if (color.a < ALPHA_TEST) discard;\n\n    gl_FragColor = color;\n\n    @import fogFrag\n  }\n}\n"
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = u(n(51)),
            a = u(n(16)),
            s = u(n(79)),
            l = u(n(370));

        function u(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function c() {
            return (c = Object.assign || function(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = arguments[t];
                    for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
                }
                return e
            }).apply(this, arguments)
        }

        function f(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var p, d, h, y, v, _, m = (p = (r = function() {
            function e(t) {
                var n = t.framesProvider,
                    o = t.atlasId,
                    r = t.matOptions,
                    u = t.vertexShader,
                    f = t.fragmentShader;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this._previousFrame = null, this.framesProvider = n;
                var p = {};
                if (n.sheetNb > 1)
                    for (var d = 0, h = n.sheetNb; d < h; d++) p["tAtlas".concat(d)] = {
                        value: i.default.get("".concat(o, ".").concat(d))
                    }, p["uAtlas".concat(d, "Enabled")] = {
                        value: 0
                    };
                else p.tAtlas0 = {
                    value: i.default.get("".concat(o))
                }, p.uAtlas0Enabled = {
                    value: 0
                };
                u = u || s.default, f = f || l.default;
                for (var y = "", v = "", _ = 1, m = n.sheetNb.length; _ <= m; _++) y += "\n        uniform sampler2D tAtlas".concat(_, ";\n        uniform float uAtlas").concat(_, "Enabled;\n      "), v += "\n        color += texture2D(tAtlas".concat(_, ", uv) * uAtlas").concat(_, "Enabled;\n      ");
                f.replace("// {{ uniforms }}", y), f.replace("// {{ textures }}", v);
                var g = o.split(".");
                g = "".concat(g[g.length - 1], "_sprite"), this.material = new a.default(c({
                    name: g,
                    vertexShader: u,
                    fragmentShader: f,
                    uniforms: c({}, p, {
                        uPos: {
                            value: new THREE.Vector2
                        },
                        uSize: {
                            value: new THREE.Vector2
                        },
                        uSourcePos: {
                            value: new THREE.Vector2
                        },
                        uSourceSize: {
                            value: new THREE.Vector2
                        },
                        uRatio: {
                            value: new THREE.Vector2
                        }
                    }),
                    defines: {
                        ALPHA_TEST: .5
                    },
                    transparent: !0,
                    whitelistGui: ["transparent"]
                }, r))
            }
            var t, n;
            return t = e, (n = [{
                key: "render",
                value: function(e) {
                    var t = e.currentFrame;
                    if (this._previousFrame !== t) {
                        for (var n = this.material.uniforms, o = this.framesProvider, r = o.getFrameData(t), i = r.meta, a = r.frameData, s = r.sheetIndex, l = i.size.w, u = i.size.h, c = a.sourceSize.w, f = a.sourceSize.h, p = 0, d = o.sheetNb; p < d; p++) n["uAtlas".concat(p, "Enabled")].value = s === p ? 1 : 0;
                        n.uPos.value.set(a.frame.x / l, a.frame.y / u), n.uSize.value.set(a.frame.w / l, a.frame.h / u), n.uSourcePos.value.set(a.spriteSourceSize.x / c, a.spriteSourceSize.y / f), n.uSourceSize.value.set(a.spriteSourceSize.w / c, a.spriteSourceSize.h / f), n.uRatio.value.set(l / c, u / f), this._previousFrame = t
                    }
                }
            }]) && f(t.prototype, n), e
        }()).prototype, d = "render", h = [o], y = Object.getOwnPropertyDescriptor(r.prototype, "render"), v = r.prototype, _ = {}, Object.keys(y).forEach(function(e) {
            _[e] = y[e]
        }), _.enumerable = !!_.enumerable, _.configurable = !!_.configurable, ("value" in _ || _.initializer) && (_.writable = !0), _ = h.slice().reverse().reduce(function(e, t) {
            return t(p, d, e) || e
        }, _), v && void 0 !== _.initializer && (_.value = _.initializer ? _.initializer.call(v) : void 0, _.initializer = void 0), void 0 === _.initializer && (Object.defineProperty(p, d, _), _ = null), r);
        t.default = m, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var o = function() {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var o = t[n];
                    o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
                }
            }
            return function(t, n, o) {
                return n && e(t.prototype, n), o && e(t, o), t
            }
        }(),
        r = function() {
            function e() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    n = t.fps,
                    o = void 0 === n ? 30 : n,
                    r = t.frameRenderer,
                    i = void 0 === r ? null : r,
                    a = t.framesProvider,
                    s = void 0 === a ? null : a,
                    l = t.loop,
                    u = void 0 === l || l,
                    c = t.loopFrame,
                    f = void 0 === c ? 0 : c,
                    p = t.name,
                    d = void 0 === p ? "" : p,
                    h = t.reverse,
                    y = void 0 !== h && h,
                    v = t.startFrame,
                    _ = void 0 === v ? 0 : v,
                    m = t.totalFrames,
                    g = void 0 === m ? 0 : m,
                    b = t.yoyo,
                    w = void 0 !== b && b;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this.addFrameScript = this.addFrameScript.bind(this), this.addLabelToFrame = this.addLabelToFrame.bind(this), this.getLabelForFrame = this.getLabelForFrame.bind(this), this.gotoAndPlay = this.gotoAndPlay.bind(this), this.gotoAndStop = this.gotoAndStop.bind(this), this.play = this.play.bind(this), this.removeFrameScript = this.removeFrameScript.bind(this), this.removeLabelFromFrame = this.removeLabelFromFrame.bind(this), this.render = this.render.bind(this), this.startRendering = this.startRendering.bind(this), this.stop = this.stop.bind(this), this.stopRendering = this.stopRendering.bind(this), this.tick = this.tick.bind(this), this.validateFrame = this.validateFrame.bind(this), this._isPlaying = !1, this._shouldRender = !1, this._framesScripts = [], this._labels = {}, this.currentFrame = _, this.fps = o, this.frameRenderer = i, this.framesProvider = s, this.loop = u, this.loopFrame = f, this.name = d, this.reverse = y, this.totalFrames = g, this.yoyo = w
            }
            return o(e, [{
                key: "addFrameScript",
                value: function(e, t) {
                    if (e = this.validateFrame(e), null !== t) {
                        for (var n = this._framesScripts.length, o = 0; o < n; o++) {
                            var r = this._framesScripts[o];
                            if (r.frame === e) return void(r.callback = t)
                        }
                        this._framesScripts.push({
                            frame: e,
                            callback: t
                        })
                    } else this.removeFrameScript(e)
                }
            }, {
                key: "addLabelToFrame",
                value: function(e, t) {
                    if ("string" == typeof t) throw new Error("frame parameter must not be a string");
                    if (t = this.validateFrame(t), "string" != typeof e) throw new Error("label parameter is not a string");
                    this._labels[e] = t
                }
            }, {
                key: "getLabelForFrame",
                value: function(e) {
                    e = this.validateFrame(e);
                    var t = null,
                        n = -1;
                    for (var o in this._labels) {
                        var r = this._labels[o];
                        e >= r && r > n && (t = o, n = r)
                    }
                    return t
                }
            }, {
                key: "gotoAndPlay",
                value: function(e) {
                    this.currentFrame = this.validateFrame(e), this.play()
                }
            }, {
                key: "gotoAndStop",
                value: function(e) {
                    this.currentFrame = this.validateFrame(e), this.render(), this.stop()
                }
            }, {
                key: "play",
                value: function() {
                    this.render(), this._isPlaying = !0, this.startRendering()
                }
            }, {
                key: "removeFrameScript",
                value: function(e) {
                    e = this.validateFrame(e);
                    for (var t = this._framesScripts.length, n = 0; n < t; n++) {
                        var o = this._framesScripts[n];
                        if (o.frame === e) {
                            this._framesScripts.splice(this._framesScripts.indexOf(o), 1);
                            break
                        }
                    }
                }
            }, {
                key: "removeLabelFromFrame",
                value: function(e) {
                    void 0 !== this._labels[e] && delete this._labels[e]
                }
            }, {
                key: "render",
                value: function() {
                    "function" == typeof this.frameRenderer && this.frameRenderer(this);
                    for (var e = this._framesScripts.length, t = 0; t < e; t++) {
                        var n = this._framesScripts[t];
                        if (n.frame === this.currentFrame) {
                            n.callback();
                            break
                        }
                    }
                }
            }, {
                key: "startRendering",
                value: function() {
                    this._shouldRender = !0
                }
            }, {
                key: "stop",
                value: function() {
                    this._isPlaying = !1, this.stopRendering()
                }
            }, {
                key: "stopRendering",
                value: function() {
                    this._shouldRender = !1
                }
            }, {
                key: "tick",
                value: function() {
                    this._isPlaying && (this.reverse ? this.currentFrame - 1 < 0 ? this.loop && (this.yoyo ? (this.currentFrame++, this.reverse = !1) : this.currentFrame = this.totalFrames - 1) : this.currentFrame-- : this.currentFrame + 1 > this.totalFrames - 1 ? this.loop && (this.yoyo ? (this.currentFrame--, this.reverse = !0) : this.currentFrame = this.loopFrame) : this.currentFrame++, this._shouldRender && this.render())
                }
            }, {
                key: "validateFrame",
                value: function(e) {
                    return "string" == typeof e ? e = void 0 !== this._labels[e] ? this._labels[e] : 0 : e < 0 ? e = 0 : e > this.totalFrames - 1 && (e = this.totalFrames - 1), e
                }
            }]), e
        }();
    t.default = r, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = p(n(5)),
            a = p(n(31)),
            s = n(2),
            l = p(n(365)),
            u = p(n(150)),
            c = p(n(364)),
            f = p(n(363));

        function p(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function d(e) {
            return (d = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function h(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function y(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var v = (y((r = function(e) {
            function t() {
                var e;
                return function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), (e = function(e, t) {
                    if (t && ("object" === d(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)))._name = "HomeLogoEntity", e._animatedIn = !1, e._ids = ["h", "e", "r", "a", "c", "l", "o", "o_details", "s", "left", "right"], e._objs = {}, e._objsArray = [], e._letters = [], e._orbes = [], e._init(), e._createTls(), e._bind(), e._animatedIn = !1, e
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), n = t, (o = [{
                key: "destroy",
                value: function() {
                    clearTimeout(this._animateOLetter),
                        function e(t, n, o) {
                            null === t && (t = Function.prototype);
                            var r = Object.getOwnPropertyDescriptor(t, n);
                            if (void 0 === r) {
                                var i = Object.getPrototypeOf(t);
                                return null === i ? void 0 : e(i, n, o)
                            }
                            if ("value" in r) return r.value;
                            var a = r.get;
                            return void 0 !== a ? a.call(o) : void 0
                        }(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this._destroyGUI(), this._unbind()
                }
            }, {
                key: "update",
                value: function(e, t) {
                    for (var n = 0, o = this._letters.length; n < o; n++) {
                        var r = this._letters[n],
                            i = r.offsetTime,
                            a = r.speed,
                            s = .002 * t;
                        r.offsetPos.y = (Math.sin(s * a.x + i.x) + Math.cos(s * a.y + i.y) + Math.cos(s * a.z + i.z)) / 3 * .1, r.offsetPos.z = (Math.sin(s * a.y + i.x) + Math.cos(s * a.z + i.z) + Math.cos(s * a.x + i.y)) / 3 * .05
                    }
                    for (var l = 0, u = this._orbes.length; l < u; l++) {
                        var c = this._orbes[l],
                            f = c.offsetTime,
                            p = c.speed,
                            d = .004 * t;
                        c.offsetPos.y = (Math.sin(d * p.x + f.x) + Math.cos(d * p.y + f.y) + Math.cos(d * p.z + f.z)) / 3 * .15, c.offsetPos.z = (Math.sin(d * p.y + f.x) + Math.cos(d * p.z + f.z) + Math.cos(d * p.x + f.y)) / 3 * .07, c.offsetRot.x += .001 * e * p.x, c.offsetRot.y += .001 * e * p.y, c.offsetRot.z += .001 * e * p.z, c.rotation.x = c.baseRot.x + c.offsetRot.x, c.rotation.y = c.baseRot.y + c.offsetRot.y, c.rotation.z = c.baseRot.z + c.offsetRot.z, c.material.uniforms.uTime.value = t
                    }
                    for (var h = 0, y = this._objsArray.length; h < y; h++) {
                        var v = this._objsArray[h];
                        v.position.copy(v.basePos).add(v.offsetPos)
                    }
                    this._letterMaterial.uniforms.uTime.value = t
                }
            }, {
                key: "_init",
                value: function() {
                    for (var e = 0, t = this._ids.length; e < t; e++) {
                        var n = this._ids[e],
                            o = this._gltf.getObject("logo", n);
                        this._objs[n] = o, this._objsArray.push(o), o.basePos = o.position.clone(), o.baseRot = o.rotation.clone(), o.offsetPos = new THREE.Vector3, o.offsetRot = new THREE.Euler, o.speed = new THREE.Vector3((0, s.randomSign)() * (0, s.randomFloat)(.1, 1), (0, s.randomSign)() * (0, s.randomFloat)(.1, 1), (0, s.randomSign)() * (0, s.randomFloat)(.1, 1)), o.offsetTime = new THREE.Vector3((0, s.randomFloat)(0, 1e3), (0, s.randomFloat)(0, 1e3), (0, s.randomFloat)(0, 1e3)), this.add(o), 1 === n.length && this._letters.push(o)
                    }
                    this._letters.push(this._objs.o_details), this._orbes.push(this._objs.left, this._objs.right);
                    var r = this._gltf.getObject("logo", "sprite");
                    this._sprite = new a.default({
                        debug: !1,
                        geometry: r.geometry,
                        fps: 24,
                        dataId: "home.json.sprites.logo",
                        atlasId: "home.textures.sprites.logo",
                        mcOptions: {
                            loop: !1
                        }
                    }), this._letterO = this._objs.o, this._oDetails = this._objs.o_details, this.add(this._sprite), this.position.x = .35, this.position.y = 7.7, this.position.z = -15, this._setMaterials(), this._createGUI()
                }
            }, {
                key: "_createTls",
                value: function() {
                    var e = this;
                    this._enterTl = new TimelineMax({
                        paused: !0,
                        delay: .3
                    }), this._oTl = new TimelineMax({
                        paused: !0
                    }), this._tls.push(this._enterTl, this._oTl), this._oTl.set(this._letterO.rotation, {
                        y: 2 * -Math.PI
                    }).to(this._letterO.rotation, 2, {
                        y: 0,
                        ease: Elastic.easeOut.config(.5)
                    });
                    for (var t = [], n = [], o = 0, r = this._objsArray.length - 2; o < r; o++) {
                        var i = this._objsArray[o];
                        t.push(i.basePos), n.push(i.rotation)
                    }
                    for (var a = [], s = [], l = 0, u = this._orbes.length; l < u; l++) {
                        var c = this._orbes[l];
                        a.push(c.scale), a.push(c.baseRot)
                    }
                    t.reverse(), n.reverse(), a.reverse(), s.reverse(), TweenMax.set(t, {
                        z: 10
                    }), TweenMax.set(n, {
                        y: 1
                    }), TweenMax.set(a, {
                        x: 1e-5,
                        y: 1e-5,
                        z: 1e-5
                    }), this._enterTl.addCallback(function() {
                        e._sprite.mc.play(0)
                    }, 0).to(this._letterMaterial.uniforms.uProgress, 1, {
                        value: 1,
                        ease: Expo.easeOut
                    }, 0).staggerTo(t, 1, {
                        z: 0,
                        ease: Elastic.easeOut.config(.2)
                    }, .01, 0).staggerTo(n, 1.2, {
                        y: 0,
                        ease: Expo.easeOut
                    }, .1, 0).staggerTo(a, .7, {
                        x: 1,
                        y: 1,
                        z: 1,
                        ease: Expo.easeInOut
                    }, .3, 0).fromTo(s, 1, {
                        y: -10
                    }, {
                        y: 0,
                        ease: Expo.easeOut
                    }, .3, 0).addCallback(function() {
                        e._animateOLetter()
                    }, "-=1")
                }
            }, {
                key: "_setMaterials",
                value: function() {
                    var e = this._textures.get("home.textures.logo.disable_state"),
                        t = this._textures.get("home.textures.logo.enable_state");
                    this._letterMaterial = new THREE.ShaderMaterial({
                        vertexShader: l.default,
                        fragmentShader: c.default,
                        uniforms: {
                            tDisable: {
                                value: e
                            },
                            tEnable: {
                                value: t
                            },
                            uProgress: {
                                value: 0
                            },
                            uTime: {
                                value: 0
                            },
                            uTimeOffset: {
                                value: (0, s.randomFloat)(0, 100)
                            }
                        },
                        side: THREE.FrontSide
                    });
                    for (var n = 0, o = this._letters.length; n < o; n++) this._letters[n].material = this._letterMaterial;
                    for (var r = 0, i = this._orbes.length; r < i; r++) this._orbes[r].material = new THREE.ShaderMaterial({
                        vertexShader: u.default,
                        fragmentShader: f.default,
                        uniforms: {
                            uColor1: {
                                value: new THREE.Color(9034715)
                            },
                            uColor2: {
                                value: new THREE.Color(6812402)
                            },
                            uTime: {
                                value: 0
                            },
                            uTimeOffset: {
                                value: (0, s.randomFloat)(0, 100)
                            }
                        },
                        side: THREE.FrontSide
                    })
                }
            }, {
                key: "_animationIn",
                value: function() {
                    this._animatedIn || (this._animatedIn = !0, this._enterTl.play(0))
                }
            }, {
                key: "_animateOLetter",
                value: function() {
                    var e = this;
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0], clearTimeout(this._randomOLetterTimeout), this._oTl.play(0), this._randomOLetterTimeout = setTimeout(function() {
                        0 === (0, s.randomInt)(0, 2) ? (e._sprite.mc.gotoAndPlay(0), e._randomOLetterTimeout = setTimeout(function() {
                            e._animateOLetter()
                        }, 300)) : e._animateOLetter()
                    }, (0, s.randomFloat)(7e3, 1e4))
                }
            }, {
                key: "_createGUI",
                value: function() {
                    this._guiFolder = this._gui.addFolder(this._name);
                    var e = this._guiFolder.addFolder("position");
                    e.add(this.position, "x"), e.add(this.position, "y"), e.add(this.position, "z")
                }
            }, {
                key: "_destroyGUI",
                value: function() {
                    this._guiFolder && this._gui.removeFolder(this._guiFolder)
                }
            }, {
                key: "_bind",
                value: function() {
                    this._signals.home.menuIn.add(this._onMenuIn)
                }
            }, {
                key: "_unbind",
                value: function() {
                    this._signals.home.menuIn.remove(this._onMenuIn)
                }
            }, {
                key: "_onMenuIn",
                value: function() {
                    this._animationIn()
                }
            }]) && h(n.prototype, o), t
        }()).prototype, "update", [o], Object.getOwnPropertyDescriptor(r.prototype, "update"), r.prototype), y(r.prototype, "_onMenuIn", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onMenuIn"), r.prototype), r);
        t.default = v, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(153)) && o.__esModule ? o : {
        default: o
    };

    function i(e) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function a(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var s = function(e) {
        function t(e) {
            var n;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (n = function(e, t) {
                if (t && ("object" === i(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, "Stats")))._renderer = e, n._lastTime = 0, n._refreshThreshold = 2e3, n._autoRefresh = !1, n._createFolders(), n
        }
        var n, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, r.default), n = t, (o = [{
            key: "update",
            value: function(e, t) {
                t - this._lastTime < this._refreshThreshold || !this._autoRefresh || (this._lastTime = t, this._refreshValues())
            }
        }, {
            key: "_createFolders",
            value: function() {
                var e = {
                    Programs: this._renderer.info.programs.length,
                    Geometries: this._renderer.info.memory.geometries,
                    Textures: this._renderer.info.memory.textures,
                    Calls: this._renderer.info.render.calls,
                    Triangles: this._renderer.info.render.triangles,
                    Points: this._renderer.info.render.points,
                    Lines: this._renderer.info.render.lines
                };
                this._folder.add(this, "_autoRefresh").name("Auto refresh"), this._folder.add(this, "_refreshValues").name("Refresh"), this._programs = this._folder.add(e, "Programs"), this._geometries = this._folder.add(e, "Geometries"), this._textures = this._folder.add(e, "Textures"), this._calls = this._folder.add(e, "Calls"), this._triangles = this._folder.add(e, "Triangles"), this._points = this._folder.add(e, "Points"), this._lines = this._folder.add(e, "Lines")
            }
        }, {
            key: "_refreshValues",
            value: function() {
                this._programs.setValue(this._renderer.info.programs.length), this._geometries.setValue(this._renderer.info.memory.geometries), this._textures.setValue(this._renderer.info.memory.textures), this._calls.setValue(this._renderer.info.render.calls), this._triangles.setValue(this._renderer.info.render.triangles), this._points.setValue(this._renderer.info.render.points), this._lines.setValue(this._renderer.info.render.lines)
            }
        }]) && a(n.prototype, o), t
    }();
    t.default = s, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = f(n(188)),
            a = f(n(4)),
            s = f(n(86)),
            l = f(n(65)),
            u = f(n(187)),
            c = f(n(153));

        function f(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function p(e) {
            return (p = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function d(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var h, y, v, _, m, g, b = (h = (r = function(e) {
            function t(e) {
                var n;
                return function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), (n = function(e, t) {
                    if (t && ("object" === p(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, "Scene")))._scene = e, n._signals = a.default, n._materialCtrl = e.materialCtrl, n._lights = s.default, n._postProcessing = n._scene.postProcessing, n._cfg = l.default[e.name], n._cfg && n._create(), n
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, c.default), n = t, (o = [{
                key: "_create",
                value: function() {
                    var e = this;
                    this._folder.add(this, "_copyMaterialsCfg").name("Copy to clipboard");
                    var t = this._cfg.common,
                        n = this._folder.addFolder("Common"),
                        o = n.addColor(t, "background").name("Background").onChange(function(t) {
                            e._scene.background = new THREE.Color(t)
                        }),
                        r = n.addFolder("Fog");
                    r.addColor(t.fog, "color").name("Color").onChange(function(t) {
                        o.setValue(t), e._scene.background = new THREE.Color(t), e._materialCtrl.setAllUniforms("uFogColor", new THREE.Color(t))
                    }), r.add(t.fog.distance, "density", 0, .3, 1e-4).name("Distance density").onChange(function(t) {
                        return e._materialCtrl.setAllUniforms("uFogDistanceDensity", t)
                    });
                    var i = r.addFolder("Height");
                    i.add(t.fog.height, "density", 0, 1, 1e-4).name("Height density").onChange(function(t) {
                        return e._materialCtrl.setAllUniforms("uFogHeightDensity", t)
                    }), i.add(t.fog.height, "propagation", 0, 10, 1e-4).name("Height propagation").onChange(function(t) {
                        return e._materialCtrl.setAllUniforms("uFogHeightPropagation", t)
                    }), i.add(t.fog.height, "offset", -100, 100, .01).name("Height offset").onChange(function(t) {
                        return e._materialCtrl.setAllUniforms("uFogHeightOffset", t)
                    });
                    var a = i.addFolder("Noise");
                    a.add(t.fog.height.noise, "speed", 0, .05, 1e-4).name("Speed").onChange(function(t) {
                        return e._materialCtrl.setAllUniformsComponent("uFogHeightNoise", "x", t)
                    }), a.add(t.fog.height.noise, "frequency", 0, 5, .001).name("Frequency").onChange(function(t) {
                        return e._materialCtrl.setAllUniformsComponent("uFogHeightNoise", "y", t)
                    }), a.add(t.fog.height.noise, "amplitude", 0, 5, .001).name("Amplitude").onChange(function(t) {
                        return e._materialCtrl.setAllUniformsComponent("uFogHeightNoise", "z", t)
                    }), a.add(t.fog.height.noise, "offset", 0, 10, .1).name("Offset").onChange(function(t) {
                        return e._materialCtrl.setAllUniformsComponent("uFogHeightNoise", "w", t)
                    });
                    var s = n.addFolder("Shadow");
                    s.addColor(t.shadow, "color").name("Color").onChange(function(t) {
                        return e._materialCtrl.setAllUniforms("uShadowColor", new THREE.Color(t))
                    }), s.add(t.shadow, "intensity", 0, 1, .01).name("Intensity").onChange(function(t) {
                        return e._materialCtrl.setAllUniforms("uShadowIntensity", t)
                    });
                    var l = n.addFolder("Noise");
                    l.add(t.noise, "scale", 0, 1e3, .1).name("Scale").onChange(function(t) {
                        return e._materialCtrl.setAllUniformsComponent("uNoise", "x", t)
                    }), l.add(t.noise, "intensity", 0, 1, .001).name("Intensity").onChange(function(t) {
                        return e._materialCtrl.setAllUniformsComponent("uNoise", "y", t)
                    }), l.add(t.noise, "mask", 0, 1, .001).name("Mask").onChange(function(t) {
                        return e._materialCtrl.setAllUniformsComponent("uNoise", "z", t)
                    });
                    var c = n.addFolder("Ambient");
                    c.add(t.ambient, "intensity", 0, 1, .01).name("Intensity").onChange(function(t) {
                        return e._materialCtrl.setAllUniforms("uAmbientIntensity", t)
                    }), c.addFolder("Ground").addColor(t.ambient.ground, "color").name("Color").onChange(function(t) {
                        return e._materialCtrl.setAllUniforms("uGroundColor", new THREE.Color(t))
                    });
                    var f = c.addFolder("Sky");
                    f.add(t.ambient.sky, "intensity", 0, 1, .01).name("Intensity").onChange(function(t) {
                        return e._materialCtrl.setAllUniforms("uSkyIntensity", t)
                    }), f.addColor(t.ambient.sky, "color").name("Color").onChange(function(t) {
                        return e._materialCtrl.setAllUniforms("uSkyColor", new THREE.Color(t))
                    });
                    var p = f.addFolder("Position");
                    p.add(t.ambient.sky.position, "x", -100, 100, .01).name("X").onChange(function(t) {
                        return e._materialCtrl.setAllUniformsComponent("uSkyPosition", "x", t)
                    }), p.add(t.ambient.sky.position, "y", -100, 100, .01).name("Y").onChange(function(t) {
                        return e._materialCtrl.setAllUniformsComponent("uSkyPosition", "y", t)
                    }), p.add(t.ambient.sky.position, "z", -100, 100, .01).name("Z").onChange(function(t) {
                        return e._materialCtrl.setAllUniformsComponent("uSkyPosition", "z", t)
                    });
                    var d = c.addFolder("Sun");
                    d.add(t.ambient.sun, "intensity", 0, 1, .01).name("Intensity").onChange(function(t) {
                        return e._materialCtrl.setAllUniforms("uSunIntensity", t)
                    }), d.addColor(t.ambient.sun, "color").name("Color").onChange(function(t) {
                        return e._materialCtrl.setAllUniforms("uSunColor", new THREE.Color(t))
                    });
                    var h = d.addFolder("Position");
                    h.add(t.ambient.sun.position, "x", -100, 100, .01).name("X").onChange(function(t) {
                        return e._materialCtrl.setAllUniformsComponent("uSunPosition", "x", t)
                    }), h.add(t.ambient.sun.position, "y", -100, 100, .01).name("Y").onChange(function(t) {
                        return e._materialCtrl.setAllUniformsComponent("uSunPosition", "y", t)
                    }), h.add(t.ambient.sun.position, "z", -100, 100, .01).name("Z").onChange(function(t) {
                        return e._materialCtrl.setAllUniformsComponent("uSunPosition", "z", t)
                    });
                    var y = n.addFolder("Key light");
                    y.addColor(t.keyLight, "color").name("Color").onChange(function(t) {
                        return e._lights.keyLight.color.set(t)
                    }), y.add(t.keyLight, "intensity", 0, 1, .01).name("Intensity").onChange(function(t) {
                        e._lights.keyLight.intensity = t
                    });
                    var v = y.addFolder("Position");
                    v.add(t.keyLight.position, "x", -100, 100, .1).name("X").onChange(function(t) {
                        e._lights.keyLight.offsetPos.x = t, e._lights.setShadowUpdate(!0)
                    }), v.add(t.keyLight.position, "y", -100, 100, .1).name("Y").onChange(function(t) {
                        e._lights.keyLight.offsetPos.y = t, e._lights.setShadowUpdate(!0)
                    }), v.add(t.keyLight.position, "z", -100, 100, .1).name("Z").onChange(function(t) {
                        e._lights.keyLight.offsetPos.z = t, e._lights.setShadowUpdate(!0)
                    });
                    var _ = this._cfg.objects;
                    this._materialCtrl.materials.forEach(function(e) {
                        var t = {};
                        e.whitelistGui.forEach(function(n) {
                            t[n] = e[n]
                        }), _[e.name] = t
                    });
                    var m = this._folder.addFolder("Objects"),
                        g = function(t) {
                            var n = _[t],
                                o = e._materialCtrl.get(t);
                            (0, u.default)({
                                object: n,
                                folder: m,
                                folderName: t,
                                changeCb: function(e, t) {
                                    o.forEach(function(n) {
                                        n[e] = t
                                    })
                                }
                            })
                        };
                    for (var b in _) g(b)
                }
            }, {
                key: "_copyMaterialsCfg",
                value: function() {
                    var e = JSON.stringify(this._cfg, null, 2);
                    (0, i.default)(e) && this._signals.toastMsg.log.dispatch("debug", "#SceneGUI - Config copied to clipboard")
                }
            }]) && d(n.prototype, o), t
        }()).prototype, y = "_copyMaterialsCfg", v = [o], _ = Object.getOwnPropertyDescriptor(r.prototype, "_copyMaterialsCfg"), m = r.prototype, g = {}, Object.keys(_).forEach(function(e) {
            g[e] = _[e]
        }), g.enumerable = !!g.enumerable, g.configurable = !!g.configurable, ("value" in g || g.initializer) && (g.writable = !0), g = v.slice().reverse().reduce(function(e, t) {
            return t(h, y, e) || e
        }, g), m && void 0 !== g.initializer && (g.value = g.initializer ? g.initializer.call(m) : void 0, g.initializer = void 0), void 0 === g.initializer && (Object.defineProperty(h, y, g), g = null), r);
        t.default = b, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t) {
    e.exports = {
        locale: "en",
        available: ["en", "fr"],
        data: {
            en: {
                locale: "en",
                global: {
                    meta: {
                        title: "Heraclos, and the quest he never ever asked for",
                        description: "Discover Heraclos, an adventure video game made in WebGL and a final school project from Gobelins, the school of image.",
                        url: "http://heraclosgame.com",
                        authors: "Maud Butin, Alexandre Delalleau, Patrick Heng, Fabien Motte, Lovis Odin"
                    },
                    gtm: {
                        key: "UA-121325938-1"
                    },
                    site: {
                        404: 'Sorry :(<br>You are lost.<br><a href="/">Click here to find your way.</a> ',
                        ie: "Your browser is not supported for this game, check here for latest versions : <a href='http://outdatedbrowser.com/en' target='_blank'>http://outdatedbrowser.com/en</a>.",
                        webgl: "Your browser does not support WebGL, try it on <a href='https://www.mozilla.org/fr/firefox/new/' target='_blank'>Download Firefox</a>.",
                        mobile: "Sorry :(<br>Tablet and mobile are not supported, please try this game on desktop."
                    },
                    quality: {
                        title: "Select the quality",
                        low_name: "Low",
                        low_reco: "Recommended for low power laptops",
                        medium_name: "Medium",
                        medium_reco: "Recommended for high-end laptop and mid-end desktop",
                        high_name: "High",
                        high_reco: "Recommended for computer with a dedicated graphic card"
                    },
                    checkpoints: {
                        default: "Checkpoint passed.",
                        msg_1: "Good boy, you passed the checkpoint!",
                        msg_2: "Hurry up, checkpoint passed!",
                        msg_3: "Check - check - cheeeeeckpoint!",
                        msg_4: "Checkpoint, checky one!"
                    },
                    loader: {
                        advice_left: "You can use a",
                        advice_right: "for a better experience",
                        advice_ig_1: "Follow the fireflies if you are lost!",
                        advice_ig_2: "Use the right power at the right moment!",
                        advice_ig_3: "Fireflies are here to guide you!",
                        advice_ig_4: "With headphones and gamepad it's much better!"
                    }
                },
                menu: {
                    main: {
                        keyboard: "keyboard",
                        gamepad: "gamepad",
                        layout: "Keyboard layout",
                        azerty: "azerty",
                        leave: "menu",
                        about: "about",
                        controls: "controls",
                        credits: "credits"
                    },
                    about: {
                        what_title: "WHAT IS HERACLOS ?",
                        what_desc: "Heraclos is our final project at the School of images GOBELINS. It was made by a team of 5 interactive students between April and June 2018.",
                        who_title: "WHO ARE WE ?",
                        alexandre: "Alexandre Delalleau",
                        maud: "Maud Butin",
                        patrick: "Patrick Heng",
                        fabien: "Fabien Motte",
                        lovis: "Lovis Odin",
                        friends_title: "Our friends",
                        mohave: "Mohave",
                        lordre: "Louis Gabriel Gonzalez",
                        antoine: "Antoine Fleury",
                        alexandre_url: "https://twitter.com/alexlesubmarine",
                        maud_url: "https://twitter.com/mauditbutin",
                        patrick_url: "https://twitter.com/Pat_Hg",
                        fabien_url: "https://twitter.com/FabMotte",
                        lovis_url: "https://twitter.com/OdinLovis",
                        mohave_url: "https://soundcloud.com/mohave-2",
                        lordre_url: "https://soundcloud.com/lordrecollectif",
                        antoine_url: "https://www.instagram.com/fulayunu/"
                    }
                },
                home: {
                    meta: {
                        title: "Heraclos, and the quest he never ever asked for"
                    },
                    catchphrase: {
                        mid_title: "and the quest he never ever asked for",
                        small_title: "please, help him"
                    },
                    intro_video: {
                        skip: "skip video"
                    }
                },
                tutorial: {
                    title: {
                        main: "Introduction",
                        sub: "Old Ruins"
                    },
                    keyboard: {
                        move_qwerty: "Use [[w-btn]] [[a-btn]] [[s-btn]] [[d-btn]] to run.",
                        move_azerty: "Use [[z-btn]] [[q-btn]] [[s-btn]] [[d-btn]] to run.",
                        jump: "Press [[space-btn]] to jump.",
                        camera: "Drag with your [[pointer]] to move the camera.",
                        fireflies: "If you are lost, follow the fireflies!",
                        power: "Press [[e-btn]] to use your active power. Use it to move the rock."
                    },
                    gamepad: {
                        move_qwerty: "Use [[leftstick]] to run.",
                        move_azerty: "Use [[leftstick]] to run.",
                        jump: "Press [[Ag-btn]] to jump.",
                        camera: "Drag with [[rightstick]] to move the camera.",
                        fireflies: "If you are lost, follow the fireflies!",
                        power: "Press [[Xg-btn]] to use your active power. Use it to move the rock."
                    }
                },
                level: {
                    death_title: {
                        msg_1: "You died!",
                        msg_2: "Such a loser!",
                        msg_3: "You Failed!",
                        msg_4: "Try Again!",
                        msg_5: "At least you tried!"
                    },
                    death_laser: {
                        msg_1: "Bang bang, he shot me down",
                        msg_2: "Ouch, that seems painful",
                        msg_3: "Why is there a smell of roasted chicken?",
                        msg_4: "BZZZZ"
                    },
                    death_fall: {
                        msg_1: "There is nothing to see down there…",
                        msg_2: "Sorry, you’re not a bird",
                        msg_3: "To infinity and not beyond!",
                        msg_4: "Please mind the gap between the train and the platform"
                    },
                    death_thunder: {
                        msg_1: "Why is there a smell of roasted chicken?",
                        msg_2: "To infinity and not beyond!",
                        msg_3: "DZZZZZ",
                        msg_4: "Slower than the light"
                    },
                    death_water: {
                        msg_1: "Don’t forget your rubber ring next time",
                        msg_2: "You should have learned how to swim",
                        msg_3: "You drowned in your own tears",
                        msg_4: "Glouglouglou"
                    }
                },
                "level-1": {
                    title: {
                        main: "Chapter I",
                        sub: "The Underworld"
                    },
                    instructions: {
                        rock_jump: "Use your power to move rocks and jump on it."
                    }
                },
                "level-2": {
                    title: {
                        main: "Chapter II",
                        sub: "Wide River"
                    },
                    instructions: {
                        switch_power_qwerty: "You can press [[q-btn]] to switch power.",
                        switch_power_azerty: "You can press [[a-btn]] to switch power.",
                        switch_power_gamepad: "You can press [[Bg-btn]] to switch power.",
                        platform_qwerty: "Select your 2nd power and hold [[e-btn]]  to build a platform.",
                        platform_azerty: "Select your 2nd power and hold [[e-btn]]  to build a platform.",
                        platform_gamepad: "Select your 2nd power and hold [[Xg-btn]] to build a platform.",
                        goal_1: "Climb as fast as you can, you don't know how to swim!",
                        dash_power_1: "You just found a power!",
                        dash_power_2: "Use your ability to dash to avoid the lightning."
                    }
                },
                "level-3": {
                    title: {
                        main: "Outro",
                        sub: "Sacred Mountain"
                    }
                },
                credits: {
                    main: {
                        title: "main team",
                        member_name_maud: "Maud BUTIN",
                        member_role_maud: "Art Director,Illustrator,Scenarist,Copywriter",
                        member_name_alexandre: "Alexandre DELALLEAU",
                        member_role_alexandre: "Lead 3D Generalist,Level Designer,Motion Designer,UI Designer",
                        member_name_lovis: "Lovis ODIN",
                        member_role_lovis: "3D Generalist,Level Designer,Game Designer,UX Designer",
                        member_name_patrick: "Patrick HENG",
                        member_role_patrick: "Creative Developer,Game Designer,Motion Designer,UX Designer",
                        member_name_fabien: "Fabien MOTTE",
                        member_role_fabien: "Creative Developer,Game Designer,Motion Designer,UX Designer"
                    },
                    collaborators: {
                        title: "Collaborators",
                        collaborator_name_mohave: "Mohave<br>Louis Gabriel GONZALEZ",
                        collaborator_role_mohave: "Original Soundtracks,Lead Sound Designer",
                        collaborator_name_antoine: "Antoine FLEURY",
                        collaborator_role_antoine: "2D video animator"
                    },
                    thanks: {
                        title: "Special thanks",
                        thanks_0: "Baptiste OLIVIER",
                        thanks_1: "Nicolas MATHIS",
                        thanks_2: "Emillien CHICHE",
                        thanks_3: "Juan MANOSALVAS",
                        thanks_4: "Karine MILOUDI",
                        thanks_5: "Jeremie GENTIEN",
                        thanks_6: "William MAPAN ",
                        thanks_7: "Julien RAULT",
                        thanks_8: "Tesha O’NEILL",
                        thanks_9: "Emilien FRANCOIS",
                        thanks_10: "Gil POLGUERE"
                    },
                    extra: {
                        gobelins: "\rGOBELINS, l’école de l’image"
                    },
                    voiceover: {
                        title: "Voice-overs",
                        voiceover_name_0: "Dave Soltura",
                        voiceover_role_0: "Heraclos",
                        voiceover_name_1: "Troy W. Hudson",
                        voiceover_role_1: "The God"
                    }
                }
            },
            fr: {
                locale: "fr",
                global: {
                    meta: {
                        title: "Heraclos, and the quest he never ever asked for",
                        description: "Discover Heraclos, an adventure video game made in WebGL and a final school project from Gobelins, the school of image.",
                        url: "http://heraclosgame.com",
                        authors: "Maud Butin, Alexandre Delalleau, Patrick Heng, Fabien Motte, Lovis Odin"
                    },
                    gtm: {
                        key: "UA-121325938-1"
                    },
                    site: {
                        404: 'Sorry :(<br>You are lost.<br><a href="/">Click here to find your way.</a> ',
                        ie: "Votre navigateur web n'est pas supporté pour ce jeu, obtenez ici les versions les plus récentes : <a href='http://outdatedbrowser.com/fr'>http://outdatedbrowser.com/fr</a>",
                        webgl: "Your browser does not support WebGL, try it on <a href='https://www.mozilla.org/fr/firefox/new/' target='_blank'>Download Firefox</a>.",
                        mobile: "Sorry :(<br>Tablet and mobile are not supported, please try this game on desktop."
                    },
                    quality: {
                        title: "Pour une meilleure expérience,<br />sélectionnez votre qualité",
                        low_name: "Bas",
                        low_reco: "Recommended for laptop with no graphic card",
                        medium_name: "Moyen",
                        medium_reco: "Recommended for high-end laptop and mid-end desktop",
                        high_name: "Haut",
                        high_reco: "Recommended for computer with a dedicated graphic card"
                    },
                    checkpoints: {
                        default: "Checkpoint passed.",
                        msg_1: "Good boy, you passed the checkpoint!",
                        msg_2: "Hurry up, checkpoint passed!",
                        msg_3: "Check - check - cheeeeeckpoint!",
                        msg_4: "Checkpoint, checky one!"
                    },
                    loader: {
                        advice_left: "You can use a",
                        advice_right: "for a better experience",
                        advice_ig_1: "Follow the fireflies if you are lost!",
                        advice_ig_2: "Use the right power at the right moment!",
                        advice_ig_3: "Fireflies are here to guide you!",
                        advice_ig_4: "With headphones and gamepad it's much better!"
                    }
                },
                menu: {
                    main: {
                        keyboard: "keyboard",
                        gamepad: "gamepad",
                        layout: "Keyboard layout",
                        azerty: "azerty",
                        leave: "menu",
                        about: "about",
                        controls: "controls",
                        credits: "credits"
                    },
                    about: {
                        what_title: "WHAT IS HERACLOS ?",
                        what_desc: "Heraclos is our final project at the School of images GOBELINS. It was made by a team of 5 interactive students between April and June 2018. ",
                        who_title: "WHO ARE WE ?",
                        alexandre: "Alexandre Delalleau",
                        maud: "Maud Butin",
                        patrick: "Patrick Heng",
                        fabien: "Fabien Motte",
                        lovis: "Lovis Odin",
                        friends_title: "Our friends",
                        mohave: "Mohave",
                        lordre: "Louis Gabriel Gonzalez",
                        antoine: "Antoine Fleury",
                        alexandre_url: "https://twitter.com/alexlesubmarine",
                        maud_url: "https://twitter.com/mauditbutin",
                        patrick_url: "https://twitter.com/Pat_Hg",
                        fabien_url: "https://twitter.com/FabMotte",
                        lovis_url: "https://twitter.com/OdinLovis",
                        mohave_url: "https://soundcloud.com/mohave-2",
                        lordre_url: "https://soundcloud.com/lordrecollectif",
                        antoine_url: "https://www.instagram.com/fulayunu/"
                    }
                },
                home: {
                    meta: {
                        title: "Heraclos, and the quest he never ever asked for"
                    },
                    catchphrase: {
                        mid_title: "and the quest he never ever asked for",
                        small_title: "please, help him"
                    },
                    intro_video: {
                        skip: "skip video"
                    }
                },
                tutorial: {
                    title: {
                        main: "Introduction",
                        sub: "Old Ruins"
                    },
                    keyboard: {
                        move_qwerty: "Use [[w-btn]] [[a-btn]] [[s-btn]] [[d-btn]] to run.",
                        move_azerty: "Use [[z-btn]] [[q-btn]] [[s-btn]] [[d-btn]] to run.",
                        jump: "Press [[space-btn]] to jump.",
                        camera: "Drag with your [[pointer]] to move the camera.",
                        fireflies: "If you are lost, follow the fireflies!",
                        power: "Press [[e-btn]] to use your active power. Use it to move the rock."
                    },
                    gamepad: {
                        move_qwerty: "Use [[leftstick]] to run.",
                        move_azerty: "Use [[leftstick]] to run.",
                        jump: "Press [[Ag-btn]] to jump.",
                        camera: "Drag with [[rightstick]] to move the camera.",
                        fireflies: "If you are lost, follow the fireflies!",
                        power: "Press [[Xg-btn]] to use your active power. Use it to move the rock."
                    }
                },
                level: {
                    death_title: {
                        msg_1: "You died!",
                        msg_2: "Such a loser!",
                        msg_3: "You Failed!",
                        msg_4: "Try Again!",
                        msg_5: "At least you tried!"
                    },
                    death_laser: {
                        msg_1: "Bang bang, he shot me down",
                        msg_2: "Ouch, that seems painful",
                        msg_3: "Why is there a smell of roasted chicken?",
                        msg_4: "BZZZZ"
                    },
                    death_fall: {
                        msg_1: "There is nothing to see down there…",
                        msg_2: "Sorry, you’re not a bird",
                        msg_3: "To infinity and not beyond!",
                        msg_4: "Please mind the gap between the train and the platform"
                    },
                    death_thunder: {
                        msg_1: "Why is there a smell of roasted chicken?",
                        msg_2: "To infinity and not beyond!",
                        msg_3: "DZZZZZ",
                        msg_4: "Slower than the light"
                    },
                    death_water: {
                        msg_1: "Don’t forget your rubber ring next time",
                        msg_2: "You should have learned how to swim",
                        msg_3: "You drowned in your own tears",
                        msg_4: "Glouglouglou"
                    }
                },
                "level-1": {
                    title: {
                        main: "Chapter I",
                        sub: "The Underworld"
                    },
                    instructions: {
                        rock_jump: "Use your power to move rocks and jump on it."
                    }
                },
                "level-2": {
                    title: {
                        main: "Chapter II",
                        sub: "Wide River"
                    },
                    instructions: {
                        switch_power_qwerty: "You can press [[q-btn]] to switch power.",
                        switch_power_azerty: "You can press [[a-btn]] to switch power.",
                        switch_power_gamepad: "You can press [[Bg-btn]] to switch power.",
                        platform_qwerty: "Select your 2nd power and hold [[e-btn]]  to build a platform.",
                        platform_azerty: "Select your 2nd power and hold [[e-btn]]  to build a platform.",
                        platform_gamepad: "Select your 2nd power and hold [[Xg-btn]] to build a platform.",
                        goal_1: "Climb as fast as you can, you don't know how to swim!",
                        dash_power_1: "You just found a power!",
                        dash_power_2: "Use your ability to dash to avoid the lightning."
                    }
                },
                "level-3": {
                    title: {
                        main: "Outro",
                        sub: "Sacred Mountain"
                    }
                },
                credits: {
                    main: {
                        title: "main team",
                        member_name_maud: "Maud BUTIN",
                        member_role_maud: "Art Director,Illustrator,Scenarist,Copywriter",
                        member_name_alexandre: "Alexandre DELALLEAU",
                        member_role_alexandre: "Lead,3D Generalist,Level Designer,Motion Designer,UI Designer",
                        member_name_lovis: "Lovis ODIN",
                        member_role_lovis: "3D Generalist,Level Designer,Game Designer,UX Designer",
                        member_name_patrick: "Patrick HENG",
                        member_role_patrick: "Creative Developer,Game Designer,Motion Designer,UX Designer",
                        member_name_fabien: "Fabien MOTTE",
                        member_role_fabien: "Creative Developer,Game Designer,Motion Designer,UX Designer"
                    },
                    collaborators: {
                        title: "Collaborators",
                        collaborator_name_mohave: "Mohave<br>Louis Gabriel GONZALEZ",
                        collaborator_role_mohave: "Original Soundtracks,Lead Sound Designer",
                        collaborator_name_antoine: "Antoine FLEURY",
                        collaborator_role_antoine: "2D video animator"
                    },
                    thanks: {
                        title: "Special thanks",
                        thanks_0: "Baptiste OLIVIER",
                        thanks_1: "Nicolas MATHIS",
                        thanks_2: "Emillien CHICHE",
                        thanks_3: "Juan MANOSALVAS",
                        thanks_4: "Karine MILOUDI",
                        thanks_5: "Jeremie GENTIEN",
                        thanks_6: "William MAPAN ",
                        thanks_7: "Julien RAULT",
                        thanks_8: "Tesha O’NEILL",
                        thanks_9: "Emilien FRANCOIS",
                        thanks_10: "Gil POLGUERE"
                    },
                    extra: {
                        gobelins: "GOBELINS, l’école de l’image"
                    },
                    voiceover: {
                        title: "Voice-overs",
                        voiceover_name_0: "Dave Soltura",
                        voiceover_role_0: "Heraclos",
                        voiceover_name_1: "Troy W. Hudson",
                        voiceover_role_1: "The God"
                    }
                }
            }
        }
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e) {
        var t = {
                animations: e.animations,
                scene: e.scene.clone(!0)
            },
            n = {};
        e.scene.traverse(function(e) {
            e.isSkinnedMesh && (n[e.name] = e)
        });
        var o = {},
            r = {};
        for (var i in t.scene.traverse(function(e) {
                e.isBone && (o[e.name] = e), e.isSkinnedMesh && (r[e.name] = e)
            }), n) {
            for (var a = n[i].skeleton, s = r[i], l = [], u = 0, c = a.bones.length; u < c; ++u) {
                var f = o[a.bones[u].name];
                l.push(f)
            }
            s.bind(new THREE.Skeleton(l, a.boneInverses), s.matrixWorld)
        }
        return t
    }, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e) {
        return (0, r.default)(o.default.get(e))
    };
    var o = i(n(66)),
        r = i(n(377));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function e(t) {
        for (var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : function(e) {
                return !0
            }, o = 0, r = t.length; o < r; o++) {
            var i = t[o];
            if (n(i)) return i;
            if (i.children.length) {
                var a = e(i.children, n);
                if (a) return a
            }
        }
        return null
    }, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e, t) {
        var n = e.children;
        if (t && "function" != typeof t) {
            var o = t;
            t = function(e) {
                return e.name === o
            }
        }
        var i = (0, r.default)(n, t);
        return t || (i = e), i || null
    };
    var o, r = (o = n(379)) && o.__esModule ? o : {
        default: o
    };
    e.exports = t.default
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\nattribute vec3 position;\nattribute vec4 instancePosition;\nattribute vec3 instanceScale;\nattribute vec4 instanceOrientation;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nmat3 quatToMat_1_0(vec4 q) {\n  mat3 mat;\n\n  float sqw = q.w * q.w;\n  float sqx = q.x * q.x;\n  float sqy = q.y * q.y;\n  float sqz = q.z * q.z;\n  \n  // invs (inverse square length) is only required if quaternion is not already normalised\n  float invs = 1.0 / (sqx + sqy + sqz + sqw);\n  mat[0][0] = ( sqx - sqy - sqz + sqw) * invs; // since sqw + sqx + sqy + sqz =1/invs*invs\n  mat[1][1] = (-sqx + sqy - sqz + sqw) * invs;\n  mat[2][2] = (-sqx - sqy + sqz + sqw) * invs;\n  \n  float tmp1 = q.x * q.y;\n  float tmp2 = q.z * q.w;\n  mat[1][0] = 2.0 * (tmp1 + tmp2) * invs;\n  mat[0][1] = 2.0 * (tmp1 - tmp2) * invs;\n  \n  tmp1 = q.x * q.z;\n  tmp2 = q.y * q.w;\n  mat[2][0] = 2.0 * (tmp1 - tmp2) * invs;\n  mat[0][2] = 2.0 * (tmp1 + tmp2) * invs;\n  tmp1 = q.y * q.z;\n  tmp2 = q.x * q.w;\n  mat[2][1] = 2.0 * (tmp1 + tmp2) * invs;\n  mat[1][2] = 2.0 * (tmp1 - tmp2) * invs;\n\n  return mat;\n}\n\n\n\n\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\t#include <uv_vertex>\n\n\t#include <skinbase_vertex>\n\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\n\t#include <begin_vertex>\n\n  mat3 orientation = quatToMat_1_0(instanceOrientation);\n\n  transformed *= instanceScale;\n  transformed *= orientation;\n  transformed += instancePosition.xyz;\n\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\n#include <common>\n#include <uv_pars_vertex>\n\n@import skinningVertPars\n\nvoid main() {\n\tvec3 transformed = vec3(position);\n\tvec3 objectNormal = vec3(normal);\n\n  @import skinningVertBase\n  @import skinningVert\n  @import skinningVertNormal\n\n\tvec4 mvPosition = modelViewMatrix * vec4(transformed, 1.0);\n\n\tgl_Position = projectionMatrix * mvPosition;\n}\n"
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = i(n(16)),
        r = i(n(382));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function a(e) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function s() {
        return (s = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        }).apply(this, arguments)
    }
    var l = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === a(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, n))).vertexShader = r.default, e.fragmentShader = THREE.ShaderChunk.depth_frag;
            var o = THREE.UniformsUtils.clone(THREE.ShaderLib.depth.uniforms);
            return e.uniforms = s({}, e.uniforms, o), e.defines = s({}, e.defines, {
                DEPTH_PACKING: THREE.RGBADepthPacking
            }), n.skinning && (e.defines.USE_SKINNING = !0), e
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), t
    }();
    t.default = l, e.exports = t.default
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#define SHADER_NAME Debug\n\nuniform vec3 uColor;\nuniform float uOpacity;\n\nvoid main() {\n  gl_FragColor = vec4(uColor, uOpacity);\n}\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#define SHADER_NAME Basic-raw\n\nattribute vec3 position;\nattribute vec2 uv;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nvoid main() {  \n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(50)) && o.__esModule ? o : {
            default: o
        },
        i = "/assets/audios",
        a = "".concat(i, "/themes"),
        s = "".concat(i, "/ui"),
        l = "".concat(i, "/fx"),
        u = "".concat(i, "/voices/heraclos"),
        c = "".concat(i, "/voices/god"),
        f = {
            common: {
                "interface-soft-stone": {
                    url: "".concat(s, "/interface-soft-stone.mp3"),
                    volume: .7
                },
                "active-selection": {
                    url: "".concat(s, "/active-selection.mp3"),
                    volume: .7
                },
                helper: {
                    url: "".concat(s, "/helper.mp3"),
                    volume: .1
                }
            },
            level: {
                "fall-stone-0": {
                    url: "".concat(l, "/fall-stone-0.mp3"),
                    volume: .35
                },
                "fall-stone-1": {
                    url: "".concat(l, "/fall-stone-1.mp3"),
                    volume: .35
                },
                "fall-stone-2": {
                    url: "".concat(l, "/fall-stone-2.mp3"),
                    volume: .35
                },
                "fall-stone-3": {
                    url: "".concat(l, "/fall-stone-3.mp3"),
                    volume: .35
                },
                "falling-stone": {
                    url: "".concat(l, "/falling-stone.mp3"),
                    volume: .4
                },
                chest: {
                    url: "".concat(l, "/chest.mp3")
                },
                woosh: {
                    url: "".concat(l, "/woosh.mp3"),
                    volume: 1
                },
                "woosh-2": {
                    url: "".concat(l, "/woosh-2.mp3"),
                    volume: 1
                },
                "woosh-3": {
                    url: "".concat(l, "/woosh-3.mp3"),
                    volume: 1
                },
                walking: {
                    url: "".concat(l, "/walking.mp3"),
                    loop: !0,
                    volume: 0
                },
                "rock-construct": {
                    url: "".concat(l, "/rock-construct.mp3"),
                    volume: 1
                },
                error: {
                    url: "".concat(l, "/error.mp3"),
                    volume: .2
                },
                explosion: {
                    url: "".concat(l, "/explosion.mp3"),
                    volume: .14
                },
                "validate-click": {
                    url: "".concat(l, "/validate-click.mp3"),
                    volume: .8
                },
                "magic-shot": {
                    url: "".concat(l, "/magic-shot.mp3"),
                    volume: .5
                },
                "jump-0": {
                    url: "".concat(u, "/jump-0.mp3"),
                    volume: 1
                },
                "jump-1": {
                    url: "".concat(u, "/jump-1.mp3"),
                    volume: 1
                },
                "jump-2": {
                    url: "".concat(u, "/jump-2.mp3"),
                    volume: 1
                },
                scream: {
                    url: "".concat(u, "/scream.mp3"),
                    volume: 1
                },
                sigh: {
                    url: "".concat(u, "/sigh.mp3"),
                    volume: 1.7
                },
                "hus-0": {
                    url: "".concat(u, "/hus-0.mp3"),
                    volume: 1.7
                },
                "hus-1": {
                    url: "".concat(u, "/hus-1.mp3"),
                    volume: 1.7
                },
                "want-beer": {
                    url: "".concat(u, "/want-beer.mp3"),
                    volume: 3
                },
                "happened-to-me": {
                    url: "".concat(u, "/happened-to-me.mp3"),
                    volume: 3
                },
                electrocution: {
                    url: "".concat(u, "/electrocution.mp3"),
                    volume: 3
                },
                "power-2": {
                    url: "".concat(c, "/power-2.mp3"),
                    volume: 1
                },
                "hope-youre-glad": {
                    url: "".concat(c, "/hope-youre-glad.mp3"),
                    volume: 1
                },
                "hurry-up-song": {
                    url: "".concat(c, "/hurry-up-song.mp3"),
                    volume: 1
                },
                "hurry-up": {
                    url: "".concat(c, "/hurry-up.mp3"),
                    volume: 1
                },
                laugh: {
                    url: "".concat(c, "/laugh.mp3"),
                    volume: 1
                },
                loser: {
                    url: "".concat(c, "/loser.mp3"),
                    volume: 1
                },
                "sigh-2": {
                    url: "".concat(u, "/sigh.mp3"),
                    volume: 3
                },
                grr: {
                    url: "".concat(u, "/grr.mp3"),
                    volume: 3
                },
                hmm: {
                    url: "".concat(u, "/hmm.mp3"),
                    volume: 3
                },
                "i-hate-this-guy": {
                    url: "".concat(u, "/i-hate-this-guy.mp3"),
                    volume: 3
                },
                "just-want-to-go-home": {
                    url: "".concat(u, "/just-want-to-go-home.mp3"),
                    volume: 3
                }
            },
            home: {
                "home-theme": {
                    url: "".concat(a, "/home-theme.mp3"),
                    loop: !0,
                    volume: .35
                }
            },
            credits: {
                "credits-theme": {
                    url: "".concat(a, "/credits-theme.mp3"),
                    loop: !0,
                    volume: .35
                }
            },
            tutorial: {
                "tutorial-theme": {
                    url: "".concat(a, "/tutorial-theme.mp3"),
                    loop: !0,
                    volume: .35
                },
                intro: {
                    url: "".concat(c, "/intro.mp3"),
                    volume: 1
                }
            },
            "level-1": {
                "level-1-theme": {
                    url: "".concat(a, "/level-1-theme.mp3"),
                    loop: !0,
                    volume: .35
                },
                "laser-hit": {
                    url: "".concat(l, "/laser-hit.mp3")
                },
                "power-1": {
                    url: "".concat(c, "/power-1.mp3"),
                    volume: 1
                }
            },
            "level-2": {
                "level-2-theme": {
                    url: "".concat(a, "/level-2-theme.mp3"),
                    loop: !0,
                    volume: .35
                },
                thunder: {
                    url: "".concat(l, "/thunder.mp3"),
                    volume: 1
                },
                river: {
                    url: "".concat(c, "/river.mp3"),
                    volume: 1
                },
                "avoid-lightning": {
                    url: "".concat(c, "/avoid-lightning.mp3"),
                    volume: 1
                }
            },
            "level-3": {
                "level-3-theme": {
                    url: "".concat(a, "/level-3-theme.mp3"),
                    loop: !0,
                    volume: .35
                },
                door: {
                    url: "".concat(l, "/door.mp3"),
                    volume: 1
                },
                fragment: {
                    url: "".concat(l, "/fragment.mp3")
                }
            }
        };
    for (var p in f) {
        var d = f[p];
        for (var h in d) {
            var y = d[h];
            y.url = r.default[y.url]
        }
    }
    var v = f;
    t.default = v, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function(e, t) {
        var n = o.default;

        function i() {
            e && "suspended" === e.state ? e.resume().then(function() {
                (0, r.default)(e), a()
            }) : a()
        }

        function a() {
            document.body.removeEventListener("touchstart", i), document.body.removeEventListener("touchend", i), t()
        }

        function s() {
            document.body.addEventListener("touchstart", i, !1), document.body.addEventListener("touchend", i, !1)
        }
        return n && ("loading" === document.readyState ? document.addEventListener("DOMContentLoaded", s) : s()), n
    };
    var o = i(n(170)),
        r = i(n(171));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function(e, t) {
        var n = new r.default(e, t),
            o = n.sounds,
            i = 1,
            a = !1,
            s = void 0;

        function l() {
            o.length && (s = o.slice(0).sort(function(e, t) {
                return t.duration - e.duration
            })[0])
        }
        var u = n.add;
        n.add = function(e) {
            return u(e), l(), n
        };
        var c = n.remove;
        return n.remove = function(e) {
            return c(e), l(), n
        }, Object.defineProperties(n, {
            currentTime: {
                get: function() {
                    return s ? s.currentTime : 0
                },
                set: function(e) {
                    this.stop(), this.play(0, e)
                }
            },
            duration: {
                get: function() {
                    return s ? s.duration : 0
                }
            },
            loop: {
                get: function() {
                    return a
                },
                set: function(e) {
                    a = !!e, o.forEach(function(e) {
                        e.loop = a
                    })
                }
            },
            paused: {
                get: function() {
                    return !!s && s.paused
                }
            },
            progress: {
                get: function() {
                    return s ? s.progress : 0
                }
            },
            playbackRate: {
                get: function() {
                    return i
                },
                set: function(e) {
                    i = e, o.forEach(function(e) {
                        e.playbackRate = i
                    })
                }
            },
            playing: {
                get: function() {
                    return !!s && s.playing
                }
            }
        }), n
    };
    var o, r = (o = n(161)) && o.__esModule ? o : {
        default: o
    }
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function(e, t) {
        var n, o = !1,
            r = !1,
            i = 0,
            a = !1,
            s = null,
            l = 0,
            u = 200;

        function c() {
            return !s && t && ((s = t.createOscillator()).type = e, s.frequency.value = u), s
        }

        function f() {
            if (s) {
                try {
                    s.stop(0)
                } catch (e) {}
                s = null
            }
            o = !0, r = !1, i = 0, a = !1, l = 0
        }
        return n = {
            play: function(e) {
                (e = e || 0) && (e = t.currentTime + e), c(), s.start(e), l = i ? t.currentTime - i : t.currentTime, o = !1, a = !0, r = !1, i = 0
            },
            pause: function() {
                var e = t.currentTime - l;
                f(), i = e, a = !1, r = !0
            },
            stop: f,
            destroy: function() {
                f(), t = null, s = null
            }
        }, Object.defineProperties(n, {
            currentTime: {
                get: function() {
                    return i || (l ? t.currentTime - l : 0)
                },
                set: function(e) {
                    i = e
                }
            },
            duration: {
                value: 0
            },
            ended: {
                get: function() {
                    return o
                }
            },
            frequency: {
                get: function() {
                    return u
                },
                set: function(e) {
                    u = e, s && (s.frequency.value = e)
                }
            },
            paused: {
                get: function() {
                    return r
                }
            },
            playing: {
                get: function() {
                    return a
                }
            },
            progress: {
                value: 0
            },
            sourceNode: {
                get: function() {
                    return c()
                }
            }
        }), Object.freeze(n)
    }
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function(e, t) {
        var n = !1,
            o = !1,
            r = 0,
            i = !1,
            a = null,
            s = 0;

        function l() {
            return !a && t && (a = t.createMediaStreamSource(e), navigator.mozGetUserMedia && (window.mozHack = a)), a
        }

        function u() {
            if (a) {
                try {
                    a.stop(0)
                } catch (e) {}
                a = null
            }
            n = !0, o = !1, r = 0, i = !1, s = 0
        }
        var c = {
            play: function(e) {
                e = e ? t.currentTime + e : 0, l(), a.start(e), s = t.currentTime - r, n = !1, i = !0, o = !1, r = 0
            },
            pause: function() {
                var e = t.currentTime - s;
                u(), r = e, i = !1, o = !0
            },
            stop: u,
            destroy: function() {
                u(), t = null, a = null, e = null, window.mozHack = null
            },
            duration: 0,
            progress: 0
        };
        return Object.defineProperties(c, {
            currentTime: {
                get: function() {
                    return r || (s ? t.currentTime - s : 0)
                },
                set: function(e) {
                    r = e
                }
            },
            ended: {
                get: function() {
                    return n
                }
            },
            paused: {
                get: function() {
                    return o
                }
            },
            playing: {
                get: function() {
                    return i
                }
            },
            sourceNode: {
                get: function() {
                    return l()
                }
            }
        }), Object.freeze(c)
    }
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function(e, t, n) {
        var o = {},
            r = !1,
            i = n,
            a = null,
            s = !1,
            l = !1,
            u = 1,
            c = !1,
            f = null,
            p = 1,
            d = 1;

        function h() {
            e.removeEventListener("canplaythrough", h), c && e.play()
        }

        function y() {
            if (s) return e.currentTime = 0, e.currentTime > 0 && e.load(), void e.play();
            r = !0, l = !1, c = !1, "function" == typeof i && i(o)
        }

        function v() {
            if (clearTimeout(a), e) {
                e.pause();
                try {
                    e.currentTime = 0, e.currentTime > 0 && e.load()
                } catch (e) {}
                c = !1, l = !1
            }
        }
        return Object.defineProperties(o, {
            play: {
                value: function t(n, o) {
                    clearTimeout(a), e.volume = d * p, e.playbackRate = u, o && (e.currentTime = o), n ? a = setTimeout(t, n) : e.play(), r = !1, l = !1, c = !0, e.removeEventListener("ended", y), e.addEventListener("ended", y, !1), e.readyState < 1 && (e.removeEventListener("canplaythrough", h), e.addEventListener("canplaythrough", h, !1), e.play())
                }
            },
            pause: {
                value: function() {
                    clearTimeout(a), e && (e.pause(), c = !1, l = !0)
                }
            },
            stop: {
                value: v
            },
            load: {
                value: function(t) {
                    e.src = t, e.load(), r = !1, l = !1, c = !1
                }
            },
            destroy: {
                value: function() {
                    e.removeEventListener("ended", y), e.removeEventListener("canplaythrough", h), v(), e = null, t = null, i = null, f = null
                }
            },
            currentTime: {
                get: function() {
                    return e ? e.currentTime : 0
                },
                set: function(t) {
                    e && (e.currentTime = t)
                }
            },
            duration: {
                get: function() {
                    return e ? e.duration : 0
                }
            },
            ended: {
                get: function() {
                    return r
                }
            },
            loop: {
                get: function() {
                    return s
                },
                set: function(e) {
                    s = !!e
                }
            },
            paused: {
                get: function() {
                    return l
                }
            },
            playbackRate: {
                get: function() {
                    return u
                },
                set: function(t) {
                    u = t, e && (e.playbackRate = u)
                }
            },
            playing: {
                get: function() {
                    return c
                }
            },
            progress: {
                get: function() {
                    return e && e.duration ? e.currentTime / e.duration : 0
                }
            },
            sourceNode: {
                get: function() {
                    return !f && t && (f = t.createMediaElementSource(e)), f
                }
            },
            volume: {
                get: function() {
                    return d
                },
                set: function(t) {
                    d = t, e && (e.volume = d * p)
                }
            },
            groupVolume: {
                get: function() {
                    return p
                },
                set: function(t) {
                    p = t, e && (e.volume = d * p)
                }
            }
        }), Object.freeze(o)
    }
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function(e, t, n, o) {
        var r = n.createGain(),
            i = d(t),
            a = {},
            s = [],
            l = [],
            u = 0,
            c = !1;

        function f(e) {
            e.stop(), c || s.push(e)
        }

        function p(e) {
            if (e !== i && l.length) {
                var t = l.indexOf(e);
                l.splice(t, 1), f(e)
            }
            o()
        }

        function d(t) {
            return new e(t, n, p)
        }

        function h() {
            for (i.stop(); l.length;) f(l.pop())
        }
        return Object.defineProperties(a, {
            play: {
                value: function(e, n) {
                    var o = c || !i.playing ? i : s.length > 0 ? s.pop() : (u++, t.tagName ? d(t.cloneNode()) : d(t));
                    r && o.sourceNode.connect(r), o !== i && l.push(o), o.play(e, n)
                }
            },
            pause: {
                value: function() {
                    i.pause(), l.forEach(function(e) {
                        return e.pause()
                    })
                }
            },
            stop: {
                value: h
            },
            load: {
                value: function(e) {
                    h(), s.length = 0, i.load(e)
                }
            },
            destroy: {
                value: function() {
                    for (i.destroy(); l.length;) l.pop().destroy();
                    for (; s.length;) s.pop().destroy();
                    r.disconnect()
                }
            },
            currentTime: {
                get: function() {
                    return i.currentTime || 0
                },
                set: function(e) {
                    i.currentTime = e, l.forEach(function(t) {
                        return t.currentTime = e
                    })
                }
            },
            duration: {
                get: function() {
                    return i.duration || 0
                }
            },
            ended: {
                get: function() {
                    return i.ended && l.every(function(e) {
                        return e.ended
                    })
                }
            },
            info: {
                get: function() {
                    return {
                        pooled: s.length,
                        active: l.length + 1,
                        created: u + 1
                    }
                }
            },
            loop: {
                get: function() {
                    return i.loop
                },
                set: function(e) {
                    i.loop = !!e, l.forEach(function(t) {
                        return t.loop = !!e
                    })
                }
            },
            paused: {
                get: function() {
                    return i.paused
                }
            },
            playbackRate: {
                get: function() {
                    return i.playbackRate
                },
                set: function(e) {
                    i.playbackRate = e, l.forEach(function(t) {
                        return t.playbackRate = e
                    })
                }
            },
            playing: {
                get: function() {
                    return i.playing
                }
            },
            progress: {
                get: function() {
                    return i.progress
                }
            },
            singlePlay: {
                get: function() {
                    return c
                },
                set: function(e) {
                    c = e
                }
            },
            sourceNode: {
                get: function() {
                    return r
                }
            },
            volume: {
                get: function() {
                    return i.volume
                },
                set: function(e) {
                    i.hasOwnProperty("volume") && (i.volume = e, l.forEach(function(t) {
                        return t.volume = e
                    }))
                }
            },
            groupVolume: {
                get: function() {
                    return i.groupVolume
                },
                set: function(e) {
                    i.hasOwnProperty("groupVolume") && (i.groupVolume = e, l.forEach(function(t) {
                        return t.groupVolume = e
                    }))
                }
            }
        }), Object.freeze(a)
    }
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = navigator && /Firefox/i.test(navigator.userAgent)
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function(e, t, n) {
        var o = {},
            r = !1,
            i = !1,
            a = !1,
            s = 0,
            l = 1,
            u = !1,
            c = null,
            f = 0;

        function p() {
            return !c && t && ((c = t.createBufferSource()).buffer = e), c
        }

        function d() {
            if (c) {
                c.onended = null;
                try {
                    c.disconnect(), c.stop(0)
                } catch (e) {}
                c = null
            }
            a = !1, s = 0, u = !1, f = 0
        }

        function h() {
            d(), r = !0, "function" == typeof n && n(o)
        }
        return Object.defineProperties(o, {
            play: {
                value: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                    if (!u) {
                        for (e = e ? t.currentTime + e : 0, n && (s = 0), s && (n = s); n > o.duration;) n %= o.duration;
                        p(), c.onended = h, c.start(e, n), c.loop = i, c.playbackRate.value = l, f = t.currentTime - n, r = !1, a = !1, s = 0, u = !0
                    }
                }
            },
            pause: {
                value: function() {
                    var e = t.currentTime - f;
                    d(), s = e, u = !1, a = !0
                }
            },
            stop: {
                value: d
            },
            destroy: {
                value: function() {
                    d(), e = null, t = null, n = null, c = null
                }
            },
            currentTime: {
                get: function() {
                    if (s) return s;
                    if (f) {
                        for (var e = t.currentTime - f; e > o.duration;) e %= o.duration;
                        return e
                    }
                    return 0
                },
                set: function(e) {
                    s = e
                }
            },
            duration: {
                get: function() {
                    return e ? e.duration : 0
                }
            },
            ended: {
                get: function() {
                    return r
                }
            },
            loop: {
                get: function() {
                    return i
                },
                set: function(e) {
                    i = !!e, c && (c.loop = i)
                }
            },
            paused: {
                get: function() {
                    return a
                }
            },
            playbackRate: {
                get: function() {
                    return l
                },
                set: function(e) {
                    l = e, c && (c.playbackRate.value = l)
                }
            },
            playing: {
                get: function() {
                    return u
                }
            },
            progress: {
                get: function() {
                    return o.duration ? o.currentTime / o.duration : 0
                }
            },
            sourceNode: {
                get: function() {
                    return p()
                }
            }
        }), Object.freeze(o)
    }
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0;
    var o = b(n(62)),
        r = b(n(96)),
        i = b(n(98)),
        a = b(n(97)),
        s = b(n(81)),
        l = b(n(394)),
        u = b(n(113)),
        c = b(n(159)),
        f = b(n(169)),
        p = b(n(393)),
        d = b(n(158)),
        h = b(n(157)),
        y = b(n(160)),
        v = b(n(392)),
        _ = b(n(391)),
        m = b(n(390)),
        g = b(n(389));

    function b(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var w = function(e) {
        function t(n) {
            (0, o.default)(this, t);
            var r = (0, i.default)(this, e.call(this));
            return r.id = n.id || null, r._context = n.context || s.default, r._destination = n.destination || r._context.destination, r._effects = new u.default(r._context), r._gain = r._context.createGain(), r._config = n, r._data = null, r._fadeTimeout = null, r._isTouchLocked = !1, r._loader = null, r._loop = !1, r._offset = 0, r._playbackRate = 1, r._playWhenReady = null, r._source = null, r._wave = null, r._userData = {}, r._effects.setDestination(r._gain), r._gain.connect(r._destination), r._onEnded = r._onEnded.bind(r), r._onLoad = r._onLoad.bind(r), r._onLoadError = r._onLoadError.bind(r), r
        }
        return (0, a.default)(t, e), t.prototype.prepare = function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                t = !(arguments.length > 1 && void 0 !== arguments[1] && arguments[1] || this._source || !this._config.deferLoad);
            if (e) {
                var n = f.default.getSrc(e),
                    o = f.default.getSupportedFile(n) || this._config.src;
                this._config = Object.assign(this._config, e, {
                    src: o
                })
            }
            return this._source && this._data && this._data.tagName ? this._source.load(this._config.src) : (this._loader = new y.default(this._config.src, t), this._loader.audioContext = this._config.asMediaElement || this._context.isFake ? null : this._context, this._loader.isTouchLocked = this._isTouchLocked, this._loader.once("loaded", this._onLoad), this._loader.once("error", this._onLoadError)), this
        }, t.prototype.load = function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
            return this.stop(), this._source = null, !e || f.default.containsURL(e) ? (this._loader && this._loader.destroy(), this.prepare(e, !0), this._loader.start()) : this.data = e.data || e, this
        }, t.prototype.play = function(e, t) {
            var n = this;
            return !this._source || this._isTouchLocked ? (this._playWhenReady = function() {
                n._source && n.play(e, t)
            }, this._config.deferLoad && (this._loader || this.prepare(null, !0), this._loader.start(!0)), this) : (this._playWhenReady = null, this._effects.setSource(this._source.sourceNode), this._offset && void 0 === t && (t = this._offset, this._offset = 0), this._source.play(e, t), this._source.hasOwnProperty("volume") && (this._source.volume = this._gain.gain.value), this._source.hasOwnProperty("loop") && (this._source.loop = this._loop), this.emit("play", this), this)
        }, t.prototype.pause = function() {
            return this._source && this._source.pause(), this.emit("pause", this), this
        }, t.prototype.stop = function(e) {
            return this._source && this._source.stop(e || 0), this.emit("stop", this), this
        }, t.prototype.seek = function(e) {
            return this.currentTime = e, this
        }, t.prototype.fade = function(e) {
            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
            if (!this._source) return this;
            var n = this._gain.gain;
            if (!this._context || this._context.isFake || p.default) this._fadePolyfill(e, t);
            else {
                var o = this._context.currentTime;
                n.cancelScheduledValues(o), n.setValueAtTime(n.value, o), n.linearRampToValueAtTime(e, o + t)
            }
            return this.emit("fade", this, e), this
        }, t.prototype._fadePolyfill = function(e, t) {
            var n = this;
            return window.clearTimeout(this._fadeTimeout),
                function e(t, o) {
                    n._fadeTimeout = window.setTimeout(function() {
                        n.volume = n.volume + .2 * (t - n.volume), Math.abs(n.volume - t) > .05 ? e(t, o) : n.volume = t
                    }, 1e3 * o)
                }(e, t / 10), this
        }, t.prototype.unload = function() {
            this._source && this._source.destroy(), this._loader && this._loader.destroy(), this._data = null, this._playWhenReady = null, this._source = null, this._loader = null, this._config.deferLoad = !0, this.emit("unload", this)
        }, t.prototype.reload = function() {
            return this.load(null, !0)
        }, t.prototype.destroy = function() {
            this._source && this._source.destroy(), this._effects && this._effects.destroy(), this._gain && this._gain.disconnect(), this._loader && (this._loader.off("loaded"), this._loader.off("error"), this._loader.destroy()), this._gain = null, this._context = null, this._destination = null, this._data = null, this._playWhenReady = null, this._source = null, this._effects = null, this._loader = null, this._config = null, this.emit("destroy", this), this.off()
        }, t.prototype.waveform = function(e) {
            var t = this;
            return this._wave || (this._wave = d.default.waveform()), this._data || this.once("ready", function() {
                return t._wave(t._data, e)
            }), this._wave(this._data, e)
        }, t.prototype._createSource = function(e) {
            var t = f.default.isAudioBuffer(e);
            if (t || f.default.isMediaElement(e)) {
                var n = t ? l.default : _.default;
                this._source = new v.default(n, e, this._context, this._onEnded), this._source.singlePlay = !!this._config.singlePlay, this._source.playbackRate = this._playbackRate, this._source.currentTime = this._offset
            } else if (f.default.isMediaStream(e)) this._source = new m.default(e, this._context);
            else {
                if (!f.default.isOscillatorType(e && e.type || e)) throw new Error("Cannot detect data type: " + e);
                this._source = new g.default(e.type || e, this._context)
            }
            this._effects.setSource(this._source.sourceNode), this.emit("ready", this), this._playWhenReady && this._playWhenReady()
        }, t.prototype._onEnded = function() {
            this.emit("ended", this)
        }, t.prototype._onLoad = function(e) {
            this._data = e, this.emit("loaded", this), this._createSource(e)
        }, t.prototype._onLoadError = function(e) {
            this.listenerCount("error") ? this.emit("error", this, e) : console.error("Sound load error", this._loader.url)
        }, (0, r.default)(t, [{
            key: "context",
            get: function() {
                return this._context
            }
        }, {
            key: "currentTime",
            get: function() {
                return this._source ? this._source.currentTime : this._offset
            },
            set: function(e) {
                if (this._source) {
                    var t = this._source.playing;
                    this._source.stop(), this._source.currentTime = e, t && this.play(0, e)
                } else this._offset = e
            }
        }, {
            key: "data",
            get: function() {
                return this._data
            },
            set: function(e) {
                e && (this._data = e, this._createSource(e))
            }
        }, {
            key: "duration",
            get: function() {
                return this._source ? this._source.duration : 0
            }
        }, {
            key: "effects",
            get: function() {
                return this._effects._nodes
            },
            set: function(e) {
                this._effects.removeAll().add(e)
            }
        }, {
            key: "fx",
            get: function() {
                return this.effects
            },
            set: function(e) {
                this.effects = e
            }
        }, {
            key: "ended",
            get: function() {
                return !!this._source && this._source.ended
            }
        }, {
            key: "frequency",
            get: function() {
                return this._source ? this._source.frequency : 0
            },
            set: function(e) {
                this._source && this._source.hasOwnProperty("frequency") && (this._source.frequency = e)
            }
        }, {
            key: "gain",
            get: function() {
                return this._gain
            }
        }, {
            key: "groupVolume",
            get: function() {
                return this._source.groupVolume
            },
            set: function(e) {
                this._source && this._source.hasOwnProperty("groupVolume") && (this._source.groupVolume = e)
            }
        }, {
            key: "isTouchLocked",
            set: function(e) {
                this._isTouchLocked = e, this._loader && (this._loader.isTouchLocked = e), !e && this._playWhenReady && this._playWhenReady()
            }
        }, {
            key: "loader",
            get: function() {
                return this._loader
            }
        }, {
            key: "loop",
            get: function() {
                return this._loop
            },
            set: function(e) {
                this._loop = !!e, this._source && this._source.hasOwnProperty("loop") && this._source.loop !== this._loop && (this._source.loop = this._loop)
            }
        }, {
            key: "singlePlay",
            get: function() {
                return this._config.singlePlay
            },
            set: function(e) {
                this._config.singlePlay = e, this._source.singlePlay = e
            }
        }, {
            key: "config",
            get: function() {
                return this._config
            }
        }, {
            key: "paused",
            get: function() {
                return !!this._source && this._source.paused
            }
        }, {
            key: "playing",
            get: function() {
                return !!this._source && this._source.playing
            }
        }, {
            key: "playbackRate",
            get: function() {
                return this._playbackRate
            },
            set: function(e) {
                this._playbackRate = e, this._source && (this._source.playbackRate = e)
            }
        }, {
            key: "progress",
            get: function() {
                return this._source && this._source.progress || 0
            }
        }, {
            key: "sourceInfo",
            get: function() {
                return this._source && this._source.info ? this._source.info : {}
            }
        }, {
            key: "sourceNode",
            get: function() {
                return this._source ? this._source.sourceNode : null
            }
        }, {
            key: "volume",
            get: function() {
                return this._gain.gain.value
            },
            set: function(e) {
                if ((0, h.default)(e)) {
                    window.clearTimeout(this._fadeTimeout), e = Math.min(Math.max(e, 0), 1);
                    var t = this._gain.gain,
                        n = this._context.currentTime;
                    t.cancelScheduledValues(n), t.value = e, p.default || t.setValueAtTime(e, n), this._source && this._source.hasOwnProperty("volume") && (this._source.volume = e)
                }
            }
        }, {
            key: "userData",
            get: function() {
                return this._userData
            }
        }]), t
    }(c.default);
    t.default = w, w.__source = {
        BufferSource: l.default,
        MediaSource: _.default,
        MicrophoneSource: m.default,
        OscillatorSource: g.default
    }
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function(e, t) {
        var n = !1,
            o = null,
            r = null;

        function i() {
            document[o] ? e() : t()
        }

        function a(e) {
            (n = e) ? document.addEventListener(r, i, !1): document.removeEventListener(r, i)
        }
        return void 0 !== document.hidden ? (o = "hidden", r = "visibilitychange") : void 0 !== document.mozHidden ? (o = "mozHidden", r = "mozvisibilitychange") : void 0 !== document.msHidden ? (o = "msHidden", r = "msvisibilitychange") : void 0 !== document.webkitHidden && (o = "webkitHidden", r = "webkitvisibilitychange"), void 0 !== r && a(!0), {
            get enabled() {
                return n
            },
            set enabled(e) {
                a(e)
            }
        }
    }
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function(e) {
        var t = "sono " + e.VERSION,
            n = "Supported:" + e.isSupported + " WebAudioAPI:" + e.hasWebAudio + " TouchLocked:" + e.isTouchLocked + " State:" + (e.context && e.context.state) + " Extensions:" + e.file.extensions;
        if (navigator.userAgent.indexOf("Chrome") > -1) {
            var o = ["%c ♫ " + t + " ♫ %c " + n + " ", "color: #FFFFFF; background: #379F7A", "color: #1F1C0D; background: #E0FBAC"];
            console.log.apply(console, o)
        } else window.console && window.console.log.call && console.log.call(console, t + " " + n)
    }
}, function(e, t) {
    function n() {
        this._events = this._events || {}, this._maxListeners = this._maxListeners || void 0
    }

    function o(e) {
        return "function" == typeof e
    }

    function r(e) {
        return "object" == typeof e && null !== e
    }

    function i(e) {
        return void 0 === e
    }
    e.exports = n, n.EventEmitter = n, n.prototype._events = void 0, n.prototype._maxListeners = void 0, n.defaultMaxListeners = 10, n.prototype.setMaxListeners = function(e) {
        if ("number" != typeof e || e < 0 || isNaN(e)) throw TypeError("n must be a positive number");
        return this._maxListeners = e, this
    }, n.prototype.emit = function(e) {
        var t, n, a, s, l, u;
        if (this._events || (this._events = {}), "error" === e && (!this._events.error || r(this._events.error) && !this._events.error.length)) {
            if ((t = arguments[1]) instanceof Error) throw t;
            var c = new Error('Uncaught, unspecified "error" event. (' + t + ")");
            throw c.context = t, c
        }
        if (i(n = this._events[e])) return !1;
        if (o(n)) switch (arguments.length) {
            case 1:
                n.call(this);
                break;
            case 2:
                n.call(this, arguments[1]);
                break;
            case 3:
                n.call(this, arguments[1], arguments[2]);
                break;
            default:
                s = Array.prototype.slice.call(arguments, 1), n.apply(this, s)
        } else if (r(n))
            for (s = Array.prototype.slice.call(arguments, 1), a = (u = n.slice()).length, l = 0; l < a; l++) u[l].apply(this, s);
        return !0
    }, n.prototype.addListener = function(e, t) {
        var a;
        if (!o(t)) throw TypeError("listener must be a function");
        return this._events || (this._events = {}), this._events.newListener && this.emit("newListener", e, o(t.listener) ? t.listener : t), this._events[e] ? r(this._events[e]) ? this._events[e].push(t) : this._events[e] = [this._events[e], t] : this._events[e] = t, r(this._events[e]) && !this._events[e].warned && (a = i(this._maxListeners) ? n.defaultMaxListeners : this._maxListeners) && a > 0 && this._events[e].length > a && (this._events[e].warned = !0, console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.", this._events[e].length), "function" == typeof console.trace && console.trace()), this
    }, n.prototype.on = n.prototype.addListener, n.prototype.once = function(e, t) {
        if (!o(t)) throw TypeError("listener must be a function");
        var n = !1;

        function r() {
            this.removeListener(e, r), n || (n = !0, t.apply(this, arguments))
        }
        return r.listener = t, this.on(e, r), this
    }, n.prototype.removeListener = function(e, t) {
        var n, i, a, s;
        if (!o(t)) throw TypeError("listener must be a function");
        if (!this._events || !this._events[e]) return this;
        if (a = (n = this._events[e]).length, i = -1, n === t || o(n.listener) && n.listener === t) delete this._events[e], this._events.removeListener && this.emit("removeListener", e, t);
        else if (r(n)) {
            for (s = a; s-- > 0;)
                if (n[s] === t || n[s].listener && n[s].listener === t) {
                    i = s;
                    break
                }
            if (i < 0) return this;
            1 === n.length ? (n.length = 0, delete this._events[e]) : n.splice(i, 1), this._events.removeListener && this.emit("removeListener", e, t)
        }
        return this
    }, n.prototype.removeAllListeners = function(e) {
        var t, n;
        if (!this._events) return this;
        if (!this._events.removeListener) return 0 === arguments.length ? this._events = {} : this._events[e] && delete this._events[e], this;
        if (0 === arguments.length) {
            for (t in this._events) "removeListener" !== t && this.removeAllListeners(t);
            return this.removeAllListeners("removeListener"), this._events = {}, this
        }
        if (o(n = this._events[e])) this.removeListener(e, n);
        else if (n)
            for (; n.length;) this.removeListener(e, n[n.length - 1]);
        return delete this._events[e], this
    }, n.prototype.listeners = function(e) {
        return this._events && this._events[e] ? o(this._events[e]) ? [this._events[e]] : this._events[e].slice() : []
    }, n.prototype.listenerCount = function(e) {
        if (this._events) {
            var t = this._events[e];
            if (o(t)) return 1;
            if (t) return t.length
        }
        return 0
    }, n.listenerCount = function(e, t) {
        return e.listenerCount(t)
    }
}, function(e, t, n) {
    var o = n(64);
    o(o.S, "Object", {
        create: n(107)
    })
}, function(e, t, n) {
    n(399);
    var o = n(47).Object;
    e.exports = function(e, t) {
        return o.create(e, t)
    }
}, function(e, t, n) {
    e.exports = {
        default: n(400),
        __esModule: !0
    }
}, function(e, t, n) {
    var o = n(45),
        r = n(63),
        i = function(e, t) {
            if (r(e), !o(t) && null !== t) throw TypeError(t + ": can't set as prototype!")
        };
    e.exports = {
        set: Object.setPrototypeOf || ("__proto__" in {} ? function(e, t, o) {
            try {
                (o = n(181)(Function.call, n(162).f(Object.prototype, "__proto__").set, 2))(e, []), t = !(e instanceof Array)
            } catch (e) {
                t = !0
            }
            return function(e, n) {
                return i(e, n), t ? e.__proto__ = n : o(e, n), e
            }
        }({}, !1) : void 0),
        check: i
    }
}, function(e, t, n) {
    var o = n(64);
    o(o.S, "Object", {
        setPrototypeOf: n(402).set
    })
}, function(e, t, n) {
    n(403), e.exports = n(47).Object.setPrototypeOf
}, function(e, t, n) {
    e.exports = {
        default: n(404),
        __esModule: !0
    }
}, function(e, t, n) {
    n(100)("observable")
}, function(e, t, n) {
    n(100)("asyncIterator")
}, function(e, t) {}, function(e, t, n) {
    var o = n(44),
        r = n(163).f,
        i = {}.toString,
        a = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
    e.exports.f = function(e) {
        return a && "[object Window]" == i.call(e) ? function(e) {
            try {
                return r(e)
            } catch (e) {
                return a.slice()
            }
        }(e) : r(o(e))
    }
}, function(e, t, n) {
    var o = n(165);
    e.exports = Array.isArray || function(e) {
        return "Array" == o(e)
    }
}, function(e, t, n) {
    var o = n(106),
        r = n(164),
        i = n(99);
    e.exports = function(e) {
        var t = o(e),
            n = r.f;
        if (n)
            for (var a, s = n(e), l = i.f, u = 0; s.length > u;) l.call(e, a = s[u++]) && t.push(a);
        return t
    }
}, function(e, t, n) {
    var o = n(80)("meta"),
        r = n(45),
        i = n(32),
        a = n(34).f,
        s = 0,
        l = Object.isExtensible || function() {
            return !0
        },
        u = !n(84)(function() {
            return l(Object.preventExtensions({}))
        }),
        c = function(e) {
            a(e, o, {
                value: {
                    i: "O" + ++s,
                    w: {}
                }
            })
        },
        f = e.exports = {
            KEY: o,
            NEED: !1,
            fastKey: function(e, t) {
                if (!r(e)) return "symbol" == typeof e ? e : ("string" == typeof e ? "S" : "P") + e;
                if (!i(e, o)) {
                    if (!l(e)) return "F";
                    if (!t) return "E";
                    c(e)
                }
                return e[o].i
            },
            getWeak: function(e, t) {
                if (!i(e, o)) {
                    if (!l(e)) return !0;
                    if (!t) return !1;
                    c(e)
                }
                return e[o].w
            },
            onFreeze: function(e) {
                return u && f.NEED && l(e) && !i(e, o) && c(e), e
            }
        }
}, function(e, t, n) {
    "use strict";
    var o = n(27),
        r = n(32),
        i = n(33),
        a = n(64),
        s = n(167),
        l = n(412).KEY,
        u = n(84),
        c = n(104),
        f = n(102),
        p = n(80),
        d = n(43),
        h = n(101),
        y = n(100),
        v = n(411),
        _ = n(410),
        m = n(63),
        g = n(45),
        b = n(44),
        w = n(118),
        x = n(83),
        k = n(107),
        O = n(409),
        E = n(162),
        P = n(34),
        S = n(106),
        T = E.f,
        j = P.f,
        M = O.f,
        C = o.Symbol,
        D = o.JSON,
        R = D && D.stringify,
        A = d("_hidden"),
        L = d("toPrimitive"),
        z = {}.propertyIsEnumerable,
        I = c("symbol-registry"),
        F = c("symbols"),
        H = c("op-symbols"),
        N = Object.prototype,
        U = "function" == typeof C,
        B = o.QObject,
        G = !B || !B.prototype || !B.prototype.findChild,
        V = i && u(function() {
            return 7 != k(j({}, "a", {
                get: function() {
                    return j(this, "a", {
                        value: 7
                    }).a
                }
            })).a
        }) ? function(e, t, n) {
            var o = T(N, t);
            o && delete N[t], j(e, t, n), o && e !== N && j(N, t, o)
        } : j,
        $ = function(e) {
            var t = F[e] = k(C.prototype);
            return t._k = e, t
        },
        q = U && "symbol" == typeof C.iterator ? function(e) {
            return "symbol" == typeof e
        } : function(e) {
            return e instanceof C
        },
        W = function(e, t, n) {
            return e === N && W(H, t, n), m(e), t = w(t, !0), m(n), r(F, t) ? (n.enumerable ? (r(e, A) && e[A][t] && (e[A][t] = !1), n = k(n, {
                enumerable: x(0, !1)
            })) : (r(e, A) || j(e, A, x(1, {})), e[A][t] = !0), V(e, t, n)) : j(e, t, n)
        },
        Y = function(e, t) {
            m(e);
            for (var n, o = v(t = b(t)), r = 0, i = o.length; i > r;) W(e, n = o[r++], t[n]);
            return e
        },
        K = function(e) {
            var t = z.call(this, e = w(e, !0));
            return !(this === N && r(F, e) && !r(H, e)) && (!(t || !r(this, e) || !r(F, e) || r(this, A) && this[A][e]) || t)
        },
        X = function(e, t) {
            if (e = b(e), t = w(t, !0), e !== N || !r(F, t) || r(H, t)) {
                var n = T(e, t);
                return !n || !r(F, t) || r(e, A) && e[A][t] || (n.enumerable = !0), n
            }
        },
        Z = function(e) {
            for (var t, n = M(b(e)), o = [], i = 0; n.length > i;) r(F, t = n[i++]) || t == A || t == l || o.push(t);
            return o
        },
        Q = function(e) {
            for (var t, n = e === N, o = M(n ? H : b(e)), i = [], a = 0; o.length > a;) !r(F, t = o[a++]) || n && !r(N, t) || i.push(F[t]);
            return i
        };
    U || (s((C = function() {
        if (this instanceof C) throw TypeError("Symbol is not a constructor!");
        var e = p(arguments.length > 0 ? arguments[0] : void 0),
            t = function(n) {
                this === N && t.call(H, n), r(this, A) && r(this[A], e) && (this[A][e] = !1), V(this, e, x(1, n))
            };
        return i && G && V(N, e, {
            configurable: !0,
            set: t
        }), $(e)
    }).prototype, "toString", function() {
        return this._k
    }), E.f = X, P.f = W, n(163).f = O.f = Z, n(99).f = K, n(164).f = Q, i && !n(109) && s(N, "propertyIsEnumerable", K, !0), h.f = function(e) {
        return $(d(e))
    }), a(a.G + a.W + a.F * !U, {
        Symbol: C
    });
    for (var J = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), ee = 0; J.length > ee;) d(J[ee++]);
    for (var te = S(d.store), ne = 0; te.length > ne;) y(te[ne++]);
    a(a.S + a.F * !U, "Symbol", {
        for: function(e) {
            return r(I, e += "") ? I[e] : I[e] = C(e)
        },
        keyFor: function(e) {
            if (!q(e)) throw TypeError(e + " is not a symbol!");
            for (var t in I)
                if (I[t] === e) return t
        },
        useSetter: function() {
            G = !0
        },
        useSimple: function() {
            G = !1
        }
    }), a(a.S + a.F * !U, "Object", {
        create: function(e, t) {
            return void 0 === t ? k(e) : Y(k(e), t)
        },
        defineProperty: W,
        defineProperties: Y,
        getOwnPropertyDescriptor: X,
        getOwnPropertyNames: Z,
        getOwnPropertySymbols: Q
    }), D && a(a.S + a.F * (!U || u(function() {
        var e = C();
        return "[null]" != R([e]) || "{}" != R({
            a: e
        }) || "{}" != R(Object(e))
    })), "JSON", {
        stringify: function(e) {
            for (var t, n, o = [e], r = 1; arguments.length > r;) o.push(arguments[r++]);
            if (n = t = o[1], (g(t) || void 0 !== e) && !q(e)) return _(t) || (t = function(e, t) {
                if ("function" == typeof n && (t = n.call(this, e, t)), !q(t)) return t
            }), o[1] = t, R.apply(D, o)
        }
    }), C.prototype[L] || n(46)(C.prototype, L, C.prototype.valueOf), f(C, "Symbol"), f(Math, "Math", !0), f(o.JSON, "JSON", !0)
}, function(e, t, n) {
    n(413), n(408), n(407), n(406), e.exports = n(47).Symbol
}, function(e, t, n) {
    e.exports = {
        default: n(414),
        __esModule: !0
    }
}, function(e, t) {
    e.exports = function(e, t) {
        return {
            value: t,
            done: !!e
        }
    }
}, function(e, t) {
    e.exports = function() {}
}, function(e, t, n) {
    "use strict";
    var o = n(417),
        r = n(416),
        i = n(108),
        a = n(44);
    e.exports = n(168)(Array, "Array", function(e, t) {
        this._t = a(e), this._i = 0, this._k = t
    }, function() {
        var e = this._t,
            t = this._k,
            n = this._i++;
        return !e || n >= e.length ? (this._t = void 0, r(1)) : r(0, "keys" == t ? n : "values" == t ? e[n] : [n, e[n]])
    }, "values"), i.Arguments = i.Array, o("keys"), o("values"), o("entries")
}, function(e, t, n) {
    n(418);
    for (var o = n(27), r = n(46), i = n(108), a = n(43)("toStringTag"), s = "CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","), l = 0; l < s.length; l++) {
        var u = s[l],
            c = o[u],
            f = c && c.prototype;
        f && !f[a] && r(f, a, u), i[u] = i.Array
    }
}, function(e, t, n) {
    var o = n(110);
    e.exports = function(e) {
        return Object(o(e))
    }
}, function(e, t, n) {
    var o = n(32),
        r = n(420),
        i = n(105)("IE_PROTO"),
        a = Object.prototype;
    e.exports = Object.getPrototypeOf || function(e) {
        return e = r(e), o(e, i) ? e[i] : "function" == typeof e.constructor && e instanceof e.constructor ? e.constructor.prototype : e instanceof Object ? a : null
    }
}, function(e, t, n) {
    var o = n(27).document;
    e.exports = o && o.documentElement
}, function(e, t, n) {
    var o = n(111),
        r = Math.max,
        i = Math.min;
    e.exports = function(e, t) {
        return (e = o(e)) < 0 ? r(e + t, 0) : i(e, t)
    }
}, function(e, t, n) {
    var o = n(111),
        r = Math.min;
    e.exports = function(e) {
        return e > 0 ? r(o(e), 9007199254740991) : 0
    }
}, function(e, t, n) {
    var o = n(44),
        r = n(424),
        i = n(423);
    e.exports = function(e) {
        return function(t, n, a) {
            var s, l = o(t),
                u = r(l.length),
                c = i(a, u);
            if (e && n != n) {
                for (; u > c;)
                    if ((s = l[c++]) != s) return !0
            } else
                for (; u > c; c++)
                    if ((e || c in l) && l[c] === n) return e || c || 0;
            return !e && -1
        }
    }
}, function(e, t, n) {
    var o = n(165);
    e.exports = Object("z").propertyIsEnumerable(0) ? Object : function(e) {
        return "String" == o(e) ? e.split("") : Object(e)
    }
}, function(e, t, n) {
    var o = n(34),
        r = n(63),
        i = n(106);
    e.exports = n(33) ? Object.defineProperties : function(e, t) {
        r(e);
        for (var n, a = i(t), s = a.length, l = 0; s > l;) o.f(e, n = a[l++], t[n]);
        return e
    }
}, function(e, t, n) {
    "use strict";
    var o = n(107),
        r = n(83),
        i = n(102),
        a = {};
    n(46)(a, n(43)("iterator"), function() {
        return this
    }), e.exports = function(e, t, n) {
        e.prototype = o(a, {
            next: r(1, n)
        }), i(e, t + " Iterator")
    }
}, function(e, t, n) {
    var o = n(111),
        r = n(110);
    e.exports = function(e) {
        return function(t, n) {
            var i, a, s = String(r(t)),
                l = o(n),
                u = s.length;
            return l < 0 || l >= u ? e ? "" : void 0 : (i = s.charCodeAt(l)) < 55296 || i > 56319 || l + 1 === u || (a = s.charCodeAt(l + 1)) < 56320 || a > 57343 ? e ? s.charAt(l) : i : e ? s.slice(l, l + 2) : a - 56320 + (i - 55296 << 10) + 65536
        }
    }
}, function(e, t, n) {
    "use strict";
    var o = n(429)(!0);
    n(168)(String, "String", function(e) {
        this._t = String(e), this._i = 0
    }, function() {
        var e, t = this._t,
            n = this._i;
        return n >= t.length ? {
            value: void 0,
            done: !0
        } : (e = o(t, n), this._i += e.length, {
            value: e,
            done: !1
        })
    })
}, function(e, t, n) {
    n(430), n(419), e.exports = n(101).f("iterator")
}, function(e, t, n) {
    e.exports = {
        default: n(431),
        __esModule: !0
    }
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0, t.default = function() {
        var e = Date.now();

        function t() {}

        function n() {
            return {
                value: 1,
                defaultValue: 1,
                linearRampToValueAtTime: t,
                setValueAtTime: t,
                exponentialRampToValueAtTime: t,
                setTargetAtTime: t,
                setValueCurveAtTime: t,
                cancelScheduledValues: t
            }
        }

        function o() {
            return {
                connect: t,
                disconnect: t,
                frequencyBinCount: 0,
                smoothingTimeConstant: 0,
                fftSize: 0,
                minDecibels: 0,
                maxDecibels: 0,
                getByteTimeDomainData: t,
                getByteFrequencyData: t,
                getFloatTimeDomainData: t,
                getFloatFrequencyData: t,
                gain: n(),
                panningModel: 0,
                setPosition: t,
                setOrientation: t,
                setVelocity: t,
                distanceModel: 0,
                refDistance: 0,
                maxDistance: 0,
                rolloffFactor: 0,
                coneInnerAngle: 360,
                coneOuterAngle: 360,
                coneOuterGain: 0,
                type: 0,
                frequency: n(),
                Q: n(),
                detune: n(),
                delayTime: n(),
                buffer: 0,
                threshold: n(),
                knee: n(),
                ratio: n(),
                attack: n(),
                release: n(),
                reduction: n(),
                oversample: 0,
                curve: 0,
                sampleRate: 1,
                length: 0,
                duration: 0,
                numberOfChannels: 0,
                getChannelData: function() {
                    return []
                },
                copyFromChannel: t,
                copyToChannel: t,
                dopplerFactor: 0,
                speedOfSound: 0,
                start: t
            }
        }
        return window.Uint8Array || (window.Uint8Array = window.Float32Array = Array), {
            isFake: !0,
            activeSourceCount: 0,
            createAnalyser: o,
            createBuffer: o,
            createBufferSource: o,
            createMediaElementSource: o,
            createMediaStreamSource: o,
            createBiquadFilter: o,
            createChannelMerger: o,
            createChannelSplitter: o,
            createDynamicsCompressor: o,
            createConvolver: o,
            createDelay: o,
            createGain: o,
            createOscillator: o,
            createPanner: o,
            createScriptProcessor: o,
            createWaveShaper: o,
            decodeAudioData: t,
            destination: o,
            listener: o(),
            sampleRate: 44100,
            state: "",
            get currentTime() {
                return (Date.now() - e) / 1e3
            }
        }
    }
}, function(e, t, n) {
    var o = n(173);
    e.exports = function(e) {
        return Object(o(e))
    }
}, function(e, t) {
    t.f = {}.propertyIsEnumerable
}, function(e, t) {
    t.f = Object.getOwnPropertySymbols
}, function(e, t) {
    e.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
}, function(e, t, n) {
    var o = n(82),
        r = o["__core-js_shared__"] || (o["__core-js_shared__"] = {});
    e.exports = function(e) {
        return r[e] || (r[e] = {})
    }
}, function(e, t, n) {
    var o = n(438)("keys"),
        r = n(176);
    e.exports = function(e) {
        return o[e] || (o[e] = r(e))
    }
}, function(e, t, n) {
    var o = n(172),
        r = Math.max,
        i = Math.min;
    e.exports = function(e, t) {
        return (e = o(e)) < 0 ? r(e + t, 0) : i(e, t)
    }
}, function(e, t, n) {
    var o = n(172),
        r = Math.min;
    e.exports = function(e) {
        return e > 0 ? r(o(e), 9007199254740991) : 0
    }
}, function(e, t, n) {
    var o = n(175),
        r = n(441),
        i = n(440);
    e.exports = function(e) {
        return function(t, n, a) {
            var s, l = o(t),
                u = r(l.length),
                c = i(a, u);
            if (e && n != n) {
                for (; u > c;)
                    if ((s = l[c++]) != s) return !0
            } else
                for (; u > c; c++)
                    if ((e || c in l) && l[c] === n) return e || c || 0;
            return !e && -1
        }
    }
}, function(e, t) {
    var n = {}.toString;
    e.exports = function(e) {
        return n.call(e).slice(8, -1)
    }
}, function(e, t, n) {
    var o = n(177),
        r = n(175),
        i = n(442)(!1),
        a = n(439)("IE_PROTO");
    e.exports = function(e, t) {
        var n, s = r(e),
            l = 0,
            u = [];
        for (n in s) n != a && o(s, n) && u.push(n);
        for (; t.length > l;) o(s, n = t[l++]) && (~i(u, n) || u.push(n));
        return u
    }
}, function(e, t, n) {
    var o = n(444),
        r = n(437);
    e.exports = Object.keys || function(e) {
        return o(e, r)
    }
}, function(e, t, n) {
    "use strict";
    var o = n(445),
        r = n(436),
        i = n(435),
        a = n(434),
        s = n(174),
        l = Object.assign;
    e.exports = !l || n(114)(function() {
        var e = {},
            t = {},
            n = Symbol(),
            o = "abcdefghijklmnopqrst";
        return e[n] = 7, o.split("").forEach(function(e) {
            t[e] = e
        }), 7 != l({}, e)[n] || Object.keys(l({}, t)).join("") != o
    }) ? function(e, t) {
        for (var n = a(e), l = arguments.length, u = 1, c = r.f, f = i.f; l > u;)
            for (var p, d = s(arguments[u++]), h = c ? o(d).concat(c(d)) : o(d), y = h.length, v = 0; y > v;) f.call(d, p = h[v++]) && (n[p] = d[p]);
        return n
    } : l
}, function(e, t) {
    e.exports = function(e) {
        if ("function" != typeof e) throw TypeError(e + " is not a function!");
        return e
    }
}, function(e, t, n) {
    var o = n(447);
    e.exports = function(e, t, n) {
        if (o(e), void 0 === t) return e;
        switch (n) {
            case 1:
                return function(n) {
                    return e.call(t, n)
                };
            case 2:
                return function(n, o) {
                    return e.call(t, n, o)
                };
            case 3:
                return function(n, o, r) {
                    return e.call(t, n, o, r)
                }
        }
        return function() {
            return e.apply(t, arguments)
        }
    }
}, function(e, t, n) {
    var o = n(82),
        r = n(178),
        i = n(177),
        a = n(176)("src"),
        s = Function.toString,
        l = ("" + s).split("toString");
    n(117).inspectSource = function(e) {
        return s.call(e)
    }, (e.exports = function(e, t, n, s) {
        var u = "function" == typeof n;
        u && (i(n, "name") || r(n, "name", t)), e[t] !== n && (u && (i(n, a) || r(n, a, e[t] ? "" + e[t] : l.join(String(t)))), e === o ? e[t] = n : s ? e[t] ? e[t] = n : r(e, t, n) : (delete e[t], r(e, t, n)))
    })(Function.prototype, "toString", function() {
        return "function" == typeof this && this[a] || s.call(this)
    })
}, function(e, t) {
    e.exports = function(e, t) {
        return {
            enumerable: !(1 & e),
            configurable: !(2 & e),
            writable: !(4 & e),
            value: t
        }
    }
}, function(e, t, n) {
    var o = n(116);
    e.exports = function(e, t) {
        if (!o(e)) return e;
        var n, r;
        if (t && "function" == typeof(n = e.toString) && !o(r = n.call(e))) return r;
        if ("function" == typeof(n = e.valueOf) && !o(r = n.call(e))) return r;
        if (!t && "function" == typeof(n = e.toString) && !o(r = n.call(e))) return r;
        throw TypeError("Can't convert object to primitive value")
    }
}, function(e, t, n) {
    var o = n(116),
        r = n(82).document,
        i = o(r) && o(r.createElement);
    e.exports = function(e) {
        return i ? r.createElement(e) : {}
    }
}, function(e, t, n) {
    e.exports = !n(115) && !n(114)(function() {
        return 7 != Object.defineProperty(n(452)("div"), "a", {
            get: function() {
                return 7
            }
        }).a
    })
}, function(e, t, n) {
    var o = n(116);
    e.exports = function(e) {
        if (!o(e)) throw TypeError(e + " is not an object!");
        return e
    }
}, function(e, t, n) {
    var o = n(454),
        r = n(453),
        i = n(451),
        a = Object.defineProperty;
    t.f = n(115) ? Object.defineProperty : function(e, t, n) {
        if (o(e), t = i(t, !0), o(n), r) try {
            return a(e, t, n)
        } catch (e) {}
        if ("get" in n || "set" in n) throw TypeError("Accessors not supported!");
        return "value" in n && (e[t] = n.value), e
    }
}, function(e, t, n) {
    var o = n(82),
        r = n(117),
        i = n(178),
        a = n(449),
        s = n(448),
        l = function(e, t, n) {
            var u, c, f, p, d = e & l.F,
                h = e & l.G,
                y = e & l.S,
                v = e & l.P,
                _ = e & l.B,
                m = h ? o : y ? o[t] || (o[t] = {}) : (o[t] || {}).prototype,
                g = h ? r : r[t] || (r[t] = {}),
                b = g.prototype || (g.prototype = {});
            for (u in h && (n = t), n) f = ((c = !d && m && void 0 !== m[u]) ? m : n)[u], p = _ && c ? s(f, o) : v && "function" == typeof f ? s(Function.call, f) : f, m && a(m, u, f, e & l.U), g[u] != f && i(g, u, p), v && b[u] != f && (b[u] = f)
        };
    o.core = r, l.F = 1, l.G = 2, l.S = 4, l.P = 8, l.B = 16, l.W = 32, l.U = 64, l.R = 128, e.exports = l
}, function(e, t, n) {
    var o = n(456);
    o(o.S + o.F, "Object", {
        assign: n(446)
    })
}, function(e, t, n) {
    n(457), e.exports = n(117).Object.assign
}, function(e, t) {
    e.exports = function(e) {
        if ("function" != typeof e) throw TypeError(e + " is not a function!");
        return e
    }
}, function(e, t, n) {
    var o = n(64);
    o(o.S + o.F * !n(33), "Object", {
        defineProperty: n(34).f
    })
}, function(e, t, n) {
    n(460);
    var o = n(47).Object;
    e.exports = function(e, t, n) {
        return o.defineProperty(e, t, n)
    }
}, function(e, t, n) {
    "use strict";
    t.__esModule = !0;
    var o, r = (o = n(182)) && o.__esModule ? o : {
        default: o
    };
    t.default = function(e, t) {
        for (var n in t) {
            var o = t[n];
            o.configurable = o.enumerable = !0, "value" in o && (o.writable = !0), (0, r.default)(e, n, o)
        }
        return e
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = i(n(52)),
        r = i(n(36));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function a(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var s = new(function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._events = {
                gamepad: [],
                axes: []
            }, this._handlers = {
                gamepad: {
                    connect: null,
                    disconnect: null
                }
            }, this._keyMapping = {
                gamepad: {
                    button_1: 0,
                    button_2: 1,
                    button_3: 2,
                    button_4: 3,
                    shoulder_top_left: 4,
                    shoulder_top_right: 5,
                    shoulder_bottom_left: 6,
                    shoulder_bottom_right: 7,
                    select: 8,
                    start: 9,
                    stick_button_left: 10,
                    stick_button_right: 11,
                    d_pad_up: 12,
                    d_pad_down: 13,
                    d_pad_left: 14,
                    d_pad_right: 15,
                    vendor: 16
                },
                axes: {
                    stick_axis_left: [0, 2],
                    stick_axis_right: [2, 4]
                }
            }, this._threshold = .3, this._listeners = [], this._update = this._update.bind(this), this.resume()
        }
        var t, n;
        return t = e, (n = [{
            key: "on",
            value: function(e, t, n, o) {
                var r = this; - 1 !== Object.keys(this._handlers.gamepad).indexOf(e) && "function" == typeof t ? (this._handlers.gamepad[e] = t, this._events.gamepad = []) : ("string" == typeof e && e.match(/\s+/) && (e = e.split(/\s+/g)), "string" == typeof t && t.match(/\s+/) && (t = t.split(/\s+/g)), Array.isArray(e) ? e.forEach(function(e) {
                    r.on(e, t, n, o)
                }) : Array.isArray(t) ? t.forEach(function(t) {
                    r.on(e, t, n, o)
                }) : this._listeners.push({
                    type: e,
                    button: t,
                    callback: n,
                    options: o
                }))
            }
        }, {
            key: "off",
            value: function(e, t) {
                var n = this;
                "string" == typeof e && e.match(/\s+/) && (e = e.split(/\s+/g)), "string" == typeof t && t.match(/\s+/) && (t = t.split(/\s+/g)), Array.isArray(e) ? e.forEach(function(e) {
                    n.off(e, t)
                }) : Array.isArray(t) ? t.forEach(function(t) {
                    n.off(e, t)
                }) : this._listeners = this._listeners.filter(function(n) {
                    return n.type !== e && n.button !== t
                })
            }
        }, {
            key: "trigger",
            value: function(e, t, n, o) {
                this._listeners && this._listeners.forEach(function(r) {
                    r.type === e && r.button === t && r.callback({
                        type: r.type,
                        button: r.button,
                        value: n,
                        player: o,
                        event: r,
                        timestamp: Date.now()
                    })
                })
            }
        }, {
            key: "setCustomMapping",
            value: function(e, t) {
                if (void 0 === this._keyMapping[e]) throw new Error('The device "'.concat(e, '" is not supported'));
                this._keyMapping[e] = t
            }
        }, {
            key: "pause",
            value: function() {
                o.default.remove(this._update)
            }
        }, {
            key: "resume",
            value: function() {
                o.default.add(this._update)
            }
        }, {
            key: "destroy",
            value: function() {
                this.pause(), delete this._listeners
            }
        }, {
            key: "_findKeyMapping",
            value: function(e, t) {
                var n = [];
                return Object.keys(t).forEach(function(o) {
                    t[o] === e ? n.push(o) : Array.isArray(t[o]) && -1 !== t[o].indexOf(e) && n.push(o)
                }), n
            }
        }, {
            key: "_handleGamepadConnected",
            value: function(e) {
                this._handlers.gamepad.connect && this._handlers.gamepad.connect({
                    index: e
                })
            }
        }, {
            key: "_handleGamepadDisconnected",
            value: function(e) {
                this._handlers.gamepad.disconnect && this._handlers.gamepad.disconnect({
                    index: e
                })
            }
        }, {
            key: "_handleGamepadEventListener",
            value: function(e) {
                var t = this;
                e && e.connected && e.buttons.forEach(function(n, o) {
                    var r = t._findKeyMapping(o, t._keyMapping.gamepad);
                    r && r.forEach(function(o) {
                        n.pressed ? (t._events.gamepad[e.index][o] || (t._events.gamepad[e.index][o] = {
                            pressed: !0,
                            hold: !1,
                            released: !1,
                            player: e.index
                        }), t._events.gamepad[e.index][o].value = n.value) : !n.pressed && t._events.gamepad[e.index][o] && (t._events.gamepad[e.index][o].released = !0, t._events.gamepad[e.index][o].hold = !1)
                    })
                })
            }
        }, {
            key: "_handleGamepadAxisEventListener",
            value: function(e) {
                var t = this;
                e && e.connected && Object.keys(this._keyMapping.axes).forEach(function(n) {
                    var o = Array.prototype.slice.apply(e.axes, t._keyMapping.axes[n]);
                    Math.abs(o[0]) > t._threshold || Math.abs(o[1]) > t._threshold ? t._events.axes[e.index][n] = {
                        pressed: !t._events.axes[e.index][n],
                        hold: !!t._events.axes[e.index][n],
                        released: !1,
                        value: o
                    } : t._events.axes[e.index][n] && (t._events.axes[e.index][n] = {
                        pressed: !1,
                        hold: !1,
                        released: !0,
                        value: o
                    })
                })
            }
        }, {
            key: "_handleEvent",
            value: function(e, t, n) {
                t[e].pressed ? (this.trigger("press", e, t[e].value, n), t[e].pressed = !1, t[e].hold = !0) : t[e].hold ? this.trigger("hold", e, t[e].value, n) : t[e].released && (this.trigger("release", e, t[e].value, n), delete t[e])
            }
        }, {
            key: "_update",
            value: function() {
                var e = this,
                    t = !!r.default.supports.gamepad && window.navigator.getGamepads();
                if (t) {
                    for (var n = 0, o = t.length; n < o; n++) t[n] ? (this._events.gamepad[n] || (this._handleGamepadConnected(n), this._events.gamepad[n] = {}, this._events.axes[n] = {}), this._handleGamepadEventListener(t[n]), this._handleGamepadAxisEventListener(t[n])) : this._events.gamepad[n] && (this._handleGamepadDisconnected(n), this._events.gamepad[n] = null, this._events.axes[n] = null);
                    this._events.gamepad.forEach(function(t, n) {
                        t && Object.keys(t).forEach(function(o) {
                            e._handleEvent(o, t, n)
                        })
                    }), this._events.axes.forEach(function(t, n) {
                        t && Object.keys(t).forEach(function(o) {
                            e._handleEvent(o, t, n)
                        })
                    })
                }
            }
        }, {
            key: "threshold",
            get: function() {
                return this._threshold
            },
            set: function(e) {
                this._threshold = parseFloat(e)
            }
        }]) && a(t.prototype, n), e
    }());
    t.default = s, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(67)) && o.__esModule ? o : {
        default: o
    };

    function i(e) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function a(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var s = new THREE.Color,
        l = function(e) {
            function t() {
                var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                return function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), (e = function(e, t) {
                    if (t && ("object" === i(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, null, null, null))).name = "ClearPass", e.clearColor = n.clearColor || null, e.clearAlpha = n.clearAlpha || 0, e
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, r.default), n = t, (o = [{
                key: "render",
                value: function(e, t) {
                    var n, o = this.clearColor;
                    null !== o && (s.copy(e.getClearColor()), n = e.getClearAlpha(), e.setClearColor(o, this.clearAlpha)), e.setRenderTarget(this.renderToScreen ? null : t), e.clear(), null !== o && e.setClearColor(s, n)
                }
            }]) && a(n.prototype, o), t
        }();
    t.default = l, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(184)) && o.__esModule ? o : {
            default: o
        },
        i = n(3);

    function a(e) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }

    function l(e, t, n) {
        null === e && (e = Function.prototype);
        var o = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === o) {
            var r = Object.getPrototypeOf(e);
            return null === r ? void 0 : l(r, t, n)
        }
        if ("value" in o) return o.value;
        var i = o.get;
        return void 0 !== i ? i.call(n) : void 0
    }
    var u = (0, i.getLogger)("EntityCache", i.INFO, !0),
        c = function(e) {
            function t() {
                return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                    function(e, t) {
                        if (t && ("object" === a(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, r.default), n = t, (o = [{
                key: "delete",
                value: function(e) {
                    return "function" == typeof e.destroy ? e.destroy() : "function" == typeof e.remove ? e.remove() : "function" == typeof e.dispose && e.dispose(), l(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "delete", this).call(this, e)
                }
            }, {
                key: "clear",
                value: function() {
                    var e = this;
                    u("".concat(this.size, " entities cleared")), this._set.forEach(function(t) {
                        return e.delete(t)
                    }), l(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "clear", this).call(this)
                }
            }]) && s(n.prototype, o), t
        }();
    t.default = c, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = s(n(35)),
            a = s(n(14));

        function s(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function l(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function u(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var c = (u((r = function() {
            function e(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : document;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this.enabled = !0, this.movementSpeed = 15, this.accelerationSpeed = 3, this.decelerationSpeed = .25, this.lookSpeed = .1, this.zoomSpeed = 50, this.autoForward = !1, this.activeLook = !0, this._binded = !1, this._camera = t, this._target = new THREE.Vector3(0, 0, 0), this._domElement = n, this._bodyElement = this._domElement === document ? this._domElement.body : n, this._defaultCameraFov = this._camera.fov, this._lat = 0, this._lon = -90, this._phi = 0, this._theta = 0, this._moveForward = !1, this._moveBackward = !1, this._moveLeft = !1, this._moveRight = !1, this._accelerate = !1, this._decelerate = !1, this._slookSpeed = this.lookSpeed, this._szoomSpeed = this.zoomSpeed, this._zoomIn = !1, this._zoomOut = !1
            }
            var t, n;
            return t = e, (n = [{
                key: "bind",
                value: function() {
                    this._binded || (this._binded = !0, this._bodyElement.requestPointerLock(), this._domElement.addEventListener("pointerlockchange", this._onPointerLockChange, !1), i.default.upped.add(this._handlePointerUp), i.default.downed.add(this._handlePointerDown), i.default.moved.add(this._handlePointerMove), a.default.upped.add(this._handleKeyUp), a.default.downed.add(this._handleKeyDown))
                }
            }, {
                key: "unbind",
                value: function() {
                    this._binded && (this._binded = !1, this._domElement.exitPointerLock(), this._domElement.removeEventListener("pointerlockchange", this._onPointerLockChange, !1), i.default.upped.remove(this._handlePointerUp), i.default.downed.remove(this._handlePointerDown), i.default.moved.remove(this._handlePointerMove), a.default.upped.remove(this._handleKeyUp), a.default.downed.remove(this._handleKeyDown))
                }
            }, {
                key: "update",
                value: function(e, t) {
                    if (!1 !== this.enabled) {
                        var n = e * this.movementSpeed;
                        this._accelerate ? n *= this.accelerationSpeed : this._decelerate && (n *= this.decelerationSpeed), (this._moveForward || this.autoForward && !this._moveBackward) && this._camera.translateZ(-n), this._moveBackward && this._camera.translateZ(n), this._moveLeft && this._camera.translateX(-n), this._moveRight && this._camera.translateX(n), this._moveUp && (this._camera.position.y += n), this._moveDown && (this._camera.position.y -= n), this._lat = Math.max(-85, Math.min(85, this._lat)), this._phi = THREE.Math.degToRad(90 - this._lat), this._theta = THREE.Math.degToRad(this._lon);
                        var o = this._target,
                            r = this._camera.position;
                        o.x = r.x + Math.sin(this._phi) * Math.cos(this._theta), o.y = r.y + Math.cos(this._phi), o.z = r.z + Math.sin(this._phi) * Math.sin(this._theta), this._camera.lookAt(o), (this._zoomIn || this._zoomOut) && (this._camera.fov += e * this._szoomSpeed * (this._zoomIn ? -1 : 1), this._camera.fov = THREE.Math.clamp(this._camera.fov, 1, 179), this._camera.updateProjectionMatrix());
                        var i = THREE.Math.mapLinear(this._camera.fov / this.lookSpeed, this._defaultCameraFov / this.lookSpeed, 1 / this.lookSpeed, 1, 0);
                        i = THREE.Math.clamp(i, .01, 1), this._slookSpeed = this.lookSpeed * i, this._szoomSpeed = this.zoomSpeed * i
                    }
                }
            }, {
                key: "destroy",
                value: function() {
                    this.unbind()
                }
            }, {
                key: "_onPointerLockChange",
                value: function(e) {
                    this.enabled = this._domElement.pointerLockElement === this._bodyElement
                }
            }, {
                key: "_handlePointerDown",
                value: function(e) {
                    if (e.preventDefault(), e.stopPropagation(), this._bodyElement.requestPointerLock(), this.activeLook) switch (e.button) {
                        case 0:
                            this._moveForward = !0;
                            break;
                        case 2:
                            this._moveBackward = !0
                    }
                }
            }, {
                key: "_handlePointerUp",
                value: function(e) {
                    if (e.preventDefault(), e.stopPropagation(), this.activeLook) switch (e.button) {
                        case 0:
                            this._moveForward = !1;
                            break;
                        case 2:
                            this._moveBackward = !1
                    }
                }
            }, {
                key: "_handlePointerMove",
                value: function(e) {
                    if (this.enabled) {
                        var t = THREE.Math.clamp(e.movementX || 0, -250, 250),
                            n = THREE.Math.clamp(e.movementY || 0, -250, 250);
                        this._lat -= n * this._slookSpeed, this._lon += t * this._slookSpeed
                    }
                }
            }, {
                key: "_handleKeyDown",
                value: function(e, t) {
                    switch (e.preventDefault(), t) {
                        case "up":
                            this._moveForward = !0;
                            break;
                        case "left":
                            this._moveLeft = !0;
                            break;
                        case "down":
                            this._moveBackward = !0;
                            break;
                        case "right":
                            this._moveRight = !0;
                            break;
                        case "e":
                            this._moveUp = !0;
                            break;
                        case "q":
                            this._moveDown = !0;
                            break;
                        case "shift":
                            this._accelerate = !0;
                            break;
                        case "space":
                            this._decelerate = !0;
                            break;
                        case "x":
                            this._zoomIn = !0;
                            break;
                        case "z":
                            this._zoomOut = !0
                    }
                }
            }, {
                key: "_handleKeyUp",
                value: function(e, t) {
                    switch (e.preventDefault(), t) {
                        case "up":
                            this._moveForward = !1;
                            break;
                        case "left":
                            this._moveLeft = !1;
                            break;
                        case "down":
                            this._moveBackward = !1;
                            break;
                        case "right":
                            this._moveRight = !1;
                            break;
                        case "e":
                            this._moveUp = !1;
                            break;
                        case "q":
                            this._moveDown = !1;
                            break;
                        case "shift":
                            this._accelerate = !1;
                            break;
                        case "space":
                            this._decelerate = !1;
                            break;
                        case "x":
                            this._zoomIn = !1;
                            break;
                        case "z":
                            this._zoomOut = !1
                    }
                }
            }]) && l(t.prototype, n), e
        }()).prototype, "_onPointerLockChange", [o], Object.getOwnPropertyDescriptor(r.prototype, "_onPointerLockChange"), r.prototype), u(r.prototype, "_handlePointerDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handlePointerDown"), r.prototype), u(r.prototype, "_handlePointerUp", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handlePointerUp"), r.prototype), u(r.prototype, "_handlePointerMove", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handlePointerMove"), r.prototype), u(r.prototype, "_handleKeyDown", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleKeyDown"), r.prototype), u(r.prototype, "_handleKeyUp", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleKeyUp"), r.prototype), r);
        t.default = c, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = i(n(119)),
        r = i(n(466));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function a(e) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }

    function l(e, t, n) {
        null === e && (e = Function.prototype);
        var o = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === o) {
            var r = Object.getPrototypeOf(e);
            return null === r ? void 0 : l(r, t, n)
        }
        if ("value" in o) return o.value;
        var i = o.get;
        return void 0 !== i ? i.call(n) : void 0
    }
    var u = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === a(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, n))).name = n.name || "Fly Camera", e.controls = new r.default(function(e) {
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(e), n.domEl || document), e.controls.enabled = !1, e.position.set(50, 50, 50), e
        }
        var n, i;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, o.default), n = t, (i = [{
            key: "createGUI",
            value: function(e) {
                if (!this._guiIsCreated) {
                    this._guiIsCreated = !0;
                    var n = l(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "createGUI", this).call(this, e);
                    return n.add(this.controls, "enabled").name("Controls enabled"), n
                }
            }
        }, {
            key: "start",
            value: function() {
                this.controls.bind()
            }
        }, {
            key: "stop",
            value: function() {
                this.controls.unbind()
            }
        }, {
            key: "destroy",
            value: function() {
                l(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this.controls.destroy()
            }
        }, {
            key: "update",
            value: function(e, n) {
                l(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "update", this).call(this, e, n), this.controls.enabled && this.controls.update(e / 1e3, n)
            }
        }, {
            key: "_createHelper",
            value: function() {}
        }, {
            key: "_destroyHelper",
            value: function() {}
        }]) && s(n.prototype, i), t
    }();
    t.default = u, e.exports = t.default
}, function(e, t, n) {
    "use strict";

    function o(e) {
        return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function r(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var i = function(e) {
        function t(e, n) {
            var r, i, a, s, l, u;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (r = function(e, t) {
                if (t && ("object" === o(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this))).object = e, r.domElement = void 0 !== n ? n : document, r.enabled = !0, r.target = new THREE.Vector3, r.minDistance = 0, r.maxDistance = 1 / 0, r.minZoom = 0, r.maxZoom = 1 / 0, r.minPolarAngle = 0, r.maxPolarAngle = Math.PI, r.minAzimuthAngle = -1 / 0, r.maxAzimuthAngle = 1 / 0, r.enableDamping = !1, r.dampingFactor = .25, r.enableZoom = !0, r.zoomSpeed = 1, r.enableRotate = !0, r.rotateSpeed = 1, r.enablePan = !0, r.keyPanSpeed = 7, r.autoRotate = !1, r.autoRotateSpeed = 2, r.enableKeys = !0, r.keys = {
                LEFT: 37,
                UP: 38,
                RIGHT: 39,
                BOTTOM: 40
            }, r.mouseButtons = {
                ORBIT: THREE.MOUSE.LEFT,
                ZOOM: THREE.MOUSE.MIDDLE,
                PAN: THREE.MOUSE.RIGHT
            }, r.target0 = r.target.clone(), r.position0 = r.object.position.clone(), r.zoom0 = r.object.zoom, r.getPolarAngle = function() {
                return _.phi
            }, r.getAzimuthalAngle = function() {
                return _.theta
            }, r.reset = function() {
                c.target.copy(c.target0), c.object.position.copy(c.position0), c.object.zoom = c.zoom0, c.object.updateProjectionMatrix(), c.dispatchEvent(f), c.update(), y = h.NONE
            }, r.update = (i = new THREE.Vector3, a = (new THREE.Quaternion).setFromUnitVectors(e.up, new THREE.Vector3(0, 1, 0)), s = a.clone().inverse(), l = new THREE.Vector3, u = new THREE.Quaternion, function() {
                var e = c.object.position;
                return i.copy(e).sub(c.target), i.applyQuaternion(a), _.setFromVector3(i), c.autoRotate && y === h.NONE && D(2 * Math.PI / 60 / 60 * c.autoRotateSpeed), _.theta += m.theta, _.phi += m.phi, _.theta = Math.max(c.minAzimuthAngle, Math.min(c.maxAzimuthAngle, _.theta)), _.phi = Math.max(c.minPolarAngle, Math.min(c.maxPolarAngle, _.phi)), _.makeSafe(), _.radius *= g, _.radius = Math.max(c.minDistance, Math.min(c.maxDistance, _.radius)), c.target.add(b), i.setFromSpherical(_), i.applyQuaternion(s), e.copy(c.target).add(i), c.object.lookAt(c.target), !0 === c.enableDamping ? (m.theta *= 1 - c.dampingFactor, m.phi *= 1 - c.dampingFactor) : m.set(0, 0, 0), g = 1, b.set(0, 0, 0), !!(w || l.distanceToSquared(c.object.position) > v || 8 * (1 - u.dot(c.object.quaternion)) > v) && (c.dispatchEvent(f), l.copy(c.object.position), u.copy(c.object.quaternion), w = !1, !0)
            }), r.destroy = function() {
                c.domElement.removeEventListener("contextmenu", Y, !1), c.domElement.removeEventListener("mousedown", N, !1), c.domElement.removeEventListener("wheel", G, !1), c.domElement.removeEventListener("touchstart", $, !1), c.domElement.removeEventListener("touchend", W, !1), c.domElement.removeEventListener("touchmove", q, !1), c.domElement.removeEventListener("mousemove", U, !1), c.domElement.removeEventListener("mouseup", B, !1), window.removeEventListener("keydown", V, !1)
            };
            var c = function(e) {
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(r),
                f = {
                    type: "change"
                },
                p = {
                    type: "start"
                },
                d = {
                    type: "end"
                },
                h = {
                    NONE: -1,
                    ROTATE: 0,
                    DOLLY: 1,
                    PAN: 2,
                    TOUCH_ROTATE: 3,
                    TOUCH_DOLLY: 4,
                    TOUCH_PAN: 5
                },
                y = h.NONE,
                v = 1e-6,
                _ = new THREE.Spherical,
                m = new THREE.Spherical,
                g = 1,
                b = new THREE.Vector3,
                w = !1,
                x = new THREE.Vector2,
                k = new THREE.Vector2,
                O = new THREE.Vector2,
                E = new THREE.Vector2,
                P = new THREE.Vector2,
                S = new THREE.Vector2,
                T = new THREE.Vector2,
                j = new THREE.Vector2,
                M = new THREE.Vector2;

            function C() {
                return Math.pow(.95, c.zoomSpeed)
            }

            function D(e) {
                m.theta -= e
            }

            function R(e) {
                m.phi -= e
            }
            var A, L = (A = new THREE.Vector3, function(e, t) {
                    A.setFromMatrixColumn(t, 0), A.multiplyScalar(-e), b.add(A)
                }),
                z = function() {
                    var e = new THREE.Vector3;
                    return function(t, n) {
                        e.setFromMatrixColumn(n, 1), e.multiplyScalar(t), b.add(e)
                    }
                }(),
                I = function() {
                    var e = new THREE.Vector3;
                    return function(t, n) {
                        var o = c.domElement === document ? c.domElement.body : c.domElement;
                        if (Object.getPrototypeOf(c.object).isPerspectiveCamera) {
                            var r = c.object.position;
                            e.copy(r).sub(c.target);
                            var i = e.length();
                            i *= Math.tan(c.object.fov / 2 * Math.PI / 180), L(2 * t * i / o.clientHeight, c.object.matrix), z(2 * n * i / o.clientHeight, c.object.matrix)
                        } else Object.getPrototypeOf(c.object).isOrthographicCamera ? (L(t * (c.object.right - c.object.left) / c.object.zoom / o.clientWidth, c.object.matrix), z(n * (c.object.top - c.object.bottom) / c.object.zoom / o.clientHeight, c.object.matrix)) : (console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."), c.enablePan = !1)
                    }
                }();

            function F(e) {
                Object.getPrototypeOf(c.object).isPerspectiveCamera ? g /= e : Object.getPrototypeOf(c.object).isOrthographicCamera ? (c.object.zoom = Math.max(c.minZoom, Math.min(c.maxZoom, c.object.zoom * e)), c.object.updateProjectionMatrix(), w = !0) : (console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."), c.enableZoom = !1)
            }

            function H(e) {
                Object.getPrototypeOf(c.object).isPerspectiveCamera ? g *= e : Object.getPrototypeOf(c.object).isOrthographicCamera ? (c.object.zoom = Math.max(c.minZoom, Math.min(c.maxZoom, c.object.zoom / e)), c.object.updateProjectionMatrix(), w = !0) : (console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."), c.enableZoom = !1)
            }

            function N(e) {
                if (!1 !== c.enabled) {
                    if (e.preventDefault(), e.button === c.mouseButtons.ORBIT) {
                        if (!1 === c.enableRotate) return;
                        ! function(e) {
                            x.set(e.clientX, e.clientY)
                        }(e), y = h.ROTATE
                    } else if (e.button === c.mouseButtons.ZOOM) {
                        if (!1 === c.enableZoom) return;
                        ! function(e) {
                            T.set(e.clientX, e.clientY)
                        }(e), y = h.DOLLY
                    } else if (e.button === c.mouseButtons.PAN) {
                        if (!1 === c.enablePan) return;
                        ! function(e) {
                            E.set(e.clientX, e.clientY)
                        }(e), y = h.PAN
                    }
                    y !== h.NONE && (c.domElement.addEventListener("mousemove", U, !1), c.domElement.addEventListener("mouseup", B, !1), c.dispatchEvent(p))
                }
            }

            function U(e) {
                if (!1 !== c.enabled)
                    if (e.preventDefault(), y === h.ROTATE) {
                        if (!1 === c.enableRotate) return;
                        ! function(e) {
                            k.set(e.clientX, e.clientY), O.subVectors(k, x);
                            var t = c.domElement === document ? c.domElement.body : c.domElement;
                            D(2 * Math.PI * O.x / t.clientWidth * c.rotateSpeed), R(2 * Math.PI * O.y / t.clientHeight * c.rotateSpeed), x.copy(k), c.update()
                        }(e)
                    } else if (y === h.DOLLY) {
                    if (!1 === c.enableZoom) return;
                    ! function(e) {
                        j.set(e.clientX, e.clientY), M.subVectors(j, T), M.y > 0 ? F(C()) : M.y < 0 && H(C()), T.copy(j), c.update()
                    }(e)
                } else if (y === h.PAN) {
                    if (!1 === c.enablePan) return;
                    ! function(e) {
                        P.set(e.clientX, e.clientY), S.subVectors(P, E), I(S.x, S.y), E.copy(P), c.update()
                    }(e)
                }
            }

            function B(e) {
                !1 !== c.enabled && (c.domElement.removeEventListener("mousemove", U, !1), c.domElement.removeEventListener("mouseup", B, !1), c.dispatchEvent(d), y = h.NONE)
            }

            function G(e) {
                !1 === c.enabled || !1 === c.enableZoom || y !== h.NONE && y !== h.ROTATE || (e.preventDefault(), e.stopPropagation(), function(e) {
                    e.deltaY < 0 ? H(C()) : e.deltaY > 0 && F(C()), c.update()
                }(e), c.dispatchEvent(p), c.dispatchEvent(d))
            }

            function V(e) {
                !1 !== c.enabled && !1 !== c.enableKeys && !1 !== c.enablePan && function(e) {
                    switch (e.keyCode) {
                        case c.keys.UP:
                            I(0, c.keyPanSpeed), c.update();
                            break;
                        case c.keys.BOTTOM:
                            I(0, -c.keyPanSpeed), c.update();
                            break;
                        case c.keys.LEFT:
                            I(c.keyPanSpeed, 0), c.update();
                            break;
                        case c.keys.RIGHT:
                            I(-c.keyPanSpeed, 0), c.update()
                    }
                }(e)
            }

            function $(e) {
                if (!1 !== c.enabled) {
                    switch (e.touches.length) {
                        case 1:
                            if (!1 === c.enableRotate) return;
                            ! function(e) {
                                x.set(e.touches[0].pageX, e.touches[0].pageY)
                            }(e), y = h.TOUCH_ROTATE;
                            break;
                        case 2:
                            if (!1 === c.enableZoom) return;
                            ! function(e) {
                                var t = e.touches[0].pageX - e.touches[1].pageX,
                                    n = e.touches[0].pageY - e.touches[1].pageY,
                                    o = Math.sqrt(t * t + n * n);
                                T.set(0, o)
                            }(e), y = h.TOUCH_DOLLY;
                            break;
                        case 3:
                            if (!1 === c.enablePan) return;
                            ! function(e) {
                                E.set(e.touches[0].pageX, e.touches[0].pageY)
                            }(e), y = h.TOUCH_PAN;
                            break;
                        default:
                            y = h.NONE
                    }
                    y !== h.NONE && c.dispatchEvent(p)
                }
            }

            function q(e) {
                if (!1 !== c.enabled) switch (e.preventDefault(), e.stopPropagation(), e.touches.length) {
                    case 1:
                        if (!1 === c.enableRotate) return;
                        if (y !== h.TOUCH_ROTATE) return;
                        ! function(e) {
                            k.set(e.touches[0].pageX, e.touches[0].pageY), O.subVectors(k, x);
                            var t = c.domElement === document ? c.domElement.body : c.domElement;
                            D(2 * Math.PI * O.x / t.clientWidth * c.rotateSpeed), R(2 * Math.PI * O.y / t.clientHeight * c.rotateSpeed), x.copy(k), c.update()
                        }(e);
                        break;
                    case 2:
                        if (!1 === c.enableZoom) return;
                        if (y !== h.TOUCH_DOLLY) return;
                        ! function(e) {
                            var t = e.touches[0].pageX - e.touches[1].pageX,
                                n = e.touches[0].pageY - e.touches[1].pageY,
                                o = Math.sqrt(t * t + n * n);
                            j.set(0, o), M.subVectors(j, T), M.y > 0 ? H(C()) : M.y < 0 && F(C()), T.copy(j), c.update()
                        }(e);
                        break;
                    case 3:
                        if (!1 === c.enablePan) return;
                        if (y !== h.TOUCH_PAN) return;
                        ! function(e) {
                            P.set(e.touches[0].pageX, e.touches[0].pageY), S.subVectors(P, E), I(S.x, S.y), E.copy(P), c.update()
                        }(e);
                        break;
                    default:
                        y = h.NONE
                }
            }

            function W(e) {
                !1 !== c.enabled && (c.dispatchEvent(d), y = h.NONE)
            }

            function Y(e) {
                e.preventDefault()
            }
            return c.domElement.addEventListener("contextmenu", Y, !1), c.domElement.addEventListener("mousedown", N, !1), c.domElement.addEventListener("wheel", G, !1), c.domElement.addEventListener("touchstart", $, !1), c.domElement.addEventListener("touchend", W, !1), c.domElement.addEventListener("touchmove", q, !1), window.addEventListener("keydown", V, !1), r.update(), r
        }
        var n, i;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, THREE.EventDispatcher), n = t, (i = [{
            key: "center",
            get: function() {
                return console.warn("OrbitControls: .center has been renamed to .target"), this.target
            }
        }, {
            key: "noZoom",
            get: function() {
                return console.warn("OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."), !this.enableZoom
            },
            set: function(e) {
                console.warn("OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."), this.enableZoom = !e
            }
        }, {
            key: "noRotate",
            get: function() {
                return console.warn("OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."), !this.enableRotate
            },
            set: function(e) {
                console.warn("OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."), this.enableRotate = !e
            }
        }, {
            key: "noPan",
            get: function() {
                return console.warn("OrbitControls: .noPan has been deprecated. Use .enablePan instead."), !this.enablePan
            },
            set: function(e) {
                console.warn("OrbitControls: .noPan has been deprecated. Use .enablePan instead."), this.enablePan = !e
            }
        }, {
            key: "noKeys",
            get: function() {
                return console.warn("OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."), !this.enableKeys
            },
            set: function(e) {
                console.warn("OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."), this.enableKeys = !e
            }
        }, {
            key: "staticMoving",
            get: function() {
                return console.warn("OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."), !this.enableDamping
            },
            set: function(e) {
                console.warn("OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."), this.enableDamping = !e
            }
        }, {
            key: "dynamicDampingFactor",
            get: function() {
                return console.warn("OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."), this.dampingFactor
            },
            set: function(e) {
                console.warn("OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."), this.dampingFactor = e
            }
        }]) && r(n.prototype, i), t
    }();
    t.default = i, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = l(n(119)),
            a = l(n(468)),
            s = l(n(11));

        function l(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function u(e) {
            return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function c(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function f(e, t, n) {
            null === e && (e = Function.prototype);
            var o = Object.getOwnPropertyDescriptor(e, t);
            if (void 0 === o) {
                var r = Object.getPrototypeOf(e);
                return null === r ? void 0 : f(r, t, n)
            }
            if ("value" in o) return o.value;
            var i = o.get;
            return void 0 !== i ? i.call(n) : void 0
        }
        var p, d, h, y, v, _, m = (p = (r = function(e) {
            function t() {
                var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                return function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), (e = function(e, t) {
                    if (t && ("object" === u(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, n))).name = n.name || "Orbit Camera", e.controls = new a.default(function(e) {
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(e), n.domEl || s.default.renderer.domElement), e.controls.enabled = !1, e.controls.enableKeys = !1, e.controls.target.set(0, 0, 0), e.position.set(50, 50, 50), e
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), n = t, (o = [{
                key: "createGUI",
                value: function(e) {
                    var n = this;
                    if (!this._guiIsCreated) {
                        this._guiIsCreated = !0;
                        var o = f(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "createGUI", this).call(this, e);
                        o.add(this.controls, "enabled").name("Controls enabled");
                        var r = o.addFolder("Target");
                        r.add({
                            log: function() {
                                return console.log(n.controls.target)
                            }
                        }, "log").name("Log"), r.add(this.controls.target, "x").step(.1).name("X"), r.add(this.controls.target, "y").step(.1).name("Y"), r.add(this.controls.target, "z").step(.1).name("Z");
                        var i = o.addFolder("Views");
                        return i.add(this, "_setTopView").name("Top"), i.add(this, "_setBottomView").name("Bottom"), i.add(this, "_setLeftView").name("Left"), i.add(this, "_setRightView").name("Right"), o.add(this.controls, "autoRotate").name("Auto rotate"), o.add(this.controls, "autoRotateSpeed", 0, 60, 1).name("Auto rotate speed"), o
                    }
                }
            }, {
                key: "destroy",
                value: function() {
                    f(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this), this.controls.destroy()
                }
            }, {
                key: "update",
                value: function(e, n) {
                    f(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "update", this).call(this, e, n), this.controls.enabled && this.controls.update()
                }
            }, {
                key: "_onKeyDown",
                value: function(e, t, n) {
                    switch (n) {
                        case "left":
                            this._setLeftView();
                            break;
                        case "up":
                            this._setTopView();
                            break;
                        case "right":
                            this._setRightView();
                            break;
                        case "down":
                            this._setBottomView()
                    }
                }
            }, {
                key: "_setTopView",
                value: function() {
                    this.controls.target.copy(new THREE.Vector3), this.position.set(0, 200, 0)
                }
            }, {
                key: "_setBottomView",
                value: function() {
                    this.controls.target.copy(new THREE.Vector3), this.position.set(0, -200, 0)
                }
            }, {
                key: "_setLeftView",
                value: function() {
                    this.controls.target.copy(new THREE.Vector3), this.position.set(-200, 0, 0)
                }
            }, {
                key: "_setRightView",
                value: function() {
                    this.controls.target.copy(new THREE.Vector3), this.position.set(200, 0, 0)
                }
            }, {
                key: "_createHelper",
                value: function() {}
            }, {
                key: "_destroyHelper",
                value: function() {}
            }]) && c(n.prototype, o), t
        }()).prototype, d = "_onKeyDown", h = [o], y = Object.getOwnPropertyDescriptor(r.prototype, "_onKeyDown"), v = r.prototype, _ = {}, Object.keys(y).forEach(function(e) {
            _[e] = y[e]
        }), _.enumerable = !!_.enumerable, _.configurable = !!_.configurable, ("value" in _ || _.initializer) && (_.writable = !0), _ = h.slice().reverse().reduce(function(e, t) {
            return t(p, d, e) || e
        }, _), v && void 0 !== _.initializer && (_.value = _.initializer ? _.initializer.call(v) : void 0, _.initializer = void 0), void 0 === _.initializer && (Object.defineProperty(p, d, _), _ = null), r);
        t.default = m, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.toRadians = function(e) {
        return e * Math.PI / 180
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.smoothstep = function(e, t, n) {
        var o = Math.max(0, Math.min(1, (e - t) / (n - t)));
        return o * o * (3 - 2 * o)
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.randomInt = function(e, t) {
        return Math.floor(Math.random() * (t - e + 1) + e)
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.randomHexColor = function() {
        return "#" + ("00000" + (Math.random() * (1 << 24) | 0).toString(16)).slice(-6)
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.randomFloat = function(e, t) {
        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 2;
        return parseFloat(Math.min(e + Math.random() * (t - e), t).toFixed(n))
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.parabola = function(e, t) {
        return Math.pow(4 * t * (1 - t), e)
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.normalize = function(e, t, n) {
        return (e - t) / (n - t)
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.modAbs = function(e, t) {
        return e < 0 && (e = t + e % t), e >= t ? e % t : e
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.map = function(e, t, n, o, r) {
        return (e - t) / (n - t) * (r - o) + o
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.lightenDarkenColor = function(e) {
        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
            n = !1;
        "#" === e[0] && (e = e.slice(1), n = !0);
        var r = parseInt(e, 16),
            i = (r >> 16) + t;
        i = (0, o.clamp)(i, 0, 255);
        var a = (r >> 8 & 255) + t;
        a = (0, o.clamp)(a, 0, 255);
        var s = (255 & r) + t,
            l = (s = (0, o.clamp)(s, 0, 255)) | a << 8 | i << 16;
        return 0 === i && 0 === s && 0 === a && 0 !== t && (l = "000000"), (n ? "#" : "") + l.toString(16)
    };
    var o = n(185)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.lerp = function(e, t, n) {
        return t + (n - t) * e
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.isOdd = function(e) {
        return !!(1 & e)
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.isEven = function(e) {
        return !(1 & e)
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.distance = function(e, t, n, o) {
        var r = e - n,
            i = t - o;
        return Math.sqrt(r * r + i * i)
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.diagonal = function(e, t) {
        return Math.sqrt(e * e + t * t)
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.clampNorm = function(e) {
        return e < 0 ? 0 : e > 1 ? 1 : e
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var o = n(185);
    Object.defineProperty(t, "clamp", {
        enumerable: !0,
        get: function() {
            return o.clamp
        }
    });
    var r = n(485);
    Object.defineProperty(t, "clampNorm", {
        enumerable: !0,
        get: function() {
            return r.clampNorm
        }
    });
    var i = n(484);
    Object.defineProperty(t, "diagonal", {
        enumerable: !0,
        get: function() {
            return i.diagonal
        }
    });
    var a = n(483);
    Object.defineProperty(t, "distance", {
        enumerable: !0,
        get: function() {
            return a.distance
        }
    });
    var s = n(482);
    Object.defineProperty(t, "isEven", {
        enumerable: !0,
        get: function() {
            return s.isEven
        }
    });
    var l = n(481);
    Object.defineProperty(t, "isOdd", {
        enumerable: !0,
        get: function() {
            return l.isOdd
        }
    });
    var u = n(480);
    Object.defineProperty(t, "lerp", {
        enumerable: !0,
        get: function() {
            return u.lerp
        }
    });
    var c = n(479);
    Object.defineProperty(t, "lightenDarkenColor", {
        enumerable: !0,
        get: function() {
            return c.lightenDarkenColor
        }
    });
    var f = n(478);
    Object.defineProperty(t, "map", {
        enumerable: !0,
        get: function() {
            return f.map
        }
    });
    var p = n(477);
    Object.defineProperty(t, "modAbs", {
        enumerable: !0,
        get: function() {
            return p.modAbs
        }
    });
    var d = n(476);
    Object.defineProperty(t, "normalize", {
        enumerable: !0,
        get: function() {
            return d.normalize
        }
    });
    var h = n(475);
    Object.defineProperty(t, "parabola", {
        enumerable: !0,
        get: function() {
            return h.parabola
        }
    });
    var y = n(474);
    Object.defineProperty(t, "randomFloat", {
        enumerable: !0,
        get: function() {
            return y.randomFloat
        }
    });
    var v = n(473);
    Object.defineProperty(t, "randomHexColor", {
        enumerable: !0,
        get: function() {
            return v.randomHexColor
        }
    });
    var _ = n(472);
    Object.defineProperty(t, "randomInt", {
        enumerable: !0,
        get: function() {
            return _.randomInt
        }
    });
    var m = n(471);
    Object.defineProperty(t, "smoothstep", {
        enumerable: !0,
        get: function() {
            return m.smoothstep
        }
    });
    var g = n(470);
    Object.defineProperty(t, "toRadians", {
        enumerable: !0,
        get: function() {
            return g.toRadians
        }
    }), Object.defineProperty(t, "degToRad", {
        enumerable: !0,
        get: function() {
            return g.toRadians
        }
    })
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = n(85),
            a = d(n(14)),
            s = d(n(4)),
            l = d(n(17)),
            u = d(n(469)),
            c = d(n(467)),
            f = n(3),
            p = n(6);

        function d(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function h(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var y, v, _, m, g, b, w = (0, f.getLogger)("CameraCtrl", "#bfd81e", !0),
            x = (y = (r = function() {
                function e() {
                    ! function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, e), this._cameras = [], this._currentCameraId = null, this._helpers = new THREE.Object3D, this._isPaused = !0, this._guiIsCreated = !1, this._guiFolder = null, this._createGUI(), this._createDebugCameras()
                }
                var t, n;
                return t = e, (n = [{
                    key: "addCamera",
                    value: function(e) {
                        this._cameras.push(e), this._checkDefaultCamera(e), this._createHelper(e)
                    }
                }, {
                    key: "removeCamera",
                    value: function(e) {
                        this._cameras.splice(this._cameras.indexOf(e), 1), e.destroy()
                    }
                }, {
                    key: "nextCamera",
                    value: function() {
                        var e = (0, i.modAbs)(this._currentCameraId + 1, this._cameras.length);
                        this.changeCamera(e)
                    }
                }, {
                    key: "previousCamera",
                    value: function() {
                        var e = (0, i.modAbs)(this._currentCameraId - 1, this._cameras.length);
                        this.changeCamera(e)
                    }
                }, {
                    key: "changeCamera",
                    value: function(e) {
                        var t = this._getCamera(this._currentCameraId);
                        t && (t.helper && (t.helper.visible = !0), t.controls && (t.controls.enabled = !1), t.stop()), this._currentCameraId = e;
                        var n = this._getCamera(e);
                        n.controls && (n.controls.enabled = !0), n.helper && (n.helper.visible = !1), n.start(), this._isPaused || (w("Camera changed from '".concat(t.name, "' to '").concat(n.name, "'")), s.default.camera.changed.dispatch(n))
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._unbind(), this._destroyGUI();
                        for (var e = 0, t = this._cameras.length; e < t; e++) this._cameras[e].destroy();
                        this._cameras = null, this._currentCameraId = null
                    }
                }, {
                    key: "start",
                    value: function() {
                        this._isPaused = !1, this._bind();
                        for (var e = 0, t = this._cameras.length; e < t; e++) this._cameras[e].createGUI(this._guiFolder)
                    }
                }, {
                    key: "pause",
                    value: function() {
                        this._isPaused = !0, this._unbind()
                    }
                }, {
                    key: "update",
                    value: function(e, t) {
                        for (var n = 0, o = this._cameras.length; n < o; n++) this._cameras[n].update(e, t)
                    }
                }, {
                    key: "_bind",
                    value: function() {
                        a.default.upped.add(this._onKeyUp)
                    }
                }, {
                    key: "_unbind",
                    value: function() {
                        a.default.upped.remove(this._onKeyUp)
                    }
                }, {
                    key: "_createGUI",
                    value: function() {
                        this._guiIsCreated = !0, this._guiFolder = l.default.addFolder("CameraCtrl")
                    }
                }, {
                    key: "_destroyGUI",
                    value: function() {
                        this._guiFolder && l.default.removeFolder(this._guiFolder)
                    }
                }, {
                    key: "_checkDefaultCamera",
                    value: function(e) {
                        if (e.isDefault) {
                            var t = this._cameras.length - 1;
                            t !== this._currentCameraId && (this.changeCamera(t), e.helper && (e.helper.visible = !1))
                        }
                    }
                }, {
                    key: "_createHelper",
                    value: function(e) {
                        e.helper && this._helpers.add(e.helper)
                    }
                }, {
                    key: "_getCamera",
                    value: function(e) {
                        return this._cameras[e]
                    }
                }, {
                    key: "_createDebugCameras",
                    value: function() {
                        this._debugOrbitCamera = new u.default({
                            name: "Debug orbit camera",
                            isDefault: !1
                        }), this.addCamera(this._debugOrbitCamera), this._debugFlyCamera = new c.default({
                            name: "Debug fly camera",
                            isDefault: !1
                        }), this.addCamera(this._debugFlyCamera)
                    }
                }, {
                    key: "_onKeyUp",
                    value: function(e, t) {
                        a.default.isDown("shift") && "c" === t && (this.nextCamera(), (0, p.event)("debug", "debug-camera", this.camera.name))
                    }
                }, {
                    key: "helpers",
                    get: function() {
                        return this._helpers
                    }
                }, {
                    key: "camera",
                    get: function() {
                        return this._cameras[this._currentCameraId]
                    }
                }, {
                    key: "cameras",
                    get: function() {
                        return this._cameras
                    }
                }, {
                    key: "currentCameraId",
                    get: function() {
                        return this._currentCameraId
                    }
                }]) && h(t.prototype, n), e
            }()).prototype, v = "_onKeyUp", _ = [o], m = Object.getOwnPropertyDescriptor(r.prototype, "_onKeyUp"), g = r.prototype, b = {}, Object.keys(m).forEach(function(e) {
                b[e] = m[e]
            }), b.enumerable = !!b.enumerable, b.configurable = !!b.configurable, ("value" in b || b.initializer) && (b.writable = !0), b = _.slice().reverse().reduce(function(e, t) {
                return t(y, v, e) || e
            }, b), g && void 0 !== b.initializer && (b.value = b.initializer ? b.initializer.call(g) : void 0, b.initializer = void 0), void 0 === b.initializer && (Object.defineProperty(y, v, b), b = null), r);
        t.default = x, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";

    function o(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var r = function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this.order = [], this.rules = {}
        }
        var t, n;
        return t = e, (n = [{
            key: "exists",
            value: function(e) {
                return -1 !== this.order.indexOf(e)
            }
        }, {
            key: "index",
            value: function(e) {
                return this.order.indexOf(e)
            }
        }, {
            key: "_add",
            value: function(e) {
                this.exists(e) || (this.order.push(e), this.rules[e] = {
                    before: this.order.slice(0, this.order.length - 1),
                    after: []
                })
            }
        }, {
            key: "before",
            value: function(e, t) {
                this._add(t), this._add(e), this.updateRules(t, e, "before"), this.reorder()
            }
        }, {
            key: "after",
            value: function(e, t) {
                this._add(t), this._add(e), this.updateRules(t, e, "after"), this.reorder()
            }
        }, {
            key: "add",
            value: function(e) {
                this._add(e), this.refreshRules()
            }
        }, {
            key: "first",
            value: function(e) {
                this.order[0] ? this.before(this.order[0], e) : this.add(e)
            }
        }, {
            key: "last",
            value: function(e) {
                this.order[this.order.length - 1] ? this.after(this.order[this.order.length - 1], e) : this.add(e)
            }
        }, {
            key: "rule",
            value: function(e, t, n) {
                if (-1 === this.rules[t][e].indexOf(n)) {
                    this.rules[t][e].push(n);
                    var o = "before" === e ? "after" : "before",
                        r = this.rules[t][o].indexOf(n); - 1 !== r && this.rules[t][o].splice(r, 1)
                }
            }
        }, {
            key: "refreshRules",
            value: function() {
                for (var e = {}, t = 0, n = this.order.length; t < n; t++) e[this.order[t]] = {
                    before: this.order.slice(0, t),
                    after: this.order.slice(t + 1, n)
                };
                this.rules = e
            }
        }, {
            key: "updateRules",
            value: function(e, t, n) {
                "before" === n ? (this.rules[e].after = this.rules[t].after.slice(0), this.rules[e].after.push(t), this.rules[e].before = this.rules[t].before.slice(0)) : (this.rules[e].before = this.rules[t].before.slice(0), this.rules[e].before.push(t), this.rules[e].after = this.rules[t].after.slice(0));
                for (var o = 0, r = this.order.length; o < r; o++) this.rules[e].before.indexOf(this.order[o]) > -1 && this.rule("after", this.order[o], e), this.rules[e].after.indexOf(this.order[o]) > -1 && this.rule("before", this.order[o], e)
            }
        }, {
            key: "reorder",
            value: function() {
                for (var e, t, n = [this.order[0]], o = 0, r = 1, i = this.order.length; r < i; r++) {
                    e = this.order[r], o = 0;
                    for (var a = 0, s = n.length; a < s; a++) t = n[a], this.rules[t].before.indexOf(e) > -1 && o--;
                    var l = Math.max(0, n.length + o);
                    n.splice(l, 0, e)
                }
                this.order = n, this.refreshRules()
            }
        }]) && o(t.prototype, n), e
    }();
    t.default = r, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(488)) && o.__esModule ? o : {
        default: o
    };

    function i(e) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function a(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }

    function s(e, t, n) {
        null === e && (e = Function.prototype);
        var o = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === o) {
            var r = Object.getPrototypeOf(e);
            return null === r ? void 0 : s(r, t, n)
        }
        if ("value" in o) return o.value;
        var i = o.get;
        return void 0 !== i ? i.call(n) : void 0
    }
    var l = function(e) {
        function t() {
            var e;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === i(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)))._tasks = {}, e
        }
        var n, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, r.default), n = t, (o = [{
            key: "_addTask",
            value: function(e, t) {
                this._tasks[e] = t || null
            }
        }, {
            key: "add",
            value: function(e, n) {
                s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "add", this).call(this, e), this._addTask(e, n)
            }
        }, {
            key: "first",
            value: function(e, n) {
                s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "first", this).call(this, e), this._addTask(e, n)
            }
        }, {
            key: "last",
            value: function(e, n) {
                s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "last", this).call(this, e), this._addTask(e, n)
            }
        }, {
            key: "before",
            value: function(e, n, o) {
                s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "before", this).call(this, e, n), this._addTask(n, o)
            }
        }, {
            key: "after",
            value: function(e, n, o) {
                s(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "after", this).call(this, e, n), this._addTask(n, o)
            }
        }, {
            key: "get",
            value: function(e) {
                var t = this,
                    n = new RegExp("^".concat(e));
                return this.order.filter(function(e) {
                    return e.match(n)
                }).map(function(e) {
                    return t._tasks[e]
                }).join("\n")
            }
        }, {
            key: "getAll",
            value: function() {
                var e = this;
                return this.order.map(function(t) {
                    return e._tasks[t]
                })
            }
        }]) && a(n.prototype, o), t
    }();
    t.default = l, e.exports = t.default
}, function(e, t, n) {
    (function(n) {
        var o, r;
        void 0 === (r = "function" == typeof(o = function() {
            "use strict";
            var e, t, o, r, i, a, s, l, u = "undefined" != typeof window ? window : void 0 != typeof n ? n : this || {},
                c = u.cancelRequestAnimationFrame && u.requestAnimationFrame || setTimeout,
                f = u.cancelRequestAnimationFrame || clearTimeout,
                p = [],
                d = 0,
                h = !1,
                y = 7,
                v = 35,
                _ = 125,
                m = 0,
                g = 0,
                b = 0,
                w = {
                    get didTimeout() {
                        return !1
                    },
                    timeRemaining: function() {
                        var e = y - (Date.now() - g);
                        return e < 0 ? 0 : e
                    }
                },
                x = (i = function() {
                    y = 22, _ = 66, v = 0
                }, l = function() {
                    var e = Date.now() - s;
                    e < 99 ? a = setTimeout(l, 99 - e) : (a = null, i())
                }, function() {
                    s = Date.now(), a || (a = setTimeout(l, 99))
                });

            function k() {
                125 != _ && (y = 7, _ = 125, v = 35, h && (h && (r && f(r), o && clearTimeout(o), h = !1), P())), x()
            }

            function O() {
                r = null, o = setTimeout(S, 0)
            }

            function E() {
                o = null, c(O)
            }

            function P() {
                h || (t = _ - (Date.now() - g), e = Date.now(), h = !0, v && t < v && (t = v), t > 9 ? o = setTimeout(E, t) : (t = 0, E()))
            }

            function S() {
                var n, r, i, a = y > 9 ? 9 : 1;
                if (g = Date.now(), h = !1, o = null, d > 2 || g - t - 50 < e)
                    for (r = 0, i = p.length; r < i && w.timeRemaining() > a; r++) n = p.shift(), b++, n && n(w);
                p.length ? P() : d = 0
            }

            function T(e) {
                return m++, p.push(e), P(), m
            }

            function j(e) {
                var t = e - 1 - b;
                p[t] && (p[t] = null)
            }
            if (u.requestIdleCallback && u.cancelIdleCallback) try {
                u.requestIdleCallback(function() {}, {
                    timeout: 0
                })
            } catch (e) {
                ! function(e) {
                    var t, n;
                    if (u.requestIdleCallback = function(t, n) {
                            return n && "number" == typeof n.timeout ? e(t, n.timeout) : e(t)
                        }, u.IdleCallbackDeadline && (t = IdleCallbackDeadline.prototype)) {
                        if (!(n = Object.getOwnPropertyDescriptor(t, "timeRemaining")) || !n.configurable || !n.get) return;
                        Object.defineProperty(t, "timeRemaining", {
                            value: function() {
                                return n.get.call(this)
                            },
                            enumerable: !0,
                            configurable: !0
                        })
                    }
                }(u.requestIdleCallback)
            } else u.requestIdleCallback = T, u.cancelIdleCallback = j, u.document && document.addEventListener && (u.addEventListener("scroll", k, !0), u.addEventListener("resize", k), document.addEventListener("focus", k, !0), document.addEventListener("mouseover", k, !0), ["click", "keypress", "touchstart", "mousedown"].forEach(function(e) {
                document.addEventListener(e, k, {
                    capture: !0,
                    passive: !0
                })
            }), u.MutationObserver && new MutationObserver(k).observe(document.documentElement, {
                childList: !0,
                subtree: !0,
                attributes: !0
            }));
            return {
                request: T,
                cancel: j
            }
        }) ? o.apply(t, []) : o) || (e.exports = r)
    }).call(this, n(18))
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = a(n(490)),
        r = a(n(29)),
        i = n(123);

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var l = function() {
        function e() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._tasks = t, this._requestId = null, this._runTasks = this._runTasks.bind(this)
        }
        var t, n;
        return t = e, (n = [{
            key: "add",
            value: function(e) {
                if ("function" == typeof e) this._tasks.push(e);
                else if ((0, i.isArray)(e))
                    for (var t = 0, n = e.length; t < n; t++) this.add(e)
            }
        }, {
            key: "execute",
            value: function() {
                var e = this;
                return this._tasks.length ? r.default.promise(function(t, n) {
                    e._requestId = e._request(t)
                }) : (0, r.default)()
            }
        }, {
            key: "clear",
            value: function() {
                this._tasks = null, this._requestId && o.default.cancel(this._requestId)
            }
        }, {
            key: "_runTasks",
            value: function(e, t) {
                for (; this._tasks.length && e.timeRemaining() > 0;) this._tasks.shift()();
                this._tasks.length ? this._requestId = this._request(t) : t()
            }
        }, {
            key: "_request",
            value: function(e) {
                var t = this;
                return o.default.request(function(n) {
                    return t._runTasks(n, e)
                })
            }
        }]) && s(t.prototype, n), e
    }();
    t.default = l, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = p(n(20)),
        r = p(n(186)),
        i = p(n(151)),
        a = p(n(35)),
        s = p(n(373)),
        l = p(n(362)),
        u = p(n(358)),
        c = p(n(31)),
        f = p(n(357));

    function p(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function d(e) {
        return (d = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function h(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }

    function y(e, t, n) {
        null === e && (e = Function.prototype);
        var o = Object.getOwnPropertyDescriptor(e, t);
        if (void 0 === o) {
            var r = Object.getPrototypeOf(e);
            return null === r ? void 0 : y(r, t, n)
        }
        if ("value" in o) return o.value;
        var i = o.get;
        return void 0 !== i ? i.call(n) : void 0
    }
    var v = function(e) {
        function t() {
            return function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t),
                function(e, t) {
                    if (t && ("object" === d(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
        }
        var n, p;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, r.default), n = t, (p = [{
            key: "destroy",
            value: function() {
                return a.default.removeCursor("pointer"), a.default.removeCursor("not-allowed"), this._sounds.get("interface-soft-stone").volume = .7, y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "destroy", this).call(this)
            }
        }, {
            key: "_init",
            value: function() {
                y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_init", this).call(this), this._renderer.pixelRatio = 2, this._postProcessing.enabled = !0, this.raycaster = new THREE.Raycaster, o.default.homeMode = "menu", this._gltf.add("logo", "home.models.logo"), this._gltf.add("menu", "home.models.menu"), this._gltf.add("chapters", "home.models.chapters"), this._sounds.get("interface-soft-stone").volume = 1
            }
        }, {
            key: "_createCameras",
            value: function() {
                this._gameCamera = new i.default({
                    isDefault: !0
                }), this.addCamera(this._gameCamera)
            }
        }, {
            key: "_createPostProcessing",
            value: function() {
                y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_createPostProcessing", this).call(this), this._fxaaPass = new f.default, this._postProcessing.addPass(this._fxaaPass)
            }
        }, {
            key: "_createEntities",
            value: function() {
                y(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "_createEntities", this).call(this), this.validateSprite = new c.default({
                    debug: !1,
                    geometry: new THREE.PlaneBufferGeometry(5, 5, 1, 1),
                    fps: 50,
                    dataId: "common.json.sprites.electricity",
                    atlasId: "home.textures.sprites.electricity"
                }), this.addEntity(this.validateSprite), this._logo = new s.default, this.addEntity(this._logo), this._menu = new l.default, this.addEntity(this._menu), this._chapters = new u.default, this.addEntity(this._chapters), this.validateSprite.position.x = 0, this.validateSprite.position.z = -7
            }
        }, {
            key: "_onUpdate",
            value: function(e, t) {
                this._logo.update(e, t), this._menu.update(e, t), this._chapters.update(e, t), this.validateSprite.update(e, t)
            }
        }]) && h(n.prototype, p), t
    }();
    t.default = v, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = l(n(492)),
        r = l(n(354)),
        i = l(n(294)),
        a = l(n(289)),
        s = l(n(278));

    function l(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var u = {
        home: o.default,
        tutorial: r.default,
        "level-1": i.default,
        "level-2": a.default,
        "level-3": s.default
    };
    t.default = u, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    t.default = function(e) {
        return {
            get name() {
                return this._name || (this._name = e)
            },
            set name(e) {
                this._name = e
            }
        }
    }, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o, r) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var i, a, s = d(n(29)),
            l = d(n(37)),
            u = d(n(4)),
            c = d(n(17)),
            f = d(n(494)),
            p = n(3);

        function d(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function h(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function y(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var v = (0, p.getLogger)("SceneManager", "#8a3ebc", !1),
            _ = (0, p.getLogger)("SceneManager", p.WARN),
            m = o((0, f.default)("SceneManager"))((y((a = function() {
                function e() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    ! function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, e), this._scenesMap = t, this._scenes = [], this._current = null, this._last = null, this._guiFolder = null, this._bind()
                }
                var t, n;
                return t = e, (n = [{
                    key: "create",
                    value: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                            t = this._scenesMap[e],
                            n = this.get(e);
                        if (t && !n) {
                            var o = new t(e);
                            return this._scenes.push(o), u.default.scene.instanced.dispatch(o), o.create().then(function() {
                                return v("Scene '".concat(e, "' created")), u.default.scene.created.dispatch(o), o
                            })
                        }
                        _("Create() : Scene '".concat(e, "' does not exist or is already created"))
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        var e = this,
                            t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : l.default.pageInstance.sceneName,
                            n = this.get(t);
                        return n ? n.destroy().then(function() {
                            return v("Scene '".concat(t, "' destroyed")), u.default.scene.destroyed.dispatch(n), e._current = null, e._last = null, e._scenes.splice(e._scenes.indexOf(n), 1), n
                        }) : (_("Destroy() : Scene '".concat(t, "' does not exist")), (0, s.default)())
                    }
                }, {
                    key: "change",
                    value: function() {
                        var e = this,
                            t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                            n = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                            o = this.get(t) || this.create(t);
                        return (0, s.default)(o).then(function(o) {
                            return e._current && e._current === o ? (_("Change() : Current scene is already '".concat(t, "'")), (0, s.default)()) : (e._last = e._current, e._current = o, e._last ? (e.pause(e._last.name), v("Scene changed from '".concat(e._last.name, "' to '").concat(t, "'"))) : v("Scene changed to '".concat(t, "'")), u.default.scene.changed.dispatch(o, o.camera), e._updateGUI(), n || o.paused ? e.start(e._current.name) : o)
                        })
                    }
                }, {
                    key: "start",
                    value: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : l.default.pageInstance.sceneName,
                            t = this.get(e);
                        return t ? !t.running || t.paused ? (t.running = !0, t.paused = !1, t.start().then(function() {
                            return v("Scene '".concat(e, "' started")), u.default.scene.started.dispatch(t), t
                        })) : (_("Start() : Scene '".concat(e, "' already started")), (0, s.default)()) : (_("Start() : Scene '".concat(e, "' does not exist")), (0, s.default)())
                    }
                }, {
                    key: "pause",
                    value: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : l.default.pageInstance.sceneName,
                            t = this.get(e);
                        return t ? t.paused ? (_("Pause() : Scene '".concat(e, "' already paused")), (0, s.default)()) : (t.paused = !0, t.pause().then(function() {
                            return v("Scene '".concat(e, "' paused")), u.default.scene.paused.dispatch(t), t
                        })) : (_("Pause() : Scene '".concat(e, "' does not exist")), (0, s.default)())
                    }
                }, {
                    key: "update",
                    value: function(e, t) {
                        for (var n = 0, o = this._scenes.length; n < o; n++) {
                            var r = this._scenes[n];
                            !r.paused && r.running && r.update(e, t)
                        }
                    }
                }, {
                    key: "get",
                    value: function() {
                        for (var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", t = 0, n = this._scenes.length; t < n; t++) {
                            var o = this._scenes[t];
                            if (o.name.toLowerCase() === e) return o
                        }
                        return null
                    }
                }, {
                    key: "createGUI",
                    value: function() {
                        var e = [];
                        for (var t in this._scenesMap) e.push(t);
                        this._guiFolder = c.default.addFolder(this.name), this._guiFolder.add(this, "start").name("Start"), this._guiFolder.add(this, "pause").name("Pause"), this._guiFolder.add(this, "destroy").name("Destroy"), this._guiController = this._guiFolder.add({
                            name: ""
                        }, "name").name("Active scene")
                    }
                }, {
                    key: "destroyGUI",
                    value: function() {
                        this._guiFolder && c.default.removeFolder(this._guiFolder)
                    }
                }, {
                    key: "_bind",
                    value: function() {
                        u.default.scene.create.add(this.create), u.default.scene.destroy.add(this.destroy), u.default.scene.change.add(this.change), u.default.scene.start.add(this.start), u.default.scene.pause.add(this.pause)
                    }
                }, {
                    key: "_unbind",
                    value: function() {
                        u.default.scene.create.remove(this.create), u.default.scene.destroy.remove(this.destroy), u.default.scene.change.remove(this.change), u.default.scene.start.remove(this.start), u.default.scene.pause.remove(this.pause)
                    }
                }, {
                    key: "_updateGUI",
                    value: function() {
                        this._guiController.setValue(this._current.name)
                    }
                }, {
                    key: "scene",
                    get: function() {
                        return this._current
                    }
                }]) && h(t.prototype, n), e
            }()).prototype, "create", [r], Object.getOwnPropertyDescriptor(a.prototype, "create"), a.prototype), y(a.prototype, "destroy", [r], Object.getOwnPropertyDescriptor(a.prototype, "destroy"), a.prototype), y(a.prototype, "change", [r], Object.getOwnPropertyDescriptor(a.prototype, "change"), a.prototype), y(a.prototype, "start", [r], Object.getOwnPropertyDescriptor(a.prototype, "start"), a.prototype), y(a.prototype, "pause", [r], Object.getOwnPropertyDescriptor(a.prototype, "pause"), a.prototype), i = a)) || i;
        t.default = m, e.exports = t.default
    }).call(this, n(0).mixin, n(0).bind)
}, function(e) {
    e.exports = [{
        enabled: !0,
        mapSize: 4096,
        radius: 2,
        bias: .008,
        near: 15.199999999999987,
        far: 130,
        width: 50,
        height: 39,
        offset: {
            x: -71.10000000000001,
            y: 66.3,
            z: 52.900000000000006
        }
    }, {
        enabled: !0,
        mapSize: 4096,
        radius: 2,
        bias: .008,
        near: 6.199999999999989,
        far: 150,
        width: 50,
        height: 57,
        offset: {
            x: -184.8,
            y: 98.9,
            z: 60.800000000000004
        }
    }, {
        enabled: !0,
        mapSize: 4096,
        radius: 2,
        bias: .008,
        near: 6.199999999999989,
        far: 180,
        width: 58,
        height: 60,
        offset: {
            x: -281.90000000000003,
            y: 123,
            z: 60.800000000000004
        }
    }]
}, function(e) {
    e.exports = [{
        enabled: !0,
        mapSize: 4096,
        radius: 2,
        bias: .008,
        near: 1,
        far: 105,
        width: 64,
        height: 50,
        offset: {
            x: -17.2,
            y: 39.8,
            z: -70.4
        }
    }, {
        enabled: !0,
        mapSize: 4096,
        radius: 2,
        bias: .008,
        near: 1,
        far: 102,
        width: 85,
        height: 50,
        offset: {
            x: -9,
            y: 56.1,
            z: 42.8
        }
    }, {
        enabled: !0,
        mapSize: 4096,
        radius: 2,
        bias: .008,
        near: 1,
        far: 124,
        width: 49,
        height: 50,
        offset: {
            x: -9.5,
            y: 79.2,
            z: 150.7
        }
    }, {
        enabled: !0,
        mapSize: 4096,
        radius: 2,
        bias: .002,
        near: 1,
        far: 164,
        width: 60,
        height: 86,
        offset: {
            x: -18.8,
            y: 111,
            z: 300.3
        }
    }]
}, function(e) {
    e.exports = [{
        enabled: !0,
        mapSize: 4096,
        radius: 1.6000000000000014,
        bias: .009,
        near: .7000000000000002,
        far: 126,
        width: 54,
        height: 40,
        offset: {
            x: -15.9,
            y: 39.7,
            z: 57.400000000000006
        }
    }, {
        enabled: !0,
        mapSize: 4096,
        radius: 2,
        bias: .016,
        near: 1,
        far: 115,
        width: 55,
        height: 36,
        offset: {
            x: -15.9,
            y: 27.6,
            z: 171.4
        }
    }, {
        enabled: !0,
        mapSize: 4096,
        radius: 2,
        bias: .016,
        near: 1,
        far: 85,
        width: 53,
        height: 34,
        offset: {
            x: -127.30000000000001,
            y: 29,
            z: 165.3
        }
    }, {
        enabled: !0,
        mapSize: 4096,
        radius: 2,
        bias: .004,
        near: 1,
        far: 105,
        width: 53,
        height: 29,
        offset: {
            x: -149.9,
            y: 32.7,
            z: 277.3
        }
    }, {
        enabled: !0,
        mapSize: 4096,
        radius: 2,
        bias: .004,
        near: 1,
        far: 121,
        width: 60,
        height: 29,
        offset: {
            x: -275.90000000000003,
            y: 53.900000000000006,
            z: 281.6
        }
    }, {
        enabled: !0,
        mapSize: 4096,
        radius: 2,
        bias: .013000000000000001,
        near: 18.40000000000001,
        far: 215,
        width: 101,
        height: 77,
        offset: {
            x: -430.6,
            y: 82.9,
            z: 288.8
        }
    }]
}, function(e) {
    e.exports = [{
        enabled: !0,
        mapSize: 4096,
        radius: 2,
        bias: .016,
        near: .7000000000000002,
        far: 116,
        width: 55,
        height: 45,
        offset: {
            x: 24.400000000000002,
            y: 39.300000000000004,
            z: 11.200000000000001
        }
    }, {
        enabled: !0,
        mapSize: 4096,
        radius: 2,
        bias: .016,
        near: 1,
        far: 145,
        width: 65,
        height: 32,
        offset: {
            x: 41.1,
            y: 36.4,
            z: 116.60000000000001
        }
    }]
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = s(n(499)),
        r = s(n(498)),
        i = s(n(497)),
        a = s(n(496));

    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var l = {
        tutorial: o.default,
        "level-1": r.default,
        "level-2": i.default,
        "level-3": a.default
    };
    t.default = l, e.exports = t.default
}, function(e) {
    e.exports = {
        common: {
            background: "#fcd190",
            fog: {
                color: "#fcd190",
                distance: {
                    density: .0162
                },
                height: {
                    density: 1,
                    propagation: 4.5514,
                    offset: .56,
                    noise: {
                        speed: .0017000000000000001,
                        frequency: .171,
                        amplitude: .171,
                        offset: 0
                    }
                }
            },
            shadow: {
                color: "#78c3f9",
                intensity: 1
            },
            noise: {
                scale: 80,
                intensity: .6,
                mask: .6
            },
            ambient: {
                intensity: .5,
                ground: {
                    color: "#497a9e"
                },
                sky: {
                    intensity: .9,
                    color: "#3dbef7",
                    position: {
                        x: 0,
                        y: 1,
                        z: 0
                    }
                },
                sun: {
                    intensity: 1,
                    color: "#4796e0",
                    position: {
                        x: .5,
                        y: .5,
                        z: -.5
                    }
                }
            },
            keyLight: {
                color: "#ffd79c",
                intensity: .23,
                position: {
                    x: -8.8,
                    y: 22.3,
                    z: 18.6
                }
            },
            postProcessing: {
                postPass: {
                    outlineThickness: .09,
                    bloomColor: "#16146d",
                    vignette: 1.1,
                    brightness: 1.016,
                    saturation: 1.04,
                    contrast: 1.029,
                    noise: {
                        amount: .03,
                        speed: 10
                    }
                },
                bloomPass: {
                    resolutionScale: 1,
                    kernelSize: 5,
                    intensity: 1.1,
                    distinction: 1.6,
                    blend: !0,
                    screenMode: !0
                }
            }
        },
        objects: {
            character_body: {
                transparent: !0,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                explode: 0
            },
            character_head: {
                transparent: !0,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                explode: 0
            },
            WayIndicator: {
                transparent: !0,
                opacity: 1
            },
            fall_smoke_sprite: {
                transparent: !0
            },
            instances_arch_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#353535",
                specularShininess: 5,
                normalIntensity: .9,
                normalMap: "level.slab"
            },
            instances_flower_1: {
                transparent: !1,
                opacity: 1,
                color: "#ff6464",
                specularColor: "#565656",
                specularShininess: 9
            },
            instances_flower_2: {
                transparent: !1,
                opacity: 1,
                color: "#509ef9",
                specularColor: "#565656",
                specularShininess: 4
            },
            instances_flower_3: {
                transparent: !1,
                opacity: 1,
                color: "#81ff55",
                specularColor: "#595959",
                specularShininess: 5
            },
            instances_jarre_1: {
                transparent: !1,
                opacity: 1,
                color: "#723d00",
                specularColor: "#d3d3d3",
                specularShininess: 1,
                normalIntensity: .5,
                normalMap: "level.concrete"
            },
            instances_pillar_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#707070",
                specularShininess: 5,
                normalIntensity: .3,
                normalMap: "level.slab"
            },
            instances_rock_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            },
            instances_stair_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: 1.8,
                normalMap: "level.rock_2"
            },
            non_instances_ruins: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#565656",
                specularShininess: 10
            },
            non_instances_ground: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#383838",
                specularShininess: 0,
                normalIntensity: 1.5,
                normalMap: "level.rock_1"
            },
            non_instances_details: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#565656",
                specularShininess: 4
            },
            non_instances_water: {
                transparent: !0,
                opacity: .6,
                color: "#65dfdb",
                specularColor: "#212121",
                specularShininess: 25
            },
            platform_0: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_1: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_2: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_3: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_4: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_5: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_6: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_7: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_8: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_9: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            instances_tiles_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: 3,
                normalMap: "level.rock_2"
            },
            instances_wall_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            },
            power_2_sprite: {
                transparent: !0
            },
            platform_10: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_11: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_12: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_13: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_14: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_15: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            door: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            }
        }
    }
}, function(e) {
    e.exports = {
        common: {
            background: "#65dfdb",
            fog: {
                color: "#65dfdb",
                distance: {
                    density: .008
                },
                height: {
                    density: 0,
                    propagation: 6.4987,
                    offset: .2,
                    noise: {
                        speed: .0009000000000000001,
                        frequency: .14100000000000001,
                        amplitude: .17300000000000001,
                        offset: 2.6
                    }
                }
            },
            shadow: {
                color: "#565656",
                intensity: .36
            },
            noise: {
                scale: 80,
                intensity: .6,
                mask: .6
            },
            ambient: {
                intensity: .62,
                ground: {
                    color: "#42567f"
                },
                sky: {
                    intensity: 1,
                    color: "#ffbb6d",
                    position: {
                        x: 0,
                        y: 1,
                        z: 0
                    }
                },
                sun: {
                    intensity: .8,
                    color: "#ffc36a",
                    position: {
                        x: .5,
                        y: .5,
                        z: -.5
                    }
                }
            },
            keyLight: {
                color: "#d3d3d3",
                intensity: .19,
                position: {
                    x: -8.8,
                    y: 61,
                    z: -44.7
                }
            },
            postProcessing: {
                postPass: {
                    outlineThickness: .09,
                    bloomColor: "#0c0c0c",
                    vignette: 1.1,
                    brightness: .918,
                    saturation: .861,
                    contrast: 1,
                    noise: {
                        amount: .03,
                        speed: 10
                    }
                },
                bloomPass: {
                    resolutionScale: 1,
                    kernelSize: 5,
                    intensity: 1,
                    distinction: 3.02,
                    blend: !0,
                    screenMode: !0
                }
            }
        },
        objects: {
            water: {
                transparent: !0,
                opacity: .96,
                color: "#5bceca",
                specularColor: "#5b5b5b",
                specularShininess: 15,
                normalIntensity: .4,
                normalMap: "level-2.water",
                waterBoost: 1.6,
                waterColorDeep: "#457f7d",
                waterColorFoamLine: "#69f9f4"
            },
            thunder: {
                transparent: !0,
                opacity: 1,
                color1: "#bdf7ff",
                color2: "#7fe8f7",
                progress: 1,
                offsetFloat: -.26,
                explode: 0
            },
            target: {
                transparent: !0,
                opacity: 1,
                progress: 1
            },
            thunder_sprite: {
                transparent: !0
            },
            character_body: {
                transparent: !0,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                explode: 0
            },
            character_head: {
                transparent: !0,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                explode: 0
            },
            WayIndicator: {
                transparent: !0,
                opacity: 1
            },
            fall_smoke_sprite: {
                transparent: !0
            },
            instances_arch_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .8,
                normalMap: "level.concrete_lines"
            },
            instances_flower_1: {
                transparent: !1,
                opacity: 1,
                color: "#f99191",
                specularColor: "#e2bfbf",
                specularShininess: 11
            },
            instances_flower_2: {
                transparent: !1,
                opacity: 1,
                color: "#46d3ba",
                specularColor: "#ffffff",
                specularShininess: 5
            },
            instances_flower_3: {
                transparent: !1,
                opacity: 1,
                color: "#a9cbff",
                specularColor: "#ededed",
                specularShininess: 10
            },
            instances_pillar_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            },
            instances_rocks_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .75,
                normalMap: "level.rock_1"
            },
            instances_rocks_2: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .7,
                normalMap: "level.rock_2"
            },
            instances_rocks_3: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .73,
                normalMap: "level.rock_1"
            },
            instances_rocks_4: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .72,
                normalMap: "level.rock_2"
            },
            instances_rocks_5: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .68,
                normalMap: "level.rock_1"
            },
            instances_roots_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            },
            instances_stairs_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            },
            instances_stairs_2: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            },
            instances_wall_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .55,
                normalMap: "level.concrete_lines"
            },
            instances_wall_2: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .7,
                normalMap: "level.rock_2"
            },
            instances_wall_3: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .58,
                normalMap: "level.concrete_lines"
            },
            non_instances_ruins: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .6,
                normalMap: "level.concrete"
            },
            non_instances_ground: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .5,
                normalMap: "level.rock_1"
            },
            non_instances_details: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            },
            non_instances_bridge: {
                transparent: !1,
                opacity: 1,
                color: "#a58a8a",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .45,
                normalMap: "level.wood"
            },
            platform_0: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_1: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_2: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_3: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_4: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_5: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_6: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_7: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_8: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            },
            platform_9: {
                transparent: !0,
                opacity: 0,
                color: "#c49258",
                specularColor: "#000000",
                specularShininess: 30
            }
        }
    }
}, function(e) {
    e.exports = {
        common: {
            background: "#9dcefc",
            fog: {
                color: "#9dcefc",
                distance: {
                    density: .016300000000000002
                },
                height: {
                    density: 1,
                    propagation: 3.3600000000000003,
                    offset: .56,
                    noise: {
                        speed: .001,
                        frequency: .171,
                        amplitude: .171,
                        offset: 0
                    }
                }
            },
            shadow: {
                color: "#1f2984",
                intensity: .4
            },
            noise: {
                scale: 80,
                intensity: .6,
                mask: .6
            },
            ambient: {
                intensity: .76,
                ground: {
                    color: "#3a3a3a"
                },
                sky: {
                    intensity: .9,
                    color: "#000000",
                    position: {
                        x: 0,
                        y: 1,
                        z: 0
                    }
                },
                sun: {
                    intensity: 1,
                    color: "#000826",
                    position: {
                        x: .5,
                        y: .5,
                        z: -.5
                    }
                }
            },
            keyLight: {
                color: "#001d84",
                intensity: .25,
                position: {
                    x: -9,
                    y: 12.5,
                    z: 19.6
                }
            },
            postProcessing: {
                postPass: {
                    outlineThickness: .03,
                    bloomColor: "#000049",
                    vignette: 1.1,
                    brightness: .919,
                    saturation: .962,
                    contrast: .981,
                    noise: {
                        amount: .036000000000000004,
                        speed: 10
                    }
                },
                bloomPass: {
                    resolutionScale: 1,
                    kernelSize: 5,
                    intensity: .91,
                    distinction: 1.93,
                    blend: !0,
                    screenMode: !0
                }
            }
        },
        objects: {
            character_body: {
                transparent: !0,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                explode: 0
            },
            character_head: {
                transparent: !0,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                explode: 0
            },
            fall_smoke_sprite: {
                transparent: !0
            },
            instances_flower_1: {
                transparent: !1,
                opacity: 1,
                color: "#ba96f4",
                specularColor: "#ffffff",
                specularShininess: 6
            },
            instances_flower_2: {
                transparent: !1,
                opacity: 1,
                color: "#7bffd7",
                specularColor: "#ffffff",
                specularShininess: 5
            },
            instances_flower_3: {
                transparent: !1,
                opacity: 1,
                color: "#97cdff",
                specularColor: "#ffffff",
                specularShininess: 5
            },
            instances_labyrinth_1: {
                transparent: !0,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .7,
                normalMap: "level.slab"
            },
            instances_labyrinth_2: {
                transparent: !0,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .7,
                normalMap: "level.concrete_lines"
            },
            instances_labyrinth_3: {
                transparent: !0,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .7,
                normalMap: "level.slab"
            },
            instances_labyrinth_4: {
                transparent: !0,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .7,
                normalMap: "level.slab"
            },
            instances_labyrinth_5: {
                transparent: !0,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .7,
                normalMap: "level.concrete_lines"
            },
            instances_labyrinth_6: {
                transparent: !0,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .7,
                normalMap: "level.slab"
            },
            instances_pics_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            },
            instances_rock_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            },
            instances_rock_2: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            },
            instances_rock_3: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            },
            instances_rock_4: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            },
            instances_rock_5: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            },
            instances_rock_6: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            },
            instances_stalagtite_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            },
            instances_tree_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            },
            non_instances_floor_sand: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: 1,
                normalMap: "level.sand"
            },
            non_instances_mountain: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: 1,
                normalMap: "level.rock_2"
            },
            non_instances_labyrinth_base: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            },
            non_instances_floor_rock: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .3,
                normalMap: "level.concrete"
            },
            non_instances_environment: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            },
            non_instances_details: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .8,
                normalMap: "level.concrete_lines"
            },
            non_instances_bridge: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .6,
                normalMap: "level.wood"
            },
            props_rock_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: 1,
                normalMap: "level.rock_1"
            },
            props_rock_2: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: 1,
                normalMap: "level.rock_1"
            },
            laser: {
                transparent: !0,
                color1: "#ff000f",
                color2: "#d61e55"
            },
            enemy: {
                transparent: !1,
                opacity: 1,
                color: "#91969c",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .8,
                normalMap: "level-1.enemy"
            },
            WayIndicator: {
                transparent: !0,
                opacity: 1
            },
            fire_sprite: {
                transparent: !0
            }
        }
    }
}, function(e) {
    e.exports = {
        common: {
            background: "#ffd7b3",
            fog: {
                color: "#ffd7b3",
                distance: {
                    density: .0108
                },
                height: {
                    density: .8,
                    propagation: 1.3347,
                    offset: .56,
                    noise: {
                        speed: .0018,
                        frequency: .11,
                        amplitude: .353,
                        offset: .5
                    }
                }
            },
            shadow: {
                color: "#93b2ed",
                intensity: .67
            },
            noise: {
                scale: 80,
                intensity: .6,
                mask: .6
            },
            ambient: {
                intensity: .62,
                ground: {
                    color: "#002051"
                },
                sky: {
                    intensity: .98,
                    color: "#ffa472",
                    position: {
                        x: -.89,
                        y: -.89,
                        z: 0
                    }
                },
                sun: {
                    intensity: 1,
                    color: "#ffeba7",
                    position: {
                        x: .5,
                        y: .5,
                        z: -.5
                    }
                }
            },
            keyLight: {
                color: "#fcdcc5",
                intensity: .44,
                position: {
                    x: 11.9,
                    y: 12.8,
                    z: 26.7
                }
            },
            postProcessing: {
                postPass: {
                    outlineThickness: .08,
                    bloomColor: "#110800",
                    vignette: .8,
                    brightness: 1.01,
                    saturation: .861,
                    contrast: 1,
                    noise: {
                        amount: .03,
                        speed: 10
                    }
                },
                bloomPass: {
                    resolutionScale: 1,
                    kernelSize: 5,
                    intensity: 1.12,
                    distinction: 3.02,
                    blend: !0,
                    screenMode: !0
                }
            }
        },
        objects: {
            character_body: {
                transparent: !0,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                explode: 0
            },
            character_head: {
                transparent: !0,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                explode: 0
            },
            fall_smoke_sprite: {
                transparent: !0
            },
            instances_flower_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#ffffff",
                specularShininess: 5
            },
            instances_flower_2: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#ffffff",
                specularShininess: 6
            },
            instances_flower_3: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#ffffff",
                specularShininess: 5
            },
            instances_flower_4: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#565656",
                specularShininess: 4
            },
            instances_flower_5: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#ffffff",
                specularShininess: 5
            },
            instances_flower_6: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#ffffff",
                specularShininess: 7
            },
            instances_flower_7: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#ffffff",
                specularShininess: 8
            },
            instances_jar_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            },
            instances_pillar_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: -69
            },
            instances_rock_1: {
                transparent: !1,
                opacity: 1,
                color: "#d8d8d8",
                specularColor: "#723700",
                specularShininess: 0,
                normalIntensity: .81,
                normalMap: "level.rock_2"
            },
            instances_rock_2: {
                transparent: !1,
                opacity: 1,
                color: "#e8e8e8",
                specularColor: "#421f00",
                specularShininess: -29,
                normalIntensity: .85,
                normalMap: "level.rock_2"
            },
            instances_rock_3: {
                transparent: !1,
                opacity: 1,
                color: "#9b9999",
                specularColor: "#ffca8d",
                specularShininess: -30,
                normalIntensity: .76,
                normalMap: "level.rock_2"
            },
            instances_rock_4: {
                transparent: !1,
                opacity: 1,
                color: "#f7f7f7",
                specularColor: "#211601",
                specularShininess: -30,
                normalIntensity: .73,
                normalMap: "level.rock_2"
            },
            instances_rock_5: {
                transparent: !1,
                opacity: 1,
                color: "#f9f9f9",
                specularColor: "#1c1200",
                specularShininess: -42,
                normalIntensity: .5,
                normalMap: "level.rock_2"
            },
            instances_rock_6: {
                transparent: !1,
                opacity: 1,
                color: "#7a7971",
                specularColor: "#9fbfff",
                specularShininess: -28,
                normalIntensity: .5,
                normalMap: "level.rock_2"
            },
            instances_wall_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            },
            non_instances_water: {
                transparent: !0,
                opacity: .8,
                color: "#65dfdb",
                specularColor: "#212121",
                specularShininess: 25
            },
            non_instances_walls: {
                transparent: !1,
                opacity: 1,
                color: "#ffcea1",
                specularColor: "#002c9e",
                specularShininess: -85,
                normalIntensity: .4,
                normalMap: "level.rock_1"
            },
            non_instances_ruins_pillars: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .45,
                normalMap: "level.concrete_lines"
            },
            non_instances_ground_temple: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30,
                normalIntensity: .4,
                normalMap: "level.slab"
            },
            non_instances_ground_sand: {
                transparent: !1,
                opacity: 1,
                color: "#f7d9d5",
                specularColor: "#2d1e00",
                specularShininess: -21,
                normalIntensity: .83,
                normalMap: "level.sand"
            },
            non_instances_fragments: {
                transparent: !1,
                opacity: 1,
                color: "#e2ad7b",
                specularColor: "#0e3bad",
                specularShininess: -24,
                normalIntensity: .61,
                normalMap: "level.rock_1"
            },
            non_instances_details: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: -71,
                normalIntensity: .5,
                normalMap: "level.concrete"
            },
            props_rock_1: {
                transparent: !1,
                opacity: 1,
                color: "#ffffff",
                specularColor: "#000000",
                specularShininess: 30
            },
            WayIndicator: {
                transparent: !0,
                opacity: 1
            },
            portal: {
                transparent: !0,
                opacity: .85,
                color1: "#8feaff",
                color2: "#9cedff"
            }
        }
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e, t, n, i, a) {
        switch (a) {
            case "intensity":
                return e.add(t, i, 0, 50, .01).name((0, r.default)(a));
            case "opacity":
                return e.add(t, i, 0, 1, .01).name((0, r.default)(a));
            case "bias":
                return e.add(t, i, 0, .1, .001).name((0, r.default)(a));
            case "progress":
                return e.add(t, i, 0, 1, .01).name((0, r.default)(a));
            case "offsetFloat":
                return e.add(t, i, -1, 1, .01).name((0, r.default)(a));
            case "explode":
                return e.add(t, i, 0, 1, .01).name((0, r.default)(a));
            default:
                return (0, o.default)(e, t, n, i, a)
        }
    };
    var o = i(n(120)),
        r = i(n(22));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e, t, n, i, a) {
        return "#" === n.charAt(0) ? e.addColor(t, i).name((0, r.default)(a)) : (0, o.default)(e, t, n, i, a)
    };
    var o = i(n(120)),
        r = i(n(22));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e, t, n, o, i) {
        var a = e.addFolder((0, r.default)(i));
        return a.add(t[o], "x").name("X").step(.1), a.add(t[o], "y").name("Y").step(.1), a.add(t[o], "z").name("Z").step(.1), a.add(t[o], "w").name("W").step(.1), a
    };
    var o, r = (o = n(22)) && o.__esModule ? o : {
        default: o
    };
    e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e, t, n, i, a) {
        var s = new r.default,
            l = e.addFolder((0, o.default)(a)),
            u = l.add(t[i], "x").name("X").step(.1).onChange(function(e) {
                return s.dispatch(e)
            }),
            c = l.add(t[i], "y").name("Y").step(.1).onChange(function(e) {
                return s.dispatch(e)
            }),
            f = l.add(t[i], "z").name("Z").step(.1).onChange(function(e) {
                return s.dispatch(e)
            });
        switch (i) {
            case "position":
                u.min(-3e3).max(3e3), c.min(-3e3).max(3e3), f.min(-3e3).max(3e3)
        }
        return s
    };
    var o = i(n(22)),
        r = i(n(15));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e, t, n, o, i) {
        var a;
        switch (i) {
            case "uRadialBlur":
                (a = e.addFolder((0, r.default)(i))).add(t[o], "x", 0, 1, .01).name("X").step(.1), a.add(t[o], "y", 0, 5, .01).name("Y").step(.1);
                break;
            default:
                (a = e.addFolder((0, r.default)(i))).add(t[o], "x").name("X").step(.1), a.add(t[o], "y").name("Y").step(.1)
        }
        return a
    };
    var o, r = (o = n(22)) && o.__esModule ? o : {
        default: o
    };
    e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e, t, n, o, i) {
        return e.addColor(t, o).name((0, r.default)(i))
    };
    var o, r = (o = n(22)) && o.__esModule ? o : {
        default: o
    };
    e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), Object.defineProperty(t, "parseColor", {
        enumerable: !0,
        get: function() {
            return o.default
        }
    }), Object.defineProperty(t, "parseVector2", {
        enumerable: !0,
        get: function() {
            return r.default
        }
    }), Object.defineProperty(t, "parseVector3", {
        enumerable: !0,
        get: function() {
            return i.default
        }
    }), Object.defineProperty(t, "parseVector4", {
        enumerable: !0,
        get: function() {
            return a.default
        }
    }), Object.defineProperty(t, "parseString", {
        enumerable: !0,
        get: function() {
            return s.default
        }
    }), Object.defineProperty(t, "parseNumber", {
        enumerable: !0,
        get: function() {
            return l.default
        }
    }), Object.defineProperty(t, "parseDefault", {
        enumerable: !0,
        get: function() {
            return u.default
        }
    }), t.parseBoolean = void 0;
    var o = c(n(510)),
        r = c(n(509)),
        i = c(n(508)),
        a = c(n(507)),
        s = c(n(506)),
        l = c(n(505)),
        u = c(n(120));

    function c(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var f = u.default;
    t.parseBoolean = f
}, function(e, t, n) {
    "use strict";

    function o(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var r = function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this.objects = [], this.type = Object, this.instanceNb = 0
        }
        var t, n;
        return t = e, (n = [{
            key: "release",
            value: function() {
                for (var e = arguments.length, t = 0; t !== e; t++) this.objects.push(arguments[t]);
                return this
            }
        }, {
            key: "get",
            value: function() {
                return 0 === this.objects.length ? (this.instanceNb++, this.instanceNb >= 50 && console.warn("Pool limit of ".concat(50, " reached.")), this.constructObject()) : this.objects.pop()
            }
        }, {
            key: "constructObject",
            value: function() {
                throw new Error("constructObject() not implemented in this Pool subclass yet!")
            }
        }, {
            key: "resize",
            value: function(e) {
                for (var t = this.objects; t.length > e;) t.pop();
                for (; t.length < e;) t.push(this.constructObject());
                return this
            }
        }]) && o(t.prototype, n), e
    }();
    t.default = r, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(67)) && o.__esModule ? o : {
        default: o
    };

    function i(e) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function a(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var s = function(e) {
        function t(e, n) {
            var o;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (o = function(e, t) {
                if (t && ("object" === i(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, n, null))).name = "MaskPass", o.inverse = !1, o.clearStencil = !0, o
        }
        var n, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, r.default), n = t, (o = [{
            key: "render",
            value: function(e, t, n) {
                var o = e.context,
                    r = e.state,
                    i = this.scene,
                    a = this.camera,
                    s = this.inverse ? 0 : 1,
                    l = 1 - s;
                r.buffers.color.setMask(!1), r.buffers.depth.setMask(!1), r.buffers.color.setLocked(!0), r.buffers.depth.setLocked(!0), r.buffers.stencil.setTest(!0), r.buffers.stencil.setOp(o.REPLACE, o.REPLACE, o.REPLACE), r.buffers.stencil.setFunc(o.ALWAYS, s, 4294967295), r.buffers.stencil.setClear(l), this.clearStencil && (e.setRenderTarget(t), e.clearStencil(), e.setRenderTarget(n), e.clearStencil()), e.render(i, a, t), e.render(i, a, n), r.buffers.color.setLocked(!1), r.buffers.depth.setLocked(!1), r.buffers.stencil.setFunc(o.EQUAL, 1, 4294967295), r.buffers.stencil.setOp(o.KEEP, o.KEEP, o.KEEP)
            }
        }]) && a(n.prototype, o), t
    }();
    t.default = s, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(67)) && o.__esModule ? o : {
        default: o
    };

    function i(e) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function a(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var s = function(e) {
        function t() {
            var e;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (e = function(e, t) {
                if (t && ("object" === i(t) || "function" == typeof t)) return t;
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e
            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, null, null, null))).name = "ClearMaskPass", e
        }
        var n, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
        }(t, r.default), n = t, (o = [{
            key: "render",
            value: function(e) {
                e.state.buffers.stencil.setTest(!1)
            }
        }]) && a(n.prototype, o), t
    }();
    t.default = s, e.exports = t.default
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\nuniform sampler2D tInput;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vec4 color = texture2D(tInput, vUv);\n  gl_FragColor = color;\n}\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\nvoid main() {\n  gl_FragColor = vec4(1.0);\n}\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#ifdef IS_ENEMY\n  float mixVariation = \n      sin(uTime * .01 + .3245) + \n      sin(uTime * .01 + 2.7 * 3.32) + \n      cos(uTime * .01 + 1.2 * 5.321);\n\n  mixVariation = mixVariation / 3.; // average\n  mixVariation = (mixVariation + 1.) / 2.; // normalise\n  \n  diffuseColor = mix(vec4(uDiffuseColor, 1.0), texture2D(uDiffuseMap, uv), uProgress * .6 + mixVariation * .3 + .4);\n#endif\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#ifdef IS_ENEMY\n  uniform float uProgress;\n#endif\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#ifdef IS_WATER\n  vec2 screenUv = gl_FragCoord.xy / uResolution;\n  float near = uZDepth.x;\n  float far = uZDepth.y;\n\n  vec2 noiseDepth = vec2(0.0);\n\n  noiseDepth.x += sin(vWorldPosition.x + uTime * .0008);\n  noiseDepth.x += sin(vWorldPosition.x + uTime * .003 + 4.6);\n  noiseDepth.x += cos(vWorldPosition.x + uTime * .005 + 2.7);\n  noiseDepth.x /= 3.0;\n    \n  noiseDepth.y += cos(vWorldPosition.z + uTime * .004);\n  noiseDepth.y += sin(vWorldPosition.z + uTime * .002 + 6.6);\n  noiseDepth.y += cos(vWorldPosition.z + uTime * .0004 + 3.2);\n  noiseDepth.y /= 3.0;\n\n  vec4 depthSceneNoisedTex = texture2D(tDepth, screenUv + noiseDepth * 0.0035);\n  vec4 depthSceneTex = texture2D(tDepth, screenUv);\n\n  float sceneDepthNoised = unpackRGBAToDepth(depthSceneNoisedTex);\n  float sceneDepth = unpackRGBAToDepth(depthSceneTex);\n  float waterDepth = gl_FragCoord.z;\n\n  float depthNoisedLinearScene = unpackDepth(sceneDepthNoised, near, far);\n  float depthLinearScene = unpackDepth(sceneDepth, near, far);\n  float depthLinearWater = unpackDepth(waterDepth, near, far);\n\n  float waterDeep = smoothstep(0.00001, 0.00016, abs(depthLinearScene - depthLinearWater));\n  waterDeep = 1.0 - min(1.0, waterDeep);\n\n  float waterFoamLine = smoothstep(0.00001, 0.000015, abs(depthNoisedLinearScene - depthLinearWater));\n  waterFoamLine = 1.0 - min(1.0, waterFoamLine);\n\n  vec3 color = diffuseColor.rgb * uWaterBoost;\n  color = mix(color, uWaterColorDeep, waterDeep);\n  color = mix(color, uWaterColorFoamLine, waterFoamLine);\n\n  diffuseColor.rgb = color;\n\n  vec2 dist = (vUv - 10.0) * 0.1;\n  float radius = 0.92;\n\n  diffuseColor.a = 1.0 - smoothstep(radius - (radius * 0.1), radius + (radius * 0.1), dot(dist, dist));\n  diffuseColor.a *= opacity;\n#endif\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#ifdef IS_WATER\n  vec2 noiseNorm = vec2(0.0);\n\n  noiseNorm.x += (cos(uv.x * 0.05 + uTime * 0.001) * 0.5 + 0.5) * 0.8;\n  noiseNorm.x += (sin(uv.x * 0.1 + uTime * 0.0012 + 5.1) * 0.5 + 0.5) * 0.8;\n  noiseNorm.x += (cos(uv.x * 0.3 + uTime * 0.001 + 4.8) * 0.5 + 0.5) * 1.0;\n  noiseNorm.x /= 3.0;\n      \n  noiseNorm.y += (cos(uv.y * 0.07 + uTime * 0.0008) * 0.5 + 0.5) * 0.7;\n  noiseNorm.y += (sin(uv.y * 0.15 + uTime * 0.0012 + 4.4) * 0.5 + 0.5) * 0.8;\n  noiseNorm.y += (sin(uv.y * 0.35 + uTime * 0.0013 + 2.7) * 0.5 + 0.5) * 0.9;\n  noiseNorm.y /= 3.0;\n\n  uv += noiseNorm * 0.3 + uTime * 0.0001;\n#endif\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#ifdef IS_WATER\n  uniform sampler2D tDepth;\n  uniform vec2 uResolution;\n  uniform vec2 uZDepth;\n  \n  uniform float uWaterBoost;\n  uniform vec3 uWaterColorDeep;\n  uniform vec3 uWaterColorFoamLine;\n\n  const float PackUpscale = 256. / 255.; // fraction -> 0..1 (including 1)\n  const float UnpackDownscale = 255. / 256.; // 0..1 -> fraction (excluding 1)\n\n  const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\n  const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\n\n  const float ShiftRight8 = 1. / 256.;\n\n  float viewZToOrthographicDepth(const in float viewZ, const in float near, const in float far) {\n    return (viewZ + near) / (near - far);\n  }\n\n  float perspectiveDepthToViewZ(const in float invClipZ, const in float near, const in float far) {\n    return (near * far) / ((far - near) * invClipZ - far);\n  }\n\n  float unpackDepth(float fragCoordZ, float near, float far) {\n    float viewZ = perspectiveDepthToViewZ(fragCoordZ, near, far);\n    return viewZToOrthographicDepth(viewZ, near, far);\n  }\n\n  float unpackRGBAToDepth(const in vec4 v) {\n    return dot(v, UnpackFactors);\n  }\n#endif\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#ifdef IS_WATER\n  vec2 noisePos = vec2(0.0);\n\n  noisePos.x += cos(transformed.x * 0.05 + uTime * 0.001) * 0.8;\n  noisePos.x += sin(transformed.x * 0.1 + uTime * 0.0012 + 5.1) * 0.8;\n  noisePos.x += cos(transformed.x * 0.3 + uTime * 0.001 + 4.8) * 1.0;\n  noisePos.x /= 3.0;\n      \n  noisePos.y += cos(transformed.y * 0.07 + uTime * 0.0008) * 0.7;\n  noisePos.y += sin(transformed.y * 0.15 + uTime * 0.0012 + 4.4) * 0.8;\n  noisePos.y += sin(transformed.y * 0.35 + uTime * 0.0013 + 2.7) * 0.9;\n  noisePos.y /= 3.0;\n    \n  transformed += normal * (noisePos.x + noisePos.y) * 1.1;\n#endif\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#ifdef USE_SKINNING\n\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\n#endif\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#ifdef USE_SKINNING\n\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n\n#endif\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#ifdef USE_SKINNING\n\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#ifdef USE_SKINNING\n\n\tattribute vec4 skinIndex;\n\tattribute vec4 skinWeight;\n\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform mat4 boneMatrices[MAX_BONES];\n\n\tmat4 getBoneMatrix(const in float i) {\n\t\tmat4 bone = boneMatrices[int(i)];\n\t\treturn bone;\n\t}\n\n#endif\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#ifdef USE_SHADOW_MAP\n\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[NUM_DIR_LIGHTS];\n\t\tvarying vec4 vDirectionalShadowCoord[NUM_DIR_LIGHTS];\n\t#endif\n\n\tconst float UnpackDownscale = 255. / 256.; // 0..1 -> fraction (excluding 1)\n\n\tconst vec3 PackFactors = vec3(256. * 256. * 256., 256. * 256.,  256.);\n\tconst vec4 UnpackFactors = UnpackDownscale / vec4(PackFactors, 1.);\n\n\tconst float ShiftRight8 = 1. / 256.;\n\n\tfloat unpackRGBAToDepth(const in vec4 v) {\n\t\treturn dot(v, UnpackFactors);\n\t}\n\n\tfloat texture2DCompare(sampler2D depths, vec2 uv, float compare) {\n\t\treturn step(compare, unpackRGBAToDepth(texture2D(depths, uv)));\n\t}\n\n\tfloat getShadow(sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord) {\n\t\tfloat shadow = 1.0;\n\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\n\t\t#ifdef IS_CHARACTER\n\t\t\tshadowCoord.z -= 0.03;\n\t\t#else\n\t\t\tshadowCoord.z += shadowBias;\n\t\t#endif\n\n\t\tbvec4 inFrustumVec = bvec4 (shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0);\n\t\tbool inFrustum = all(inFrustumVec);\n\n\t\tbvec2 frustumTestVec = bvec2(inFrustum, shadowCoord.z <= 1.0);\n\n\t\tbool frustumTest = all(frustumTestVec);\n\n\t\tif (frustumTest) {\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t}\n\n\t\treturn shadow;\n\t}\n\n#endif\n\nfloat getShadowMask() {\n  float shadow = 1.0;\n\n  #ifdef USE_SHADOW_MAP\n\n    #if NUM_DIR_LIGHTS > 0\n\n\t\t\tDirectionalLight directionalLight;\n\n\t\t\t#pragma unroll_loop\n\t\t\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\t\t\tdirectionalLight = directionalLights[ i ];\n\t\t\t\tshadow *= bool( directionalLight.shadow )\n\t\t\t\t\t? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] )\n\t\t\t\t\t: 1.0;\n\t\t\t}\n\n    #endif\n\n  #endif\n\n  return shadow;\n}\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#ifdef USE_SHADOW_MAP\n\t#if NUM_DIR_LIGHTS > 0\n    #pragma unroll_loop\n    for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n      vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n    }\n\t#endif\n#endif\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#ifdef USE_SHADOW_MAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[NUM_DIR_LIGHTS];\n\t\tvarying vec4 vDirectionalShadowCoord[NUM_DIR_LIGHTS];\n\t#endif\n#endif\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\n\tuniform DirectionalLight directionalLights[NUM_DIR_LIGHTS];\n#endif\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\nfloat blendAdd_1_0(float base, float blend) {\n\treturn min(base+blend,1.0);\n}\n\nvec3 blendAdd_1_0(vec3 base, vec3 blend) {\n\treturn min(base+blend,vec3(1.0));\n}\n\nvec3 blendAdd_1_0(vec3 base, vec3 blend, float opacity) {\n\treturn (blendAdd_1_0(base, blend) * opacity + base * (1.0 - opacity));\n}\n\n\n\nfloat mod289_2_1(float x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\nvec4 mod289_2_1(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\nvec4 perm_2_2(vec4 x) { return mod289_2_1(((x * 34.0) + 1.0) * x); }\n\nfloat noise3d_2_3(vec3 p) {\n    vec3 a = floor(p);\n    vec3 d = p - a;\n    d = d * d * (3.0 - 2.0 * d);\n\n    vec4 b = a.xxyy + vec4(0.0, 1.0, 0.0, 1.0);\n    vec4 k1 = perm_2_2(b.xyxy);\n    vec4 k2 = perm_2_2(k1.xyxy + b.zzww);\n\n    vec4 c = k2 + a.zzzz;\n    vec4 k3 = perm_2_2(c);\n    vec4 k4 = perm_2_2(c + 1.0);\n\n    vec4 o1 = fract(k3 * (1.0 / 41.0));\n    vec4 o2 = fract(k4 * (1.0 / 41.0));\n\n    vec4 o3 = o2 * d.z + o1 * (1.0 - d.z);\n    vec2 o4 = o3.yw * d.x + o3.xz * (1.0 - d.x);\n\n    return o4.y * d.y + o4.x * (1.0 - d.y);\n}\n\n\n\n\n@import directionalPars\n\nvec3 getAmbientIrradiance(vec3 normal, vec3 lightDirection, vec3 ground, vec3 sky) {\n  float dotNL = max(0.0, dot(normal, lightDirection));\n  return mix(ground, sky, dotNL);\n}\n\nvec3 getGradientIrradiance(vec3 normal, vec3 lightDirection) {\n  float dotNL = dot(normal, lightDirection);\n  vec2 coord = vec2(dotNL * 0.5 + 0.5, 0.0);\n\n  vec3 irradiance = vec3(1.0);\n\n  #ifdef USE_GRADIENT_MAP\n    irradiance = texture2D(uGradientMap, coord).rgb;\n  #else\n    irradiance = (coord.x < 0.7) ? vec3(0.7) : vec3(1.0);\n  #endif\n\n  float noise = noise3d_2_3(vWorldPosition.xyz * uNoise.x) * uNoise.y;\n  float noiseMask = dotNL * uNoise.z;\n\n  return blendAdd_1_0(irradiance, vec3(noise) * noiseMask, noise);\n}\n\nvec3 getSpecularToon(const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess) {\n\tvec3 halfDir = normalize(incidentLight.direction + geometry.viewDir);\n  float dotNH = dot(geometry.normal, halfDir);\n\n  float specular = max(0.0, pow(abs(dotNH), shininess));\n  specular = step(0.5, specular);\n\n  return specular * specularColor * incidentLight.color;\n}\n\nvoid directDiffuseToon(const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight) {\n  vec3 irradiance = getGradientIrradiance(geometry.normalNP, directLight.direction) * directLight.color;\n\n\treflectedLight.directDiffuse += irradiance * material.diffuseColor;\n\treflectedLight.directSpecular += getSpecularToon(directLight, geometry, material.specularColor, material.specularShininess);\n}\n\nvoid indirectDiffuseToon(const in GeometricContext geometry, const in ToonMaterial material, const in AmbientIrradiance ambient, inout ReflectedLight reflectedLight) {\n\tvec3 irradiance = vec3(0.0);\n  irradiance += getAmbientIrradiance(geometry.normal, ambient.skyPosition, ambient.groundColor, ambient.skyColor) * ambient.skyIntensity;\n  irradiance += getAmbientIrradiance(geometry.normal, ambient.sunPosition, ambient.groundColor, ambient.sunColor) * ambient.sunIntensity;\n  irradiance = min(vec3(1.0), irradiance * ambient.intensity);\n  \n  reflectedLight.indirectDiffuse += irradiance * material.diffuseColor;\n}\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#ifdef USE_NORMAL_MAP\n  normal = perturbNormal2Arb(-vViewPosition, normal, uv);\n#endif\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#ifdef USE_NORMAL_MAP\n\tuniform sampler2D uNormalMap;\n\tuniform float uNormalIntensity;\n\n\tvec3 perturbNormal2Arb(vec3 eye_pos, vec3 surf_norm, vec2 coords) {\n\t\tvec3 q0 = vec3(dFdx(eye_pos.x), dFdx(eye_pos.y), dFdx(eye_pos.z));\n\t\tvec3 q1 = vec3(dFdy(eye_pos.x), dFdy(eye_pos.y), dFdy(eye_pos.z));\n\t\tvec2 st0 = dFdx(vUv.st);\n\t\tvec2 st1 = dFdy(vUv.st);\n\n\t\tfloat scale = sign(st1.t * st0.s - st0.t * st1.s);\n\n\t\tvec3 S = normalize((q0 * st1.t - q1 * st0.t) * scale);\n\t\tvec3 T = normalize((- q0 * st1.s + q1 * st0.s) * scale);\n\t\tvec3 N = normalize(surf_norm);\n\t\tmat3 tsn = mat3(S, T, N);\n\n\t\tvec3 mapN = texture2D(uNormalMap, coords).xyz * 2.0 - 1.0;\n\n\t\tmapN.xy *= vec2(uNormalIntensity);\n\t\tmapN.xy *= (float(gl_FrontFacing) * 2.0 - 1.0);\n\n\t\treturn normalize(tsn * mapN);\n\t}\n#endif\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#ifdef USE_FOG\n  // --- Fog distance\n  float fogExp2Factor = 1.0 - max(0.0, exp2(-uFogDistanceDensity * uFogDistanceDensity * vFogDepth * vFogDepth * LOG2));\n  gl_FragColor.rgb = mix(gl_FragColor.rgb, uFogColor, fogExp2Factor);\n\n  // --- Fog height\n  float time = uTime * uFogHeightNoise.x;\n  float frequency = uFogHeightNoise.y;\n  float amplitude = uFogHeightNoise.z;\n  float offset = uFogHeightNoise.w;\n\n  float worldPos = vWorldPosition.y;\n  worldPos += (cos(vWorldPosition.x * frequency + time) + sin(vWorldPosition.z * frequency + offset + time)) / 2.0;\n  worldPos *= amplitude;\n  \n  float fogHeightFactor = max(0.0, worldPos * uFogHeightPropagation + uFogHeightOffset);\n  fogHeightFactor = exp2(-fogHeightFactor * fogHeightFactor);\n  gl_FragColor.rgb = mix(gl_FragColor.rgb, uFogColor, fogHeightFactor * uFogHeightDensity);\n#endif\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#ifdef USE_FOG\n\tuniform vec3 uFogColor;\n\tuniform float uFogDistanceDensity;\n\tuniform float uFogHeightDensity;\n\tuniform float uFogHeightPropagation;\n\tuniform float uFogHeightOffset;\n\tuniform vec4 uFogHeightNoise; // speed - frequency - amplitude - offset\n\tuniform float uTime;\n\n  varying float vFogDepth;\n\tvarying vec4 vWorldPosition;\n#endif\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#ifdef USE_FOG\n  vFogDepth = -mvPosition.z;\n  vWorldPosition = worldPosition;\n#endif\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#ifdef USE_FOG\n  varying float vFogDepth;\n  varying vec4 vWorldPosition;\n#endif\n"
}, function(e, t) {
    e.exports = "#define GLSLIFY 1\n#define PI 3.14159265359\n#define RECIPROCAL_PI 0.31830988618\n#define LOG2 1.442695\n\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\n\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n  vec3 emissive;\n};\n\nstruct ToonMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n};\n\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 normalNP;\n\tvec3 viewDir;\n};\n\nstruct AmbientIrradiance {\n  float intensity;\n  float skyIntensity;\n  float sunIntensity;\n  vec3 groundColor;\n  vec3 skyColor;\n  vec3 sunColor;\n  vec3 skyPosition;\n  vec3 sunPosition;\n};\n"
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = E(n(538)),
        r = E(n(537)),
        i = E(n(536)),
        a = E(n(535)),
        s = E(n(534)),
        l = E(n(533)),
        u = E(n(532)),
        c = E(n(531)),
        f = E(n(530)),
        p = E(n(529)),
        d = E(n(528)),
        h = E(n(527)),
        y = E(n(526)),
        v = E(n(525)),
        _ = E(n(524)),
        m = E(n(523)),
        g = E(n(522)),
        b = E(n(521)),
        w = E(n(520)),
        x = E(n(519)),
        k = E(n(518)),
        O = E(n(517));

    function E(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var P = {
        common: o.default,
        fogVertPars: r.default,
        fogVert: i.default,
        fogFragPars: a.default,
        fogFrag: s.default,
        normalPars: l.default,
        normal: u.default,
        lightsPars: c.default,
        directionalPars: f.default,
        shadowmapVertPars: p.default,
        shadowmapVert: d.default,
        shadowmapFragPars: h.default,
        skinningVertPars: y.default,
        skinningVertBase: v.default,
        skinningVert: _.default,
        skinningVertNormal: m.default,
        waterVert: g.default,
        waterFragPars: b.default,
        waterFragNormal: w.default,
        waterFragColor: x.default,
        enemyFragPars: k.default,
        enemyFrag: O.default
    };
    t.default = P, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = i(n(11)),
        r = i(n(539));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function a(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var s = function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e)
        }
        var t, n;
        return t = e, (n = [{
            key: "parse",
            value: function(e, t, n, r) {
                r = r || o.default.renderer.capabilities.precision;
                var i = this._getExtensions(n, t),
                    a = this._parseChunks(e);
                return "\n      ".concat(i.join(" "), "\n      ").concat(this._getPrecison(r), "\n      ").concat(a, "\n    ")
            }
        }, {
            key: "_getExtensions",
            value: function(e, t) {
                var n = [];
                for (var o in e)
                    if (e[o]) {
                        var r = l[o];
                        if (r.type === t) {
                            var i = "#extension ".concat(r.name, " : require");
                            n.push(i)
                        }
                    }
                return n
            }
        }, {
            key: "_getPrecison",
            value: function(e) {
                return "\n      precision ".concat(e, " float;\n      precision ").concat(e, " int;\n    ")
            }
        }, {
            key: "_parseChunks",
            value: function(t) {
                for (var n = e.CHUNK_REGEX, o = t, i = null; null !== (i = n.exec(o));)
                    if (i.index === n.lastIndex && n.lastIndex++, "/" !== i.input[i.index - 2]) {
                        var a = i[0],
                            s = i[1],
                            l = this._parseChunks(r.default[s]);
                        if (void 0 === l) throw new Error("[ShaderParser] Shader chunk '".concat(s, "' not found!"));
                        o = o.replace(a, l)
                    }
                return o
            }
        }]) && a(t.prototype, n), e
    }();
    s.VERTEX_SHADER = 0, s.FRAGMENT_SHADER = 1, s.CHUNK_REGEX = /@import\s(.*[a-z])/gi;
    var l = {
            drawBuffers: {
                name: "GL_EXT_draw_buffers",
                type: s.FRAGMENT_SHADER
            },
            derivatives: {
                name: "GL_OES_standard_derivatives",
                type: s.FRAGMENT_SHADER
            }
        },
        u = new s;
    t.default = u, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = i(n(19)),
        r = i(n(36));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function a(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var s = (0, n(3).getLogger)("PerformanceTest", "#55E6C1", !0),
        l = function() {
            function e() {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this.context = r.default.supports.webglContext, this.context && (this.devicePixelRatio = o.default.pixelRatio, this.debugRendererInfo = this.context.getExtension("WEBGL_debug_renderer_info"), this.unmaskedRenderer = this.debugRendererInfo ? this.context.getParameter(this.debugRendererInfo.UNMASKED_RENDERER_WEBGL) : "", this.gpu = this.getGPU(), this.version = this.getOptimalVersionName(), s("version: ".concat(this.version), this.gpu))
            }
            var t, n;
            return t = e, (n = [{
                key: "getOptimalVersionName",
                value: function() {
                    if (!this.gpu) return "low";
                    switch (this.gpu.type) {
                        case "NVIDIA":
                        case "AMD":
                            return "high";
                        case "Intel":
                            return this.gpu.series >= 7e3 || this.gpu.model.indexOf("Pro") > -1 ? "medium" : this.gpu.series < 1e3 ? "medium" : "low";
                        default:
                            return "low"
                    }
                }
            }, {
                key: "getGPU",
                value: function() {
                    for (var e = ["Intel", "NVIDIA", "AMD", "Adreno", "Apple"], t = 0; t < e.length; t++) {
                        var n = e[t];
                        if (this.unmaskedRenderer.indexOf(n) > -1) {
                            var o = {
                                type: n,
                                model: null,
                                series: null,
                                generation: null,
                                tier: null,
                                revision: null
                            };
                            o.model = this.unmaskedRenderer.replace(/NVIDIA GeForce |AMD Radeon |Apple | OpenGL Engine/g, "");
                            var r = o.model.split(" ");
                            return o.series = o.type.match(/NVIDIA|AMD/g) ? r[r.length - 1] : o.model, o.series = o.series.replace(/\D/g, ""), o.prefix = r.length > 1 ? r[0] : null, o.generation = o.series.substring(0, o.series.length - 2), o.tier = o.series.slice(-2, -1), o.revision = o.series.slice(-1), "Apple" === o.type && (o.generation = o.series, o.tier = null, o.revision = null), o
                        }
                    }
                    return null
                }
            }]) && a(t.prototype, n), e
        }();
    t.default = l, e.exports = t.default
}, function(e, t, n) {
    "use strict";

    function o(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var r = function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._webglContext = this._getWebglContext()
        }
        var t, n;
        return t = e, (n = [{
            key: "_getWebglContext",
            value: function() {
                return document.createElement("canvas").getContext("webgl") || document.createElement("canvas").getContext("experimental-webgl")
            }
        }, {
            key: "_webglSupported",
            value: function() {
                return !!this._webglContext
            }
        }, {
            key: "_getWebglExtension",
            value: function(e, t) {
                var n = ["", "WEBKIT_", "MOZ_"],
                    o = null;
                for (var r in n)
                    if (o = e.getExtension(n[r] + t)) break;
                return o
            }
        }, {
            key: "_webglExtensions",
            value: function() {
                var e = this._webglContext;
                return e ? {
                    dxt: this._getWebglExtension(e, "WEBGL_compressed_texture_s3tc")
                } : null
            }
        }, {
            key: "_webglTextureFormat",
            value: function() {
                var e = this._webglExtensions(),
                    t = "uncompressed";
                return e && e.dxt && e.dxt.COMPRESSED_RGB_S3TC_DXT1_EXT && (t = "dxt"), {
                    format: t,
                    compressed: "uncompressed" !== t
                }
            }
        }, {
            key: "gamepad",
            get: function() {
                return void 0 !== window.navigator.getGamepads
            }
        }, {
            key: "canvas",
            get: function() {
                var e = document.createElement("canvas");
                return !(!e.getContext || !e.getContext("2d"))
            }
        }, {
            key: "webgl",
            get: function() {
                return {
                    supported: this._webglSupported(),
                    extensions: this._webglExtensions(),
                    textureFormat: this._webglTextureFormat()
                }
            }
        }, {
            key: "blob",
            get: function() {
                return !!window.Blob
            }
        }, {
            key: "worker",
            get: function() {
                return "undefined" != typeof Worker
            }
        }, {
            key: "webglContext",
            get: function() {
                return this._webglContext
            }
        }]) && o(t.prototype, n), e
    }();
    t.default = r, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(36)) && o.__esModule ? o : {
        default: o
    };

    function i(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var a = function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e)
        }
        var t, n;
        return t = e, (n = [{
            key: "type",
            get: function() {
                var e = "";
                return this.mobile ? e = "mobile" : this.tablet ? e = "tablet" : this.desktop && (e = "desktop"), e
            }
        }, {
            key: "orientation",
            get: function() {
                var e = "portrait";
                return this.landscape && (e = "landscape"), e
            }
        }, {
            key: "portrait",
            get: function() {
                return window.innerHeight / window.innerWidth > 1
            }
        }, {
            key: "landscape",
            get: function() {
                return window.innerHeight / window.innerWidth < 1
            }
        }, {
            key: "nexus5",
            get: function() {
                return r.default._find("nexus 5")
            }
        }, {
            key: "iphone",
            get: function() {
                return r.default._find("iphone")
            }
        }, {
            key: "iphone4",
            get: function() {
                return this.iphone && 480 === window.screen.height
            }
        }, {
            key: "iphone5",
            get: function() {
                return this.iphone && 568 === window.screen.height
            }
        }, {
            key: "ipod",
            get: function() {
                return r.default._find("ipod")
            }
        }, {
            key: "ipad",
            get: function() {
                return r.default._find("ipad")
            }
        }, {
            key: "android",
            get: function() {
                return r.default._find("android")
            }
        }, {
            key: "androidPhone",
            get: function() {
                return this.android && r.default._find("mobile")
            }
        }, {
            key: "androidTablet",
            get: function() {
                return this.android && !r.default._find("mobile")
            }
        }, {
            key: "blackberry",
            get: function() {
                return r.default._find("blackberry") || r.default._find("bb10") || r.default._find("rim")
            }
        }, {
            key: "blackberryPhone",
            get: function() {
                return this.blackberry && !r.default._find("tablet")
            }
        }, {
            key: "blackberryTablet",
            get: function() {
                return this.blackberry && r.default._find("tablet")
            }
        }, {
            key: "windows",
            get: function() {
                return r.default._find("windows")
            }
        }, {
            key: "windowsPhone",
            get: function() {
                return this.windows && r.default._find("phone")
            }
        }, {
            key: "windowsTablet",
            get: function() {
                return this.windows && r.default._find("touch") && !this.windowsPhone
            }
        }, {
            key: "mobile",
            get: function() {
                return this.androidPhone || this.iphone || this.ipod || this.windowsPhone || this.blackberryPhone
            }
        }, {
            key: "tablet",
            get: function() {
                return this.ipad || this.androidTablet || this.blackberryTablet || this.windowsTablet
            }
        }, {
            key: "desktop",
            get: function() {
                return !this.tablet && !this.mobile
            }
        }]) && i(t.prototype, n), e
    }();
    t.default = a, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(36)) && o.__esModule ? o : {
        default: o
    };

    function i(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var a = function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e)
        }
        var t, n;
        return t = e, (n = [{
            key: "_getVersion",
            value: function() {
                var e, t, n, o;
                return n = void 0, (t = (o = r.default.userAgent).match(/(edge(?=\/))\/?\s*(\d+)/i) || []).length ? {
                    name: t[1],
                    version: t[2]
                } : (e = o.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i) || [], /trident/i.test(e[1]) ? {
                    name: "IE ",
                    version: (n = /\brv[ :]+(\d+)/g.exec(o) || [])[1] || ""
                } : "Chrome" === e[1] && null !== (n = o.match(/\bOPR\/(\d+)/)) ? {
                    name: "Opera",
                    version: n[1]
                } : (e = e[2] ? [e[1], e[2]] : [r.default.navigator.appName, r.default.navigator.appVersion, "-?"], null !== (n = o.match(/version\/(\d+)/i)) && e.splice(1, 1, n[1]), e[1]))
            }
        }, {
            key: "chrome",
            get: function() {
                return r.default._find("chrome") && !this.edge
            }
        }, {
            key: "firefox",
            get: function() {
                return r.default._find("firefox")
            }
        }, {
            key: "safari",
            get: function() {
                return r.default._find("safari")
            }
        }, {
            key: "edge",
            get: function() {
                return r.default._find("edge")
            }
        }, {
            key: "opera",
            get: function() {
                return r.default._find("opera") || r.default._find("opr")
            }
        }, {
            key: "ie",
            get: function() {
                return null !== new RegExp("trident/.*rv:([0-9]{1,}[0-9]{0,})").exec(r.default.userAgent) || null !== new RegExp("msie").exec(r.default.userAgent)
            }
        }, {
            key: "ie11",
            get: function() {
                return r.default._find("msie 11.0")
            }
        }, {
            key: "ie10",
            get: function() {
                return r.default._find("msie 10.0")
            }
        }, {
            key: "ie9",
            get: function() {
                return r.default._find("msie 9.0")
            }
        }, {
            key: "ie8",
            get: function() {
                return r.default._find("msie 8.0")
            }
        }, {
            key: "ie7",
            get: function() {
                return r.default._find("msie 7.0")
            }
        }, {
            key: "ie6",
            get: function() {
                return r.default._find("msie 6.0")
            }
        }, {
            key: "lteIE11",
            get: function() {
                return this.ie11 || this.ie10 || this.ie9 || this.ie8 || this.ie7 || this.ie6
            }
        }, {
            key: "name",
            get: function() {
                var e = "";
                return this.chrome ? e = "chrome" : this.firefox ? e = "firefox" : this.safari ? e = "safari" : this.edge ? e = "edge" : this.opera ? e = "opera" : this.ie && (e = "ie"), e
            }
        }, {
            key: "version",
            get: function() {
                return this._getVersion()
            }
        }]) && i(t.prototype, n), e
    }();
    t.default = a, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(36)) && o.__esModule ? o : {
        default: o
    };

    function i(e) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function a(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var s = function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e)
        }
        var t, n;
        return t = e, (n = [{
            key: "type",
            get: function() {
                var e = "";
                return this.osx ? e = "osx" : this.windows ? e = "windows" : this.linux ? e = "linux" : this.android ? e = "android" : this.ios && (e = "ios"), e
            }
        }, {
            key: "osx",
            get: function() {
                return r.default._find("mac os x")
            }
        }, {
            key: "windows",
            get: function() {
                return r.default._find("windows")
            }
        }, {
            key: "linux",
            get: function() {
                return r.default._find("linux")
            }
        }, {
            key: "ios",
            get: function() {
                return r.default.device.iphone || r.default.device.ipod || r.default.device.ipad
            }
        }, {
            key: "android",
            get: function() {
                return r.default._find("android")
            }
        }, {
            key: "cordova",
            get: function() {
                return window.cordova && "file:" === window.location.protocol
            }
        }, {
            key: "nodeWebkit",
            get: function() {
                return "object" === i(window.process)
            }
        }]) && a(t.prototype, n), e
    }();
    t.default = s, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e) {
        return e.filter(function(e, t, n) {
            return n.indexOf(e) === t
        })
    }, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = function e() {
        this._parser = e.parse
    };
    (o.prototype = Object.create(THREE.CompressedTextureLoader.prototype)).constructor = o, o.parse = function(e, t) {
        var n = {
            mipmaps: [],
            width: 0,
            height: 0,
            format: null,
            mipmapCount: 1
        };

        function o(e) {
            return e.charCodeAt(0) + (e.charCodeAt(1) << 8) + (e.charCodeAt(2) << 16) + (e.charCodeAt(3) << 24)
        }

        function r(e, t, n, o) {
            for (var r = n * o * 4, i = new Uint8Array(e, t, r), a = new Uint8Array(r), s = 0, l = 0, u = 0; u < o; u++)
                for (var c = 0; c < n; c++) {
                    var f = i[l],
                        p = i[++l],
                        d = i[++l],
                        h = i[++l];
                    l++, a[s] = d, a[++s] = p, a[++s] = f, a[++s] = h, s++
                }
            return a
        }
        var i, a = o("DXT1"),
            s = o("DXT3"),
            l = o("DXT5"),
            u = o("ETC1"),
            c = new Int32Array(e, 0, 31);
        if (542327876 !== c[0]) return console.error("DDSLoader.parse: Invalid magic number in DDS header."), n;
        if (4 & !c[20]) return console.error("DDSLoader.parse: Unsupported format, must contain a FourCC code."), n;
        var f, p = c[21],
            d = !1;
        switch (p) {
            case a:
                i = 8, n.format = THREE.RGB_S3TC_DXT1_Format;
                break;
            case s:
                i = 16, n.format = THREE.RGBA_S3TC_DXT3_Format;
                break;
            case l:
                i = 16, n.format = THREE.RGBA_S3TC_DXT5_Format;
                break;
            case u:
                i = 8, n.format = THREE.RGB_ETC1_Format;
                break;
            default:
                if (!(32 === c[22] && 16711680 & c[23] && 65280 & c[24] && 255 & c[25] && 4278190080 & c[26])) return console.error("DDSLoader.parse: Unsupported FourCC code ", (f = p, String.fromCharCode(255 & f, f >> 8 & 255, f >> 16 & 255, f >> 24 & 255))), n;
                d = !0, i = 64, n.format = THREE.RGBAFormat
        }
        n.mipmapCount = 1, 131072 & c[2] && !1 !== t && (n.mipmapCount = Math.max(1, c[7]));
        var h = c[28];
        if (n.isCubemap = !!(512 & h), n.isCubemap && (!(1024 & h) || !(2048 & h) || !(4096 & h) || !(8192 & h) || !(16384 & h) || !(32768 & h))) return console.error("DDSLoader.parse: Incomplete cubemap faces"), n;
        n.width = c[4], n.height = c[3];
        for (var y = c[1] + 4, v = n.isCubemap ? 6 : 1, _ = 0; _ < v; _++)
            for (var m = n.width, g = n.height, b = 0; b < n.mipmapCount; b++) {
                if (d) var w = (x = r(e, y, m, g)).length;
                else {
                    w = Math.max(4, m) / 4 * Math.max(4, g) / 4 * i;
                    var x = new Uint8Array(e, y, w)
                }
                var k = {
                    data: x,
                    width: m,
                    height: g
                };
                n.mipmaps.push(k), y += w, m = Math.max(m >> 1, 1), g = Math.max(g >> 1, 1)
            }
        return n
    };
    var r = o;
    t.default = r, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(50)) && o.__esModule ? o : {
        default: o
    };

    function i(e) {
        return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }
    var a = function(e) {
        this.manager = e || THREE.DefaultLoadingManager, this.materials = null, this.verbosity = 0, this.attributeOptions = {}, this.drawMode = THREE.TrianglesDrawMode, this.nativeAttributeMap = {
            position: "POSITION",
            normal: "NORMAL",
            color: "COLOR",
            uv: "TEX_COORD"
        }
    };
    a.prototype = {
        constructor: a,
        load: function(e, t, n, o) {
            var r = this,
                i = new THREE.FileLoader(r.manager);
            i.setPath(this.path), i.setResponseType("arraybuffer"), void 0 !== this.crossOrigin && (i.crossOrigin = this.crossOrigin), i.load(e, function(e) {
                r.decodeDracoFile(e, t)
            }, n, o)
        },
        setPath: function(e) {
            this.path = e
        },
        setCrossOrigin: function(e) {
            this.crossOrigin = e
        },
        setVerbosity: function(e) {
            this.verbosity = e
        },
        setDrawMode: function(e) {
            this.drawMode = e
        },
        setSkipDequantization: function(e, t) {
            var n = !0;
            void 0 !== t && (n = t), this.getAttributeOptions(e).skipDequantization = n
        },
        decodeDracoFile: function(e, t, n) {
            var o = this;
            a.getDecoderModule().then(function(r) {
                o.decodeDracoFileInternal(e, r.decoder, t, n || {})
            })
        },
        decodeDracoFileInternal: function(e, t, n, o) {
            var r = new t.DecoderBuffer;
            r.Init(new Int8Array(e), e.byteLength);
            var i = new t.Decoder,
                a = i.GetEncodedGeometryType(r);
            if (a === t.TRIANGULAR_MESH) this.verbosity > 0 && console.log("Loaded a mesh.");
            else {
                if (a !== t.POINT_CLOUD) {
                    var s = "DRACOLoader: Unknown geometry type.";
                    throw console.error(s), new Error(s)
                }
                this.verbosity > 0 && console.log("Loaded a point cloud.")
            }
            n(this.convertDracoGeometryTo3JS(t, i, a, r, o))
        },
        addAttributeToGeometry: function(e, t, n, o, r, i, a) {
            if (0 === r.ptr) {
                var s = "DRACOLoader: No attribute " + o;
                throw console.error(s), new Error(s)
            }
            var l = r.num_components(),
                u = new e.DracoFloat32Array;
            t.GetAttributeFloatForAllPoints(n, r, u);
            var c = n.num_points() * l;
            a[o] = new Float32Array(c);
            for (var f = 0; f < c; f++) a[o][f] = u.GetValue(f);
            i.addAttribute(o, new THREE.Float32BufferAttribute(a[o], l)), e.destroy(u)
        },
        convertDracoGeometryTo3JS: function(e, t, n, o, r) {
            var i, a, s;
            if (!0 === this.getAttributeOptions("position").skipDequantization && t.SkipAttributeTransform(e.POSITION), n === e.TRIANGULAR_MESH ? (i = new e.Mesh, a = t.DecodeBufferToMesh(o, i)) : (i = new e.PointCloud, a = t.DecodeBufferToPointCloud(o, i)), !a.ok() || 0 === i.ptr) {
                var l = "DRACOLoader: Decoding failed: ";
                throw l += a.error_msg(), console.error(l), e.destroy(t), e.destroy(i), new Error(l)
            }
            e.destroy(o), n === e.TRIANGULAR_MESH ? (s = i.num_faces(), this.verbosity > 0 && console.log("Number of faces loaded: " + s.toString())) : s = 0;
            var u = i.num_points(),
                c = i.num_attributes();
            this.verbosity > 0 && (console.log("Number of points loaded: " + u.toString()), console.log("Number of attributes loaded: " + c.toString()));
            var f = t.GetAttributeId(i, e.POSITION);
            if (-1 === f) {
                var p = "DRACOLoader: No position attribute found.";
                throw console.error(p), e.destroy(t), e.destroy(i), new Error(p)
            }
            var d = t.GetAttribute(i, f),
                h = {},
                y = new THREE.BufferGeometry;
            for (var v in this.nativeAttributeMap)
                if (void 0 === r[v]) {
                    var _ = t.GetAttributeId(i, e[this.nativeAttributeMap[v]]);
                    if (-1 !== _) {
                        this.verbosity > 0 && console.log("Loaded " + v + " attribute.");
                        var m = t.GetAttribute(i, _);
                        this.addAttributeToGeometry(e, t, i, v, m, y, h)
                    }
                }
            for (var g in r) {
                var b = r[g],
                    w = t.GetAttributeByUniqueId(i, b);
                this.addAttributeToGeometry(e, t, i, g, w, y, h)
            }
            if (n === e.TRIANGULAR_MESH)
                if (this.drawMode === THREE.TriangleStripDrawMode) {
                    var x = new e.DracoInt32Array;
                    h.indices = new Uint32Array(x.size());
                    for (var k = 0; k < x.size(); ++k) h.indices[k] = x.GetValue(k);
                    e.destroy(x)
                } else {
                    var O = 3 * s;
                    h.indices = new Uint32Array(O);
                    for (var E = new e.DracoInt32Array, P = 0; P < s; ++P) {
                        t.GetFaceFromMesh(i, P, E);
                        var S = 3 * P;
                        h.indices[S] = E.GetValue(0), h.indices[S + 1] = E.GetValue(1), h.indices[S + 2] = E.GetValue(2)
                    }
                    e.destroy(E)
                }
            y.drawMode = this.drawMode, n === e.TRIANGULAR_MESH && y.setIndex(new(h.indices.length > 65535 ? THREE.Uint32BufferAttribute : THREE.Uint16BufferAttribute)(h.indices, 1));
            var T = new e.AttributeQuantizationTransform;
            if (T.InitFromAttribute(d)) {
                y.attributes.position.isQuantized = !0, y.attributes.position.maxRange = T.range(), y.attributes.position.numQuantizationBits = T.quantization_bits(), y.attributes.position.minValues = new Float32Array(3);
                for (var j = 0; j < 3; ++j) y.attributes.position.minValues[j] = T.min_value(j)
            }
            return e.destroy(T), e.destroy(t), e.destroy(i), y
        },
        isVersionSupported: function(e, t) {
            a.getDecoderModule().then(function(n) {
                t(n.decoder.isVersionSupported(e))
            })
        },
        getAttributeOptions: function(e) {
            return void 0 === this.attributeOptions[e] && (this.attributeOptions[e] = {}), this.attributeOptions[e]
        }
    }, a.decoderPath = "/assets/misc/draco/", a.decoderConfig = {}, a.decoderModulePromise = null, a.setDecoderPath = function(e) {
        a.decoderPath = e
    }, a.setDecoderConfig = function(e) {
        var t = a.decoderConfig.wasmBinary;
        a.decoderConfig = e || {}, a.releaseDecoderModule(), t && (a.decoderConfig.wasmBinary = t)
    }, a.releaseDecoderModule = function() {
        a.decoderModulePromise = null
    }, a.getDecoderModule = function() {
        var e = a.decoderPath,
            t = a.decoderConfig,
            n = a.decoderModulePromise;
        return n || ("undefined" != typeof DracoDecoderModule ? n = Promise.resolve() : "object" !== ("undefined" == typeof WebAssembly ? "undefined" : i(WebAssembly)) || "js" === t.type ? n = a._loadScript(e + "draco_decoder.js") : (t.wasmBinaryFile = e + "draco_decoder.wasm", n = a._loadScript(e + "draco_wasm_wrapper.js").then(function() {
            return a._loadArrayBuffer(t.wasmBinaryFile)
        }).then(function(e) {
            t.wasmBinary = e
        })), n = n.then(function() {
            return new Promise(function(e) {
                t.onModuleLoaded = function(t) {
                    e({
                        decoder: t
                    })
                }, DracoDecoderModule(t)
            })
        }), a.decoderModulePromise = n, n)
    }, a._loadScript = function(e) {
        var t = document.getElementById("decoder_script");
        null !== t && t.parentNode.removeChild(t);
        var n = document.getElementsByTagName("head")[0],
            o = document.createElement("script");
        return o.id = "decoder_script", o.type = "text/javascript", o.src = r.default[e], new Promise(function(e) {
            o.onload = e, n.appendChild(o)
        })
    }, a._loadArrayBuffer = function(e) {
        var t = new THREE.FileLoader;
        return t.setResponseType("arraybuffer"), new Promise(function(n, o) {
            t.load(r.default[e], n, void 0, o)
        })
    };
    var s = a;
    t.default = s, e.exports = t.default
}, function(e, t, n) {
    "use strict";

    function o(e) {
        this.manager = void 0 !== e ? e : THREE.DefaultLoadingManager, this.dracoLoader = null
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0, o.prototype = {
        constructor: o,
        crossOrigin: "Anonymous",
        load: function(e, t, n, o) {
            var r = this,
                i = void 0 !== this.path ? this.path : THREE.LoaderUtils.extractUrlBase(e),
                a = new THREE.FileLoader(r.manager);
            a.setResponseType("arraybuffer"), a.load(e, function(e) {
                try {
                    r.parse(e, i, t, o)
                } catch (e) {
                    if (void 0 === o) throw e;
                    o(e)
                }
            }, n, o)
        },
        setCrossOrigin: function(e) {
            return this.crossOrigin = e, this
        },
        setPath: function(e) {
            return this.path = e, this
        },
        setDRACOLoader: function(e) {
            return this.dracoLoader = e, this
        },
        parse: function(e, t, n, o) {
            var c, f = {};
            if ("string" == typeof e) c = e;
            else if (THREE.LoaderUtils.decodeText(new Uint8Array(e, 0, 4)) === a) {
                try {
                    f[r.KHR_BINARY_GLTF] = new function(e) {
                        this.name = r.KHR_BINARY_GLTF, this.content = null, this.body = null;
                        var t = new DataView(e, 0, s);
                        if (this.header = {
                                magic: THREE.LoaderUtils.decodeText(new Uint8Array(e.slice(0, 4))),
                                version: t.getUint32(4, !0),
                                length: t.getUint32(8, !0)
                            }, this.header.magic !== a) throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");
                        if (this.header.version < 2) throw new Error("THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.");
                        for (var n = new DataView(e, s), o = 0; o < n.byteLength;) {
                            var i = n.getUint32(o, !0);
                            o += 4;
                            var u = n.getUint32(o, !0);
                            if (o += 4, u === l.JSON) {
                                var c = new Uint8Array(e, s + o, i);
                                this.content = THREE.LoaderUtils.decodeText(c)
                            } else if (u === l.BIN) {
                                var f = s + o;
                                this.body = e.slice(f, f + i)
                            }
                            o += i
                        }
                        if (null === this.content) throw new Error("THREE.GLTFLoader: JSON content not found.")
                    }(e)
                } catch (e) {
                    return void(o && o(e))
                }
                c = f[r.KHR_BINARY_GLTF].content
            } else c = THREE.LoaderUtils.decodeText(new Uint8Array(e));
            var p = JSON.parse(c);
            void 0 === p.asset || p.asset.version[0] < 2 ? o && o(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead.")) : (p.extensionsUsed && (p.extensionsUsed.indexOf(r.KHR_LIGHTS) >= 0 && (f[r.KHR_LIGHTS] = new function(e) {
                this.name = r.KHR_LIGHTS, this.lights = {};
                var t = (e.extensions && e.extensions[r.KHR_LIGHTS] || {}).lights || {};
                for (var n in t) {
                    var o, i = t[n],
                        a = (new THREE.Color).fromArray(i.color);
                    switch (i.type) {
                        case "directional":
                            (o = new THREE.DirectionalLight(a)).target.position.set(0, 0, 1), o.add(o.target);
                            break;
                        case "point":
                            o = new THREE.PointLight(a);
                            break;
                        case "spot":
                            o = new THREE.SpotLight(a), i.spot = i.spot || {}, i.spot.innerConeAngle = void 0 !== i.spot.innerConeAngle ? i.spot.innerConeAngle : 0, i.spot.outerConeAngle = void 0 !== i.spot.outerConeAngle ? i.spot.outerConeAngle : Math.PI / 4, o.angle = i.spot.outerConeAngle, o.penumbra = 1 - i.spot.innerConeAngle / i.spot.outerConeAngle, o.target.position.set(0, 0, 1), o.add(o.target);
                            break;
                        case "ambient":
                            o = new THREE.AmbientLight(a)
                    }
                    o && (o.decay = 2, void 0 !== i.intensity && (o.intensity = i.intensity), o.name = i.name || "light_" + n, this.lights[n] = o)
                }
            }(p)), p.extensionsUsed.indexOf(r.KHR_MATERIALS_UNLIT) >= 0 && (f[r.KHR_MATERIALS_UNLIT] = new i(p)), p.extensionsUsed.indexOf(r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS) >= 0 && (f[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS] = new function() {
                return {
                    name: r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,
                    specularGlossinessParams: ["color", "map", "lightMap", "lightMapIntensity", "aoMap", "aoMapIntensity", "emissive", "emissiveIntensity", "emissiveMap", "bumpMap", "bumpScale", "normalMap", "displacementMap", "displacementScale", "displacementBias", "specularMap", "specular", "glossinessMap", "glossiness", "alphaMap", "envMap", "envMapIntensity", "refractionRatio"],
                    getMaterialType: function() {
                        return THREE.ShaderMaterial
                    },
                    extendParams: function(e, t, n) {
                        var o = t.extensions[this.name],
                            r = THREE.ShaderLib.standard,
                            i = THREE.UniformsUtils.clone(r.uniforms),
                            a = ["#ifdef USE_SPECULARMAP", "\tuniform sampler2D specularMap;", "#endif"].join("\n"),
                            s = ["#ifdef USE_GLOSSINESSMAP", "\tuniform sampler2D glossinessMap;", "#endif"].join("\n"),
                            l = ["vec3 specularFactor = specular;", "#ifdef USE_SPECULARMAP", "\tvec4 texelSpecular = texture2D( specularMap, vUv );", "\ttexelSpecular = sRGBToLinear( texelSpecular );", "\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture", "\tspecularFactor *= texelSpecular.rgb;", "#endif"].join("\n"),
                            u = ["float glossinessFactor = glossiness;", "#ifdef USE_GLOSSINESSMAP", "\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );", "\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture", "\tglossinessFactor *= texelGlossiness.a;", "#endif"].join("\n"),
                            c = ["PhysicalMaterial material;", "material.diffuseColor = diffuseColor.rgb;", "material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );", "material.specularColor = specularFactor.rgb;"].join("\n"),
                            f = r.fragmentShader.replace("#include <specularmap_fragment>", "").replace("uniform float roughness;", "uniform vec3 specular;").replace("uniform float metalness;", "uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>", a).replace("#include <metalnessmap_pars_fragment>", s).replace("#include <roughnessmap_fragment>", l).replace("#include <metalnessmap_fragment>", u).replace("#include <lights_physical_fragment>", c);
                        delete i.roughness, delete i.metalness, delete i.roughnessMap, delete i.metalnessMap, i.specular = {
                            value: (new THREE.Color).setHex(1118481)
                        }, i.glossiness = {
                            value: .5
                        }, i.specularMap = {
                            value: null
                        }, i.glossinessMap = {
                            value: null
                        }, e.vertexShader = r.vertexShader, e.fragmentShader = f, e.uniforms = i, e.defines = {
                            STANDARD: ""
                        }, e.color = new THREE.Color(1, 1, 1), e.opacity = 1;
                        var p = [];
                        if (Array.isArray(o.diffuseFactor)) {
                            var d = o.diffuseFactor;
                            e.color.fromArray(d), e.opacity = d[3]
                        }
                        if (void 0 !== o.diffuseTexture && p.push(n.assignTexture(e, "map", o.diffuseTexture.index)), e.emissive = new THREE.Color(0, 0, 0), e.glossiness = void 0 !== o.glossinessFactor ? o.glossinessFactor : 1, e.specular = new THREE.Color(1, 1, 1), Array.isArray(o.specularFactor) && e.specular.fromArray(o.specularFactor), void 0 !== o.specularGlossinessTexture) {
                            var h = o.specularGlossinessTexture.index;
                            p.push(n.assignTexture(e, "glossinessMap", h)), p.push(n.assignTexture(e, "specularMap", h))
                        }
                        return Promise.all(p)
                    },
                    createMaterial: function(e) {
                        var t = new THREE.ShaderMaterial({
                            defines: e.defines,
                            vertexShader: e.vertexShader,
                            fragmentShader: e.fragmentShader,
                            uniforms: e.uniforms,
                            fog: !0,
                            lights: !0,
                            opacity: e.opacity,
                            transparent: e.transparent
                        });
                        return t.isGLTFSpecularGlossinessMaterial = !0, t.color = e.color, t.map = void 0 === e.map ? null : e.map, t.lightMap = null, t.lightMapIntensity = 1, t.aoMap = void 0 === e.aoMap ? null : e.aoMap, t.aoMapIntensity = 1, t.emissive = e.emissive, t.emissiveIntensity = 1, t.emissiveMap = void 0 === e.emissiveMap ? null : e.emissiveMap, t.bumpMap = void 0 === e.bumpMap ? null : e.bumpMap, t.bumpScale = 1, t.normalMap = void 0 === e.normalMap ? null : e.normalMap, e.normalScale && (t.normalScale = e.normalScale), t.displacementMap = null, t.displacementScale = 1, t.displacementBias = 0, t.specularMap = void 0 === e.specularMap ? null : e.specularMap, t.specular = e.specular, t.glossinessMap = void 0 === e.glossinessMap ? null : e.glossinessMap, t.glossiness = e.glossiness, t.alphaMap = null, t.envMap = void 0 === e.envMap ? null : e.envMap, t.envMapIntensity = 1, t.refractionRatio = .98, t.extensions.derivatives = !0, t
                    },
                    cloneMaterial: function(e) {
                        var t = e.clone();
                        t.isGLTFSpecularGlossinessMaterial = !0;
                        for (var n = this.specularGlossinessParams, o = 0, r = n.length; o < r; o++) t[n[o]] = e[n[o]];
                        return t
                    },
                    refreshUniforms: function(e, t, n, o, r, i) {
                        if (!0 === r.isGLTFSpecularGlossinessMaterial) {
                            var a, s, l, u = r.uniforms,
                                c = r.defines;
                            if (u.opacity.value = r.opacity, u.diffuse.value.copy(r.color), u.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity), u.map.value = r.map, u.specularMap.value = r.specularMap, u.alphaMap.value = r.alphaMap, u.lightMap.value = r.lightMap, u.lightMapIntensity.value = r.lightMapIntensity, u.aoMap.value = r.aoMap, u.aoMapIntensity.value = r.aoMapIntensity, r.map ? a = r.map : r.specularMap ? a = r.specularMap : r.displacementMap ? a = r.displacementMap : r.normalMap ? a = r.normalMap : r.bumpMap ? a = r.bumpMap : r.glossinessMap ? a = r.glossinessMap : r.alphaMap ? a = r.alphaMap : r.emissiveMap && (a = r.emissiveMap), void 0 !== a)
                                if (a.isWebGLRenderTarget && (a = a.texture), void 0 !== a.matrix) {
                                    if (!0 === a.matrixAutoUpdate) {
                                        s = a.offset, l = a.repeat;
                                        var f = a.rotation,
                                            p = a.center;
                                        a.matrix.setUvTransform(s.x, s.y, l.x, l.y, f, p.x, p.y)
                                    }
                                    u.uvTransform.value.copy(a.matrix)
                                } else s = a.offset, l = a.repeat, u.offsetRepeat.value.set(s.x, s.y, l.x, l.y);
                            u.envMap.value = r.envMap, u.envMapIntensity.value = r.envMapIntensity, u.flipEnvMap.value = r.envMap && r.envMap.isCubeTexture ? -1 : 1, u.refractionRatio.value = r.refractionRatio, u.specular.value.copy(r.specular), u.glossiness.value = r.glossiness, u.glossinessMap.value = r.glossinessMap, u.emissiveMap.value = r.emissiveMap, u.bumpMap.value = r.bumpMap, u.normalMap.value = r.normalMap, u.displacementMap.value = r.displacementMap, u.displacementScale.value = r.displacementScale, u.displacementBias.value = r.displacementBias, null !== u.glossinessMap.value && void 0 === c.USE_GLOSSINESSMAP && (c.USE_GLOSSINESSMAP = "", c.USE_ROUGHNESSMAP = ""), null === u.glossinessMap.value && void 0 !== c.USE_GLOSSINESSMAP && (delete c.USE_GLOSSINESSMAP, delete c.USE_ROUGHNESSMAP)
                        }
                    }
                }
            }), p.extensionsUsed.indexOf(r.KHR_DRACO_MESH_COMPRESSION) >= 0 && (f[r.KHR_DRACO_MESH_COMPRESSION] = new u(this.dracoLoader)), p.extensionsUsed.indexOf(r.MSFT_TEXTURE_DDS) >= 0 && (f[r.MSFT_TEXTURE_DDS] = new function() {
                if (!THREE.DDSLoader) throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader");
                this.name = r.MSFT_TEXTURE_DDS, this.ddsLoader = new THREE.DDSLoader
            })), new E(p, f, {
                path: t || this.path || "",
                crossOrigin: this.crossOrigin,
                manager: this.manager
            }).parse(function(e, t, o, r, i) {
                n({
                    scene: e,
                    scenes: t,
                    cameras: o,
                    animations: r,
                    asset: i
                })
            }, o))
        }
    };
    var r = {
        KHR_BINARY_GLTF: "KHR_binary_glTF",
        KHR_DRACO_MESH_COMPRESSION: "KHR_draco_mesh_compression",
        KHR_LIGHTS: "KHR_lights",
        KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: "KHR_materials_pbrSpecularGlossiness",
        KHR_MATERIALS_UNLIT: "KHR_materials_unlit",
        MSFT_TEXTURE_DDS: "MSFT_texture_dds"
    };

    function i(e) {
        this.name = r.KHR_MATERIALS_UNLIT
    }
    i.prototype.getMaterialType = function(e) {
        return THREE.MeshBasicMaterial
    }, i.prototype.extendParams = function(e, t, n) {
        var o = [];
        e.color = new THREE.Color(1, 1, 1), e.opacity = 1;
        var r = t.pbrMetallicRoughness;
        if (r) {
            if (Array.isArray(r.baseColorFactor)) {
                var i = r.baseColorFactor;
                e.color.fromArray(i), e.opacity = i[3]
            }
            void 0 !== r.baseColorTexture && o.push(n.assignTexture(e, "map", r.baseColorTexture.index))
        }
        return Promise.all(o)
    };
    var a = "glTF",
        s = 12,
        l = {
            JSON: 1313821514,
            BIN: 5130562
        };

    function u(e) {
        if (!e) throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");
        this.name = r.KHR_DRACO_MESH_COMPRESSION, this.dracoLoader = e
    }

    function c(e, t, n, o) {
        THREE.Interpolant.call(this, e, t, n, o)
    }
    u.prototype.decodePrimitive = function(e, t) {
        var n = this.dracoLoader,
            o = e.extensions[this.name].bufferView,
            r = e.extensions[this.name].attributes,
            i = {};
        for (var a in r) a in _ && (i[_[a]] = r[a]);
        return t.getDependency("bufferView", o).then(function(e) {
            return new Promise(function(t) {
                n.decodeDracoFile(e, t, i)
            })
        })
    }, c.prototype = Object.create(THREE.Interpolant.prototype), c.prototype.constructor = c, c.prototype.interpolate_ = function(e, t, n, o) {
        for (var r = this.resultBuffer, i = this.sampleValues, a = this.valueSize, s = 2 * a, l = 3 * a, u = o - t, c = (n - t) / u, f = c * c, p = f * c, d = e * l, h = d - l, y = 2 * p - 3 * f + 1, v = p - 2 * f + c, _ = -2 * p + 3 * f, m = p - f, g = 0; g !== a; g++) {
            var b = i[h + g + a],
                w = i[h + g + s] * u,
                x = i[d + g + a],
                k = i[d + g] * u;
            r[g] = y * b + v * w + _ * x + m * k
        }
        return r
    };
    var f = (Number, THREE.Matrix3, THREE.Matrix4, THREE.Vector2, THREE.Vector3, THREE.Vector4, THREE.Texture, {
            5120: Int8Array,
            5121: Uint8Array,
            5122: Int16Array,
            5123: Uint16Array,
            5125: Uint32Array,
            5126: Float32Array
        }),
        p = {
            9728: THREE.NearestFilter,
            9729: THREE.LinearFilter,
            9984: THREE.NearestMipMapNearestFilter,
            9985: THREE.LinearMipMapNearestFilter,
            9986: THREE.NearestMipMapLinearFilter,
            9987: THREE.LinearMipMapLinearFilter
        },
        d = {
            33071: THREE.ClampToEdgeWrapping,
            33648: THREE.MirroredRepeatWrapping,
            10497: THREE.RepeatWrapping
        },
        h = {
            6406: THREE.AlphaFormat,
            6407: THREE.RGBFormat,
            6408: THREE.RGBAFormat,
            6409: THREE.LuminanceFormat,
            6410: THREE.LuminanceAlphaFormat
        },
        y = {
            5121: THREE.UnsignedByteType,
            32819: THREE.UnsignedShort4444Type,
            32820: THREE.UnsignedShort5551Type,
            33635: THREE.UnsignedShort565Type
        },
        v = (THREE.BackSide, THREE.FrontSide, THREE.NeverDepth, THREE.LessDepth, THREE.EqualDepth, THREE.LessEqualDepth, THREE.GreaterEqualDepth, THREE.NotEqualDepth, THREE.GreaterEqualDepth, THREE.AlwaysDepth, THREE.AddEquation, THREE.SubtractEquation, THREE.ReverseSubtractEquation, THREE.ZeroFactor, THREE.OneFactor, THREE.SrcColorFactor, THREE.OneMinusSrcColorFactor, THREE.SrcAlphaFactor, THREE.OneMinusSrcAlphaFactor, THREE.DstAlphaFactor, THREE.OneMinusDstAlphaFactor, THREE.DstColorFactor, THREE.OneMinusDstColorFactor, THREE.SrcAlphaSaturateFactor, {
            SCALAR: 1,
            VEC2: 2,
            VEC3: 3,
            VEC4: 4,
            MAT2: 4,
            MAT3: 9,
            MAT4: 16
        }),
        _ = {
            POSITION: "position",
            NORMAL: "normal",
            TEXCOORD_0: "uv",
            TEXCOORD0: "uv",
            TEXCOORD: "uv",
            TEXCOORD_1: "uv2",
            COLOR_0: "color",
            COLOR0: "color",
            COLOR: "color",
            WEIGHTS_0: "skinWeight",
            WEIGHT: "skinWeight",
            JOINTS_0: "skinIndex",
            JOINT: "skinIndex"
        },
        m = {
            scale: "scale",
            translation: "position",
            rotation: "quaternion",
            weights: "morphTargetInfluences"
        },
        g = {
            CUBICSPLINE: THREE.InterpolateSmooth,
            LINEAR: THREE.InterpolateLinear,
            STEP: THREE.InterpolateDiscrete
        };

    function b(e, t) {
        return "string" != typeof e || "" === e ? "" : /^(https?:)?\/\//i.test(e) ? e : /^data:.*,.*$/i.test(e) ? e : /^blob:.*$/i.test(e) ? e : t + e
    }

    function w(e, t, n, o) {
        for (var r = e.geometry, i = n.targets, a = !1, s = !1, l = 0, u = i.length; l < u && (void 0 !== (p = i[l]).POSITION && (a = !0), void 0 !== p.NORMAL && (s = !0), !a || !s); l++);
        if (a || s) {
            var c = [],
                f = [];
            for (l = 0, u = i.length; l < u; l++) {
                var p = i[l],
                    d = "morphTarget" + l;
                if (a) {
                    if (void 0 !== p.POSITION) {
                        var h = O(o[p.POSITION]);
                        h.name = d;
                        for (var y = r.attributes.position, v = 0, _ = h.count; v < _; v++) h.setXYZ(v, h.getX(v) + y.getX(v), h.getY(v) + y.getY(v), h.getZ(v) + y.getZ(v))
                    } else h = r.attributes.position;
                    c.push(h)
                }
                if (s) {
                    if (void 0 !== p.NORMAL) {
                        var m;
                        (m = O(o[p.NORMAL])).name = d;
                        var g = r.attributes.normal;
                        for (v = 0, _ = m.count; v < _; v++) m.setXYZ(v, m.getX(v) + g.getX(v), m.getY(v) + g.getY(v), m.getZ(v) + g.getZ(v))
                    } else m = r.attributes.normal;
                    f.push(m)
                }
            }
            if (a && (r.morphAttributes.position = c), s && (r.morphAttributes.normal = f), e.updateMorphTargets(), void 0 !== t.weights)
                for (l = 0, u = t.weights.length; l < u; l++) e.morphTargetInfluences[l] = t.weights[l];
            if (t.extras && Array.isArray(t.extras.targetNames)) {
                var b = t.extras.targetNames;
                if (e.morphTargetInfluences.length === b.length)
                    for (e.morphTargetDictionary = {}, l = 0, u = b.length; l < u; l++) e.morphTargetDictionary[b[l]] = l;
                else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")
            }
        }
    }

    function x(e, t) {
        if (e.indices !== t.indices) return !1;
        var n = e.attributes || {},
            o = t.attributes || {},
            r = Object.keys(n),
            i = Object.keys(o);
        if (r.length !== i.length) return !1;
        for (var a = 0, s = r.length; a < s; a++) {
            var l = r[a];
            if (n[l] !== o[l]) return !1
        }
        return !0
    }

    function k(e, t) {
        for (var n = 0, o = e.length; n < o; n++) {
            var r = e[n];
            if (x(r.primitive, t)) return r.promise
        }
        return null
    }

    function O(e) {
        if (e.isInterleavedBufferAttribute) {
            for (var t = e.count, n = e.itemSize, o = e.array.slice(0, t * n), r = 0; r < t; ++r) o[r] = e.getX(r), n >= 2 && (o[r + 1] = e.getY(r)), n >= 3 && (o[r + 2] = e.getZ(r)), n >= 4 && (o[r + 3] = e.getW(r));
            return new THREE.BufferAttribute(o, n, e.normalized)
        }
        return e.clone()
    }

    function E(e, t, n) {
        this.json = e || {}, this.extensions = t || {}, this.options = n || {}, this.cache = new function() {
            var e = {};
            return {
                get: function(t) {
                    return e[t]
                },
                add: function(t, n) {
                    e[t] = n
                },
                remove: function(t) {
                    delete e[t]
                },
                removeAll: function() {
                    e = {}
                }
            }
        }, this.primitiveCache = [], this.textureLoader = new THREE.TextureLoader(this.options.manager), this.textureLoader.setCrossOrigin(this.options.crossOrigin), this.fileLoader = new THREE.FileLoader(this.options.manager), this.fileLoader.setResponseType("arraybuffer")
    }

    function P(e, t, n) {
        var o = t.attributes;
        for (var r in o) {
            var i = _[r],
                a = n[o[r]];
            i && (i in e.attributes || e.addAttribute(i, a))
        }
        void 0 === t.indices || e.index || e.setIndex(n[t.indices])
    }
    E.prototype.parse = function(e, t) {
        var n = this.json;
        this.cache.removeAll(), this.markDefs(), this.getMultiDependencies(["scene", "animation", "camera"]).then(function(t) {
            var o = t.scenes || [],
                r = o[n.scene || 0],
                i = t.animations || [],
                a = n.asset,
                s = t.cameras || [];
            e(r, o, s, i, a)
        }).catch(t)
    }, E.prototype.markDefs = function() {
        for (var e = this.json.nodes || [], t = this.json.skins || [], n = this.json.meshes || [], o = {}, r = {}, i = 0, a = t.length; i < a; i++)
            for (var s = t[i].joints, l = 0, u = s.length; l < u; l++) e[s[l]].isBone = !0;
        for (var c = 0, f = e.length; c < f; c++) {
            var p = e[c];
            void 0 !== p.mesh && (void 0 === o[p.mesh] && (o[p.mesh] = r[p.mesh] = 0), o[p.mesh]++, void 0 !== p.skin && (n[p.mesh].isSkinnedMesh = !0))
        }
        this.json.meshReferences = o, this.json.meshUses = r
    }, E.prototype.getDependency = function(e, t) {
        var n = e + ":" + t,
            o = this.cache.get(n);
        if (!o) {
            switch (e) {
                case "scene":
                    o = this.loadScene(t);
                    break;
                case "node":
                    o = this.loadNode(t);
                    break;
                case "mesh":
                    o = this.loadMesh(t);
                    break;
                case "accessor":
                    o = this.loadAccessor(t);
                    break;
                case "bufferView":
                    o = this.loadBufferView(t);
                    break;
                case "buffer":
                    o = this.loadBuffer(t);
                    break;
                case "material":
                    o = this.loadMaterial(t);
                    break;
                case "texture":
                    o = this.loadTexture(t);
                    break;
                case "skin":
                    o = this.loadSkin(t);
                    break;
                case "animation":
                    o = this.loadAnimation(t);
                    break;
                case "camera":
                    o = this.loadCamera(t);
                    break;
                default:
                    throw new Error("Unknown type: " + e)
            }
            this.cache.add(n, o)
        }
        return o
    }, E.prototype.getDependencies = function(e) {
        var t = this.cache.get(e);
        if (!t) {
            var n = this,
                o = this.json[e + ("mesh" === e ? "es" : "s")] || [];
            t = Promise.all(o.map(function(t, o) {
                return n.getDependency(e, o)
            })), this.cache.add(e, t)
        }
        return t
    }, E.prototype.getMultiDependencies = function(e) {
        for (var t = {}, n = [], o = 0, r = e.length; o < r; o++) {
            var i = e[o],
                a = this.getDependencies(i);
            a = a.then(function(e, n) {
                t[e] = n
            }.bind(this, i + ("mesh" === i ? "es" : "s"))), n.push(a)
        }
        return Promise.all(n).then(function() {
            return t
        })
    }, E.prototype.loadBuffer = function(e) {
        var t = this.json.buffers[e],
            n = this.fileLoader;
        if (t.type && "arraybuffer" !== t.type) throw new Error("THREE.GLTFLoader: " + t.type + " buffer type is not supported.");
        if (void 0 === t.uri && 0 === e) return Promise.resolve(this.extensions[r.KHR_BINARY_GLTF].body);
        var o = this.options;
        return new Promise(function(e, r) {
            n.load(b(t.uri, o.path), e, void 0, function() {
                r(new Error('THREE.GLTFLoader: Failed to load buffer "' + t.uri + '".'))
            })
        })
    }, E.prototype.loadBufferView = function(e) {
        var t = this.json.bufferViews[e];
        return this.getDependency("buffer", t.buffer).then(function(e) {
            var n = t.byteLength || 0,
                o = t.byteOffset || 0;
            return e.slice(o, o + n)
        })
    }, E.prototype.loadAccessor = function(e) {
        var t = this,
            n = this.json,
            o = this.json.accessors[e];
        if (void 0 === o.bufferView && void 0 === o.sparse) return null;
        var r = [];
        return void 0 !== o.bufferView ? r.push(this.getDependency("bufferView", o.bufferView)) : r.push(null), void 0 !== o.sparse && (r.push(this.getDependency("bufferView", o.sparse.indices.bufferView)), r.push(this.getDependency("bufferView", o.sparse.values.bufferView))), Promise.all(r).then(function(e) {
            var r, i, a = e[0],
                s = v[o.type],
                l = f[o.componentType],
                u = l.BYTES_PER_ELEMENT,
                c = u * s,
                p = o.byteOffset || 0,
                d = n.bufferViews[o.bufferView].byteStride,
                h = !0 === o.normalized;
            if (d && d !== c) {
                var y = "InterleavedBuffer:" + o.bufferView + ":" + o.componentType,
                    _ = t.cache.get(y);
                _ || (r = new l(a), _ = new THREE.InterleavedBuffer(r, d / u), t.cache.add(y, _)), i = new THREE.InterleavedBufferAttribute(_, s, p / u, h)
            } else r = null === a ? new l(o.count * s) : new l(a, p, o.count * s), i = new THREE.BufferAttribute(r, s, h);
            if (void 0 !== o.sparse) {
                var m = v.SCALAR,
                    g = f[o.sparse.indices.componentType],
                    b = o.sparse.indices.byteOffset || 0,
                    w = o.sparse.values.byteOffset || 0,
                    x = new g(e[1], b, o.sparse.count * m),
                    k = new l(e[2], w, o.sparse.count * s);
                null !== a && i.setArray(i.array.slice());
                for (var O = 0, E = x.length; O < E; O++) {
                    var P = x[O];
                    if (i.setX(P, k[O * s]), s >= 2 && i.setY(P, k[O * s + 1]), s >= 3 && i.setZ(P, k[O * s + 2]), s >= 4 && i.setW(P, k[O * s + 3]), s >= 5) throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")
                }
            }
            return i
        })
    }, E.prototype.loadTexture = function(e) {
        var t, n = this,
            o = this.json,
            i = this.options,
            a = this.textureLoader,
            s = window.URL || window.webkitURL,
            l = o.textures[e],
            u = l.extensions || {},
            c = (t = u[r.MSFT_TEXTURE_DDS] ? o.images[u[r.MSFT_TEXTURE_DDS].source] : o.images[l.source]).uri,
            f = !1;
        return void 0 !== t.bufferView && (c = n.getDependency("bufferView", t.bufferView).then(function(e) {
            f = !0;
            var n = new Blob([e], {
                type: t.mimeType
            });
            return c = s.createObjectURL(n)
        })), Promise.resolve(c).then(function(e) {
            var t = THREE.Loader.Handlers.get(e);
            return t || (t = u[r.MSFT_TEXTURE_DDS] ? n.extensions[r.MSFT_TEXTURE_DDS].ddsLoader : a), new Promise(function(n, o) {
                t.load(b(e, i.path), n, void 0, o)
            })
        }).then(function(e) {
            !0 === f && s.revokeObjectURL(c), e.flipY = !1, void 0 !== l.name && (e.name = l.name), u[r.MSFT_TEXTURE_DDS] || (e.format = void 0 !== l.format ? h[l.format] : THREE.RGBAFormat), void 0 !== l.internalFormat && e.format !== h[l.internalFormat] && console.warn("THREE.GLTFLoader: Three.js does not support texture internalFormat which is different from texture format. internalFormat will be forced to be the same value as format."), e.type = void 0 !== l.type ? y[l.type] : THREE.UnsignedByteType;
            var t = (o.samplers || {})[l.sampler] || {};
            return e.magFilter = p[t.magFilter] || THREE.LinearFilter, e.minFilter = p[t.minFilter] || THREE.LinearMipMapLinearFilter, e.wrapS = d[t.wrapS] || THREE.RepeatWrapping, e.wrapT = d[t.wrapT] || THREE.RepeatWrapping, e
        })
    }, E.prototype.assignTexture = function(e, t, n) {
        return this.getDependency("texture", n).then(function(n) {
            e[t] = n
        })
    }, E.prototype.loadMaterial = function(e) {
        this.json;
        var t, n = this.extensions,
            o = this.json.materials[e],
            i = {},
            a = o.extensions || {},
            s = [];
        if (a[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]) {
            var l = n[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];
            t = l.getMaterialType(o), s.push(l.extendParams(i, o, this))
        } else if (a[r.KHR_MATERIALS_UNLIT]) {
            var u = n[r.KHR_MATERIALS_UNLIT];
            t = u.getMaterialType(o), s.push(u.extendParams(i, o, this))
        } else {
            t = THREE.MeshStandardMaterial;
            var c = o.pbrMetallicRoughness || {};
            if (i.color = new THREE.Color(1, 1, 1), i.opacity = 1, Array.isArray(c.baseColorFactor)) {
                var f = c.baseColorFactor;
                i.color.fromArray(f), i.opacity = f[3]
            }
            if (void 0 !== c.baseColorTexture && s.push(this.assignTexture(i, "map", c.baseColorTexture.index)), i.metalness = void 0 !== c.metallicFactor ? c.metallicFactor : 1, i.roughness = void 0 !== c.roughnessFactor ? c.roughnessFactor : 1, void 0 !== c.metallicRoughnessTexture) {
                var p = c.metallicRoughnessTexture.index;
                s.push(this.assignTexture(i, "metalnessMap", p)), s.push(this.assignTexture(i, "roughnessMap", p))
            }
        }!0 === o.doubleSided && (i.side = THREE.DoubleSide);
        var d = o.alphaMode || "OPAQUE";
        return "BLEND" === d ? i.transparent = !0 : (i.transparent = !1, "MASK" === d && (i.alphaTest = void 0 !== o.alphaCutoff ? o.alphaCutoff : .5)), void 0 !== o.normalTexture && t !== THREE.MeshBasicMaterial && (s.push(this.assignTexture(i, "normalMap", o.normalTexture.index)), i.normalScale = new THREE.Vector2(1, 1), void 0 !== o.normalTexture.scale && i.normalScale.set(o.normalTexture.scale, o.normalTexture.scale)), void 0 !== o.occlusionTexture && t !== THREE.MeshBasicMaterial && (s.push(this.assignTexture(i, "aoMap", o.occlusionTexture.index)), void 0 !== o.occlusionTexture.strength && (i.aoMapIntensity = o.occlusionTexture.strength)), void 0 !== o.emissiveFactor && t !== THREE.MeshBasicMaterial && (i.emissive = (new THREE.Color).fromArray(o.emissiveFactor)), void 0 !== o.emissiveTexture && t !== THREE.MeshBasicMaterial && s.push(this.assignTexture(i, "emissiveMap", o.emissiveTexture.index)), Promise.all(s).then(function() {
            var e;
            return e = t === THREE.ShaderMaterial ? n[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(i) : new t(i), void 0 !== o.name && (e.name = o.name), e.normalScale && (e.normalScale.y = -e.normalScale.y), e.map && (e.map.encoding = THREE.sRGBEncoding), e.emissiveMap && (e.emissiveMap.encoding = THREE.sRGBEncoding), o.extras && (e.userData = o.extras), e
        })
    }, E.prototype.loadGeometries = function(e) {
        var t = this,
            n = this.extensions,
            o = this.primitiveCache;
        return this.getDependencies("accessor").then(function(i) {
            for (var a = [], s = 0, l = e.length; s < l; s++) {
                var u = e[s],
                    c = k(o, u);
                if (c) a.push(c);
                else if (u.extensions && u.extensions[r.KHR_DRACO_MESH_COMPRESSION]) {
                    var f = n[r.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(u, t).then(function(e) {
                        return P(e, u, i), e
                    });
                    o.push({
                        primitive: u,
                        promise: f
                    }), a.push(f)
                } else {
                    var p = new THREE.BufferGeometry;
                    P(p, u, i), f = Promise.resolve(p), o.push({
                        primitive: u,
                        promise: f
                    }), a.push(f)
                }
            }
            return Promise.all(a)
        })
    }, E.prototype.loadMesh = function(e) {
        var t = this,
            n = (this.json, this.extensions),
            o = this.json.meshes[e];
        return this.getMultiDependencies(["accessor", "material"]).then(function(i) {
            var a = new THREE.Group,
                s = o.primitives;
            return t.loadGeometries(s).then(function(l) {
                for (var u = 0, c = s.length; u < c; u++) {
                    var f = s[u],
                        p = l[u],
                        d = void 0 === f.material ? new THREE.MeshStandardMaterial({
                            color: 16777215,
                            emissive: 0,
                            metalness: 1,
                            roughness: 1,
                            transparent: !1,
                            depthTest: !0,
                            side: THREE.FrontSide
                        }) : i.materials[f.material];
                    d.aoMap && void 0 === p.attributes.uv2 && void 0 !== p.attributes.uv && (console.log("THREE.GLTFLoader: Duplicating UVs to support aoMap."), p.addAttribute("uv2", new THREE.BufferAttribute(p.attributes.uv.array, 2)));
                    var h, y = void 0 !== p.attributes.color,
                        v = void 0 === p.attributes.normal,
                        _ = !0 === o.isSkinnedMesh,
                        m = void 0 !== f.targets;
                    if ((y || v || _ || m) && (d = d.isGLTFSpecularGlossinessMaterial ? n[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(d) : d.clone()), y && (d.vertexColors = THREE.VertexColors, d.needsUpdate = !0), v && (d.flatShading = !0), 4 === f.mode || 5 === f.mode || 6 === f.mode || void 0 === f.mode) _ ? (h = new THREE.SkinnedMesh(p, d), d.skinning = !0) : h = new THREE.Mesh(p, d), 5 === f.mode ? h.drawMode = THREE.TriangleStripDrawMode : 6 === f.mode && (h.drawMode = THREE.TriangleFanDrawMode);
                    else if (1 === f.mode || 3 === f.mode || 2 === f.mode) {
                        var g = "LineBasicMaterial:" + d.uuid,
                            b = t.cache.get(g);
                        b || (b = new THREE.LineBasicMaterial, THREE.Material.prototype.copy.call(b, d), b.color.copy(d.color), b.lights = !1, t.cache.add(g, b)), d = b, h = 1 === f.mode ? new THREE.LineSegments(p, d) : 3 === f.mode ? new THREE.Line(p, d) : new THREE.LineLoop(p, d)
                    } else {
                        if (0 !== f.mode) throw new Error("THREE.GLTFLoader: Primitive mode unsupported: " + f.mode);
                        g = "PointsMaterial:" + d.uuid;
                        var x = t.cache.get(g);
                        x || (x = new THREE.PointsMaterial, THREE.Material.prototype.copy.call(x, d), x.color.copy(d.color), x.map = d.map, x.lights = !1, t.cache.add(g, x)), d = x, h = new THREE.Points(p, d)
                    }
                    if (h.name = o.name || "mesh_" + e, m && (w(h, o, f, i.accessors), d.morphTargets = !0, void 0 !== h.geometry.morphAttributes.normal && (d.morphNormals = !0)), void 0 !== o.extras && (h.userData = o.extras), void 0 !== f.extras && (h.geometry.userData = f.extras), !0 === d.isGLTFSpecularGlossinessMaterial && (h.onBeforeRender = n[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms), !(s.length > 1)) return h;
                    h.name += "_" + u, a.add(h)
                }
                return a
            })
        })
    }, E.prototype.loadCamera = function(e) {
        var t, n = this.json.cameras[e],
            o = n[n.type];
        if (o) return "perspective" === n.type ? t = new THREE.PerspectiveCamera(THREE.Math.radToDeg(o.yfov), o.aspectRatio || 1, o.znear || 1, o.zfar || 2e6) : "orthographic" === n.type && (t = new THREE.OrthographicCamera(o.xmag / -2, o.xmag / 2, o.ymag / 2, o.ymag / -2, o.znear, o.zfar)), void 0 !== n.name && (t.name = n.name), n.extras && (t.userData = n.extras), Promise.resolve(t);
        console.warn("THREE.GLTFLoader: Missing camera parameters.")
    }, E.prototype.loadSkin = function(e) {
        var t = this.json.skins[e],
            n = {
                joints: t.joints
            };
        return void 0 === t.inverseBindMatrices ? Promise.resolve(n) : this.getDependency("accessor", t.inverseBindMatrices).then(function(e) {
            return n.inverseBindMatrices = e, n
        })
    }, E.prototype.loadAnimation = function(e) {
        this.json;
        var t = this.json.animations[e];
        return this.getMultiDependencies(["accessor", "node"]).then(function(n) {
            for (var o = [], r = 0, i = t.channels.length; r < i; r++) {
                var a = t.channels[r],
                    s = t.samplers[a.sampler];
                if (s) {
                    var l = a.target,
                        u = void 0 !== l.node ? l.node : l.id,
                        f = void 0 !== t.parameters ? t.parameters[s.input] : s.input,
                        p = void 0 !== t.parameters ? t.parameters[s.output] : s.output,
                        d = n.accessors[f],
                        h = n.accessors[p],
                        y = n.nodes[u];
                    if (y) {
                        var v;
                        switch (y.updateMatrix(), y.matrixAutoUpdate = !0, m[l.path]) {
                            case m.weights:
                                v = THREE.NumberKeyframeTrack;
                                break;
                            case m.rotation:
                                v = THREE.QuaternionKeyframeTrack;
                                break;
                            case m.position:
                            case m.scale:
                            default:
                                v = THREE.VectorKeyframeTrack
                        }
                        var _ = y.name ? y.name : y.uuid,
                            b = void 0 !== s.interpolation ? g[s.interpolation] : THREE.InterpolateLinear,
                            w = [];
                        m[l.path] === m.weights ? y.traverse(function(e) {
                            !0 === e.isMesh && !0 === e.material.morphTargets && w.push(e.name ? e.name : e.uuid)
                        }) : w.push(_);
                        for (var x = 0, k = w.length; x < k; x++) {
                            var O = new v(w[x] + "." + m[l.path], THREE.AnimationUtils.arraySlice(d.array, 0), THREE.AnimationUtils.arraySlice(h.array, 0), b);
                            "CUBICSPLINE" === s.interpolation && (O.createInterpolant = function(e) {
                                return new c(this.times, this.values, this.getValueSize() / 3, e)
                            }, O.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = !0), o.push(O)
                        }
                    }
                }
            }
            return u = void 0 !== t.name ? t.name : "animation_" + e, new THREE.AnimationClip(u, void 0, o)
        })
    }, E.prototype.loadNode = function(e) {
        this.json;
        var t = this.extensions,
            n = this.json.meshReferences,
            o = this.json.meshUses,
            i = this.json.nodes[e];
        return this.getMultiDependencies(["mesh", "skin", "camera", "light"]).then(function(e) {
            var a;
            if (!0 === i.isBone) a = new THREE.Bone;
            else if (void 0 !== i.mesh) {
                var s = e.meshes[i.mesh];
                if (a = s.clone(), !0 === s.isGroup)
                    for (var l = 0, u = s.children.length; l < u; l++) {
                        var c = s.children[l];
                        c.material && !0 === c.material.isGLTFSpecularGlossinessMaterial && (a.children[l].onBeforeRender = c.onBeforeRender)
                    } else s.material && !0 === s.material.isGLTFSpecularGlossinessMaterial && (a.onBeforeRender = s.onBeforeRender);
                n[i.mesh] > 1 && (a.name += "_instance_" + o[i.mesh]++)
            } else a = void 0 !== i.camera ? e.cameras[i.camera] : i.extensions && i.extensions[r.KHR_LIGHTS] && void 0 !== i.extensions[r.KHR_LIGHTS].light ? t[r.KHR_LIGHTS].lights[i.extensions[r.KHR_LIGHTS].light] : new THREE.Object3D;
            if (void 0 !== i.name && (a.name = THREE.PropertyBinding.sanitizeNodeName(i.name)), i.extras && (a.userData = i.extras), void 0 !== i.matrix) {
                var f = new THREE.Matrix4;
                f.fromArray(i.matrix), a.applyMatrix(f)
            } else void 0 !== i.translation && a.position.fromArray(i.translation), void 0 !== i.rotation && a.quaternion.fromArray(i.rotation), void 0 !== i.scale && a.scale.fromArray(i.scale);
            return a
        })
    }, E.prototype.loadScene = function() {
        function e(t, n, o, r, i) {
            var a = r[t],
                s = o.nodes[t];
            if (void 0 !== s.skin)
                for (var l = !0 === a.isGroup ? a.children : [a], u = 0, c = l.length; u < c; u++) {
                    for (var f = l[u], p = i[s.skin], d = [], h = [], y = 0, v = p.joints.length; y < v; y++) {
                        var _ = p.joints[y],
                            m = r[_];
                        if (m) {
                            d.push(m);
                            var g = new THREE.Matrix4;
                            void 0 !== p.inverseBindMatrices && g.fromArray(p.inverseBindMatrices.array, 16 * y), h.push(g)
                        } else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.', _)
                    }
                    f.bind(new THREE.Skeleton(d, h), f.matrixWorld)
                }
            if (n.add(a), s.children) {
                var b = s.children;
                for (u = 0, c = b.length; u < c; u++) e(b[u], a, o, r, i)
            }
        }
        return function(t) {
            var n = this.json,
                o = this.extensions,
                i = this.json.scenes[t];
            return this.getMultiDependencies(["node", "skin"]).then(function(t) {
                var a = new THREE.Scene;
                void 0 !== i.name && (a.name = i.name), i.extras && (a.userData = i.extras);
                for (var s = i.nodes || [], l = 0, u = s.length; l < u; l++) e(s[l], a, n, t.nodes, t.skins);
                if (i.extensions && i.extensions[r.KHR_LIGHTS] && void 0 !== i.extensions[r.KHR_LIGHTS].light) {
                    var c = o[r.KHR_LIGHTS].lights;
                    a.add(c[i.extensions[r.KHR_LIGHTS].light])
                }
                return a
            })
        }
    }();
    var S = o;
    t.default = S, e.exports = t.default
}, function(e, t) {
    e.exports = function() {
        return new Worker("/4ef6a5e3709c2c16c840.worker.js")
    }
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = n(29),
            a = n(3);

        function s(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var l, u, c, f, p, d, h = (0, a.getLogger)("EventWorker", a.INFO, !1),
            y = (l = (r = function() {
                function e(t) {
                    ! function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, e), this._ctx = t, this._binded = !1, this._listeners = []
                }
                var t, n;
                return t = e, (n = [{
                    key: "add",
                    value: function(e, t) {
                        this._binded || this._bind(), this._listeners.push({
                            eventName: e,
                            cb: t
                        }), h("'".concat(e, "' added"))
                    }
                }, {
                    key: "addOnce",
                    value: function(e) {
                        var t = (0, i.defer)();
                        return this._binded || this._bind(), this._listeners.push({
                            eventName: e,
                            cb: t.resolve
                        }), h("'".concat(e, "' added once")), t.promise
                    }
                }, {
                    key: "remove",
                    value: function(e) {
                        var t = this._getListener(e),
                            n = this._listeners.indexOf(t);
                        n > -1 && this._listeners.splice(n, 1), h("'".concat(e, "' removed"))
                    }
                }, {
                    key: "dispatch",
                    value: function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
                        this._ctx.postMessage({
                            eventName: e,
                            payload: t
                        }), h("'".concat(e, "' dispatched with payload :"), t)
                    }
                }, {
                    key: "_bind",
                    value: function() {
                        this._binded = !0, this._ctx.addEventListener("message", this._onWorkerMessage)
                    }
                }, {
                    key: "_getListener",
                    value: function(e) {
                        for (var t = 0, n = this._listeners.length; t < n; t++) {
                            var o = this._listeners[t];
                            if (o.eventName === e) return o
                        }
                        return null
                    }
                }, {
                    key: "_onWorkerMessage",
                    value: function(e) {
                        for (var t = e.data, n = t.eventName, o = t.payload || null, r = 0, i = this._listeners.length; r < i; r++) {
                            var a = this._listeners[r];
                            a.eventName === n && a.cb(o)
                        }
                    }
                }]) && s(t.prototype, n), e
            }()).prototype, u = "_onWorkerMessage", c = [o], f = Object.getOwnPropertyDescriptor(r.prototype, "_onWorkerMessage"), p = r.prototype, d = {}, Object.keys(f).forEach(function(e) {
                d[e] = f[e]
            }), d.enumerable = !!d.enumerable, d.configurable = !!d.configurable, ("value" in d || d.initializer) && (d.writable = !0), d = c.slice().reverse().reduce(function(e, t) {
                return t(l, u, e) || e
            }, d), p && void 0 !== d.initializer && (d.value = d.initializer ? d.initializer.call(p) : void 0, d.initializer = void 0), void 0 === d.initializer && (Object.defineProperty(l, u, d), d = null), r);
        t.default = y, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o, r = (o = n(551)) && o.__esModule ? o : {
        default: o
    };

    function i(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var a = function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._worker = null, this._initialized = !1
        }
        var t, n;
        return t = e, (n = [{
            key: "add",
            value: function() {
                var e;
                return (e = this._eventWorker).add.apply(e, arguments)
            }
        }, {
            key: "addOnce",
            value: function() {
                var e;
                return (e = this._eventWorker).addOnce.apply(e, arguments)
            }
        }, {
            key: "dispatch",
            value: function() {
                var e;
                (e = this._eventWorker).dispatch.apply(e, arguments)
            }
        }, {
            key: "destroy",
            value: function() {
                this._worker.terminate()
            }
        }, {
            key: "_init",
            value: function() {
                this._initialized || (this._initialized = !0, this._eventWorker = new r.default(this._worker))
            }
        }, {
            key: "worker",
            get: function() {
                return this._worker
            },
            set: function(e) {
                this._worker = e, this._init()
            }
        }]) && i(t.prototype, n), e
    }();
    t.default = a, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = i(n(552)),
        r = i(n(550));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function a(e) {
        return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var l = function() {},
        u = new(function(e) {
            function t() {
                var e;
                return function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), (e = function(e, t) {
                    if (t && ("object" === a(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this))).worker = new r.default, e
            }
            var n, i;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, o.default), n = t, (i = [{
                key: "load",
                value: function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : l;
                    return this.dispatch("load", e), this.add("progress:".concat(e), t), this.addOnce("loaded:".concat(e))
                }
            }, {
                key: "abort",
                value: function(e) {
                    this.dispatch("abort", e), this._eventWorker.remove("loaded:".concat(e)), this._eventWorker.remove("progress:".concat(e))
                }
            }]) && s(n.prototype, i), t
        }());
    t.default = u, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = a(n(68)),
        r = a(n(514)),
        i = a(n(513));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var l = function() {
        function e(t) {
            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._renderer = t, this._readBuffer = null, this._writeBuffer = null, null !== this._renderer && (this._renderer.autoClear = !1, this._readBuffer = this._createBuffer(n.depthBuffer, n.stencilBuffer, n.depthTexture), this._writeBuffer = this._readBuffer.clone()), this._passes = [], this._copyPass = new o.default
        }
        var t, n;
        return t = e, (n = [{
            key: "addPass",
            value: function(e, t) {
                var n = this._renderer,
                    o = n.getDrawingBufferSize();
                e.init(n, n.context.getContextAttributes().alpha), e.setSize(o.width, o.height), void 0 !== t ? this._passes.splice(t, 0, e) : this._passes.push(e), this._checkPassToRender()
            }
        }, {
            key: "destroyPass",
            value: function(e) {
                e.destroy(), this._passes.splice(this._passes.indexOf(e), 1)
            }
        }, {
            key: "getPass",
            value: function(e) {
                for (var t = 0, n = this._passes.length; t < n; t++) {
                    var o = this._passes[t];
                    if (o.name === e) return o
                }
                return null
            }
        }, {
            key: "destroyPasses",
            value: function() {
                for (var e = this._passes; e.length > 0;) e.pop().destroy()
            }
        }, {
            key: "render",
            value: function(e, t) {
                var n, o, a, s, l, u = this._passes,
                    c = this._renderer,
                    f = this._copyPass,
                    p = this._readBuffer,
                    d = this._writeBuffer,
                    h = !1;
                for (s = 0, l = u.length; s < l; ++s)(n = u[s]).enabled && (n.render(c, p, d, e, t, h), n.needsSwap && (h && ((o = c.context).stencilFunc(o.NOTEQUAL, 1, 4294967295), f.render(c, p, d), o.stencilFunc(o.EQUAL, 1, 4294967295)), a = p, p = d, d = a), n instanceof i.default ? h = !0 : n instanceof r.default && (h = !1))
            }
        }, {
            key: "reset",
            value: function(e) {
                var t = this._readBuffer.depthBuffer,
                    n = this._readBuffer.stencilBuffer,
                    o = null !== this._readBuffer.depthTexture;
                this.destroy(e ? this.createBuffer(t, n, o) : e)
            }
        }, {
            key: "destroy",
            value: function(e) {
                null !== this._readBuffer && null !== this._writeBuffer && (this._readBuffer.dispose(), this._writeBuffer.dispose(), this._readBuffer = null, this._writeBuffer = null), this.destroyPasses(), void 0 !== e ? (this._readBuffer = e, this._writeBuffer = this._readBuffer.clone()) : this._copyPass.destroy()
            }
        }, {
            key: "setSize",
            value: function(e, t) {
                var n, o, r = this._passes,
                    i = this._renderer;
                void 0 !== e && void 0 !== t || (e = (n = i.getSize()).width, t = n.height), i.setSize(e, t), o = i.getDrawingBufferSize(), this._readBuffer.setSize(o.width, o.height), this._writeBuffer.setSize(o.width, o.height);
                for (var a = 0, s = r.length; a < s; ++a) r[a].setSize(o.width, o.height)
            }
        }, {
            key: "_createBuffer",
            value: function() {
                var e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0],
                    t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                    n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                    o = this._renderer.getDrawingBufferSize(),
                    r = this._renderer.context.getContextAttributes().alpha,
                    i = new THREE.WebGLRenderTarget(o.width, o.height, {
                        minFilter: THREE.LinearFilter,
                        magFilter: THREE.LinearFilter,
                        format: r ? THREE.RGBAFormat : THREE.RGBFormat,
                        depthBuffer: e,
                        stencilBuffer: t,
                        depthTexture: n ? new THREE.DepthTexture : null,
                        generateMipmaps: !1
                    });
                return n && t && (i.depthTexture.format = THREE.DepthStencilFormat, i.depthTexture.type = THREE.UnsignedInt248Type), i
            }
        }, {
            key: "_checkPassToRender",
            value: function() {
                for (var e = 0, t = this._passes.length; e < t; e++) {
                    var n = this._passes[e];
                    n.renderToScreen = !1, e === t - 1 && (n.renderToScreen = !0)
                }
            }
        }, {
            key: "passes",
            get: function() {
                return this._passes
            }
        }]) && s(t.prototype, n), e
    }();
    t.default = l, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = f(n(554)),
            a = f(n(17)),
            s = f(n(19)),
            l = f(n(86)),
            u = f(n(28)),
            c = f(n(65));

        function f(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function p(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var d, h, y, v, _, m, g = (0, n(3).getLogger)("PostProcessing", "#2849cc", !1),
            b = (d = (r = function() {
                function e(t) {
                    ! function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, e), this._renderer = t, this._enabled = !1, this._scene = null, this._camera = null, this._gui = a.default, this._composer = new i.default(this._renderer), this._bind()
                }
                var t, n;
                return t = e, (n = [{
                    key: "addPass",
                    value: function(e, t) {
                        this._composer.addPass(e, t)
                    }
                }, {
                    key: "removePass",
                    value: function(e) {
                        this._composer.removePass(e)
                    }
                }, {
                    key: "getPass",
                    value: function(e) {
                        return this._composer.getPass(e)
                    }
                }, {
                    key: "destroyPasses",
                    value: function() {
                        this._composer.destroyPasses()
                    }
                }, {
                    key: "setSize",
                    value: function(e, t) {
                        this._composer.setSize(e, t)
                    }
                }, {
                    key: "update",
                    value: function(e, t) {
                        var n = this._scene,
                            o = this._camera;
                        n && o && (this._enabled ? this._composer.render(e, t) : this._renderer.render(n, o), l.default.setShadowUpdate(!1))
                    }
                }, {
                    key: "destroy",
                    value: function() {
                        this._unbind(), this._destroyGUI(), this._composer.destroy()
                    }
                }, {
                    key: "_bind",
                    value: function() {
                        s.default.resized.add(this._handleWindowResize)
                    }
                }, {
                    key: "_unbind",
                    value: function() {
                        s.default.resized.remove(this._handleWindowResize)
                    }
                }, {
                    key: "_createGUI",
                    value: function() {
                        var e = this;
                        this._guiFolder = this._gui.addFolder("Post-processing"), this._guiEnabledCtrl = this._guiFolder.add(this, "_enabled").name("Enabled");
                        var t = c.default[this._scene.name];
                        if (t) {
                            var n = t.common.postProcessing,
                                o = this.getPass("PostPass"),
                                r = n.postPass,
                                i = this._guiFolder.addFolder("PostPass");
                            i.add(r, "outlineThickness").name("Outline thickness").onChange(function(e) {
                                o.outlineThickness = e
                            }), i.addColor(r, "bloomColor").name("Bloom color").onChange(function(e) {
                                o.bloomColor = new THREE.Color(e)
                            }), i.add(r, "vignette", 0, 10, .1).name("Vignette").onChange(function(e) {
                                o.vignette = e
                            }), i.add(r, "brightness", 0, 5, .001).name("Brightness").onChange(function(e) {
                                o.brightness = e
                            }), i.add(r, "saturation", 0, 5, .001).name("Saturation").onChange(function(e) {
                                o.saturation = e
                            }), i.add(r, "contrast", 0, 5, .001).name("Contrast").onChange(function(e) {
                                o.contrast = e
                            });
                            var a = i.addFolder("Noise");
                            if (a.add(r.noise, "amount", 0, 5, .001).name("Amount").onChange(function(e) {
                                    o.noise = {
                                        amount: e
                                    }
                                }), a.add(r.noise, "speed", 0, 50, .1).name("Speed").onChange(function(e) {
                                    o.noise = {
                                        speed: e
                                    }
                                }), u.default.isHigh) {
                                var s = this.getPass("BloomPass"),
                                    l = n.bloomPass,
                                    f = this._guiFolder.addFolder("BloomPass");
                                f.add(l, "resolutionScale", 0, 1, .01).onChange(function(t) {
                                    s.resolutionScale = t, e._scene._renderer.postProcessing._composer.setSize()
                                }), f.add(l, "kernelSize", 0, 5, 1).onChange(function(e) {
                                    s.kernelSize = e
                                }), f.add(l, "intensity", 0, 5, .01).onChange(function(e) {
                                    s.intensity = e
                                }), f.add(l, "distinction", 0, 10, .01).onChange(function(e) {
                                    s.distinction = e
                                }), f.add(l, "blend").onChange(function(e) {
                                    s.blend = e
                                }), f.add(l, "screenMode").onChange(function(e) {
                                    s.screenMode = e
                                })
                            }
                        }
                    }
                }, {
                    key: "_destroyGUI",
                    value: function() {
                        this._guiFolder && this._gui.removeFolder(this._guiFolder)
                    }
                }, {
                    key: "_handleWindowResize",
                    value: function(e, t) {
                        this.setSize(e, t)
                    }
                }, {
                    key: "enabled",
                    get: function() {
                        return this._enabled
                    },
                    set: function(e) {
                        e !== this._enabled && (g(e ? "Enabled" : "Disabled"), this._enabled = e, this._guiEnabledCtrl && this._guiEnabledCtrl.updateDisplay())
                    }
                }, {
                    key: "scene",
                    set: function(e) {
                        this._scene = e, this._guiFolder && this._destroyGUI(), this._createGUI()
                    }
                }, {
                    key: "camera",
                    set: function(e) {
                        this._camera = e
                    }
                }]) && p(t.prototype, n), e
            }()).prototype, h = "_handleWindowResize", y = [o], v = Object.getOwnPropertyDescriptor(r.prototype, "_handleWindowResize"), _ = r.prototype, m = {}, Object.keys(v).forEach(function(e) {
                m[e] = v[e]
            }), m.enumerable = !!m.enumerable, m.configurable = !!m.configurable, ("value" in m || m.initializer) && (m.writable = !0), m = y.slice().reverse().reduce(function(e, t) {
                return t(d, h, e) || e
            }, m), _ && void 0 !== m.initializer && (m.value = m.initializer ? m.initializer.call(_) : void 0, m.initializer = void 0), void 0 === m.initializer && (Object.defineProperty(d, h, m), m = null), r);
        t.default = b, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = l(n(19)),
            a = l(n(4)),
            s = l(n(555));

        function l(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function u(e) {
            return (u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function c(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }

        function f(e, t, n, o, r) {
            var i = {};
            return Object.keys(o).forEach(function(e) {
                i[e] = o[e]
            }), i.enumerable = !!i.enumerable, i.configurable = !!i.configurable, ("value" in i || i.initializer) && (i.writable = !0), i = n.slice().reverse().reduce(function(n, o) {
                return o(e, t, n) || n
            }, i), r && void 0 !== i.initializer && (i.value = i.initializer ? i.initializer.call(r) : void 0, i.initializer = void 0), void 0 === i.initializer && (Object.defineProperty(e, t, i), i = null), i
        }
        var p = (f((r = function(e) {
            function t() {
                var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {
                    antialias: !1,
                    alpha: !0,
                    powerPreference: "high-performance"
                };
                return function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), (e = function(e, t) {
                    if (t && ("object" === u(t) || "function" == typeof t)) return t;
                    if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, n)))._signals = a.default, e._postProcessing = null, e.setPixelRatio(1), e.setClearColor(0, 0), e._bind(), e._setSize(), e._createPostProcessing(), e
            }
            var n, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, THREE.WebGLRenderer), n = t, (o = [{
                key: "update",
                value: function(e, t) {
                    this._postProcessing.update(e, t)
                }
            }, {
                key: "destroy",
                value: function() {
                    this._unbind(), this.dispose(), this._postProcessing.destroy()
                }
            }, {
                key: "_bind",
                value: function() {
                    i.default.resized.add(this._handleWindowResize), this._signals.scene.changed.add(this._handleSceneChanged), this._signals.camera.changed.add(this._handleCameraChanged)
                }
            }, {
                key: "_unbind",
                value: function() {
                    i.default.resized.remove(this._handleWindowResize), this._signals.scene.changed.remove(this._handleSceneChanged), this._signals.camera.changed.remove(this._handleCameraChanged)
                }
            }, {
                key: "_setSize",
                value: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : i.default.width,
                        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : i.default.height;
                    this.setSize(e, t)
                }
            }, {
                key: "_createPostProcessing",
                value: function() {
                    this._postProcessing = new s.default(this)
                }
            }, {
                key: "_handleWindowResize",
                value: function(e, t) {
                    this._setSize(e, t)
                }
            }, {
                key: "_handleSceneChanged",
                value: function(e, t) {
                    this._postProcessing.scene = e, this._postProcessing.camera = t
                }
            }, {
                key: "_handleCameraChanged",
                value: function(e) {
                    this._postProcessing.camera = e
                }
            }, {
                key: "postProcessing",
                get: function() {
                    return this._postProcessing
                }
            }, {
                key: "pixelRatio",
                set: function(e) {
                    this.setPixelRatio(e);
                    var t = this.getSize(),
                        n = t.width,
                        o = t.height;
                    this._postProcessing.setSize(n, o)
                }
            }]) && c(n.prototype, o), t
        }()).prototype, "_handleWindowResize", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleWindowResize"), r.prototype), f(r.prototype, "_handleSceneChanged", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleSceneChanged"), r.prototype), f(r.prototype, "_handleCameraChanged", [o], Object.getOwnPropertyDescriptor(r.prototype, "_handleCameraChanged"), r.prototype), r);
        t.default = p, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = a(n(29)),
        r = a(n(17)),
        i = a(n(4));

    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }

    function s(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    var l = function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._initialized = !1, this._running = !1, this._paused = !1, this._binded = !1, this._gui = r.default, this._guiFolder = null, this._createGUI()
        }
        var t, n;
        return t = e, (n = [{
            key: "bind",
            value: function() {
                this._binded || (this._binded = !0, this._bind())
            }
        }, {
            key: "unbind",
            value: function() {
                this._binded && (this._binded = !1, this._unbind())
            }
        }, {
            key: "init",
            value: function() {
                if (this._initialized) return (0, o.default)();
                this._initialized = !0, this._init.apply(this, arguments), i.default.context.initialized.dispatch()
            }
        }, {
            key: "destroy",
            value: function() {
                if (!this._initialized) return (0, o.default)();
                this._initialized = !1, this.sleep(), this._destroy.apply(this, arguments)
            }
        }, {
            key: "wakeUp",
            value: function() {
                var e = this;
                if (this._running && !this._paused) return (0, o.default)();
                this.init(), this.bind();
                var t = this._wakeUp.apply(this, arguments);
                return t.then(function() {
                    e._running = !0, e._paused = !1
                }), t
            }
        }, {
            key: "sleep",
            value: function() {
                var e = this;
                if (!this._running) return (0, o.default)();
                this.unbind();
                var t = this._sleep.apply(this, arguments);
                return t.then(function() {
                    e._running = !1, e._paused = !1
                }), t
            }
        }, {
            key: "pause",
            value: function() {
                return this._paused ? (0, o.default)() : (this._paused = !0, this._pause.apply(this, arguments))
            }
        }, {
            key: "resume",
            value: function() {
                return this._paused ? (this._paused = !1, this._resume.apply(this, arguments)) : (0, o.default)()
            }
        }, {
            key: "_init",
            value: function() {}
        }, {
            key: "_destroy",
            value: function() {}
        }, {
            key: "_wakeUp",
            value: function() {}
        }, {
            key: "_sleep",
            value: function() {}
        }, {
            key: "_pause",
            value: function() {}
        }, {
            key: "_resume",
            value: function() {}
        }, {
            key: "_bind",
            value: function() {}
        }, {
            key: "_unbind",
            value: function() {}
        }, {
            key: "_createGUI",
            value: function() {}
        }, {
            key: "_destroyGUI",
            value: function() {
                this._guiFolder && r.default.removeFolder(this._guiFolder)
            }
        }, {
            key: "initialized",
            get: function() {
                return this._initialized
            }
        }, {
            key: "running",
            get: function() {
                return this._running
            }
        }, {
            key: "paused",
            get: function() {
                return this._paused
            }
        }, {
            key: "binded",
            get: function() {
                return this._binded
            }
        }]) && s(t.prototype, n), e
    }();
    t.default = l, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var o = Object.assign || function(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
        }
        return e
    };
    t.default = function(e, t, n) {
        var s = t.name,
            l = void 0 === s ? null : s,
            u = t.capitalize,
            c = void 0 !== u && u,
            f = t.styles,
            p = void 0 === f ? {} : f,
            d = "",
            h = {};
        return l && (c && (l = (0, r.capitalize)(l)), d = "[" + l + "]", h = o({}, i, a[n.name], p || {})), {
            before: d,
            styles: h
        }
    };
    var r = n(190),
        i = {
            color: "white",
            background: "#000000",
            padding: "3px 5px"
        },
        a = {
            log: {
                background: "#000000"
            },
            info: {
                background: "#219bff"
            },
            warn: {
                background: "#ffea2d",
                color: "inherit"
            },
            error: {
                background: "#e52d34"
            }
        };
    e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e, t, n) {
        var r = new Date;
        return {
            before: "[" + o(r.getHours()) + ":" + o(r.getMinutes()) + ":" + o(r.getSeconds()) + "]"
        }
    };
    var o = function(e) {
        return ("0" + e).slice(-2)
    };
    e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var o = i(n(559)),
        r = i(n(558));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t.default = {
        time: o.default,
        namespace: r.default
    }, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        },
        r = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        },
        i = function() {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var o = t[n];
                    o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
                }
            }
            return function(t, n, o) {
                return n && e(t.prototype, n), o && e(t, o), t
            }
        }(),
        a = n(190);

    function s(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }
    var l = function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._enabled = !0, this._defaultsLevels = {
                log: {},
                info: {},
                warn: {},
                error: {}
            }, this._levels = {
                log: {},
                info: {},
                warn: {},
                error: {}
            }, this._commands = ["group", "time"], this._plugins = {}, this._logHandler = null, this._bindLevels(), this._bindCommands()
        }
        return i(e, [{
            key: "on",
            value: function() {
                return this._enabled = !0, this
            }
        }, {
            key: "off",
            value: function() {
                return this._enabled = !1, this
            }
        }, {
            key: "reset",
            value: function() {
                this._levels = {
                    log: {},
                    info: {},
                    warn: {},
                    error: {}
                }, this._plugins = {}, this._bindLevels()
            }
        }, {
            key: "br",
            value: function() {
                return this._print("log", {}, ""), this
            }
        }, {
            key: "level",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return "string" != typeof e ? this._printError("Logger.level() : 'name' argument is required") : (void 0 !== this._levels[e] ? this._levels[e] = r({}, this._levels[e], t) : this._levels[e] = t, this._bindLevel(e, t), this)
            }
        }, {
            key: "plugin",
            value: function(e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                return "string" != typeof e ? this._printError("Logger.plugin() : 'name' argument is required") : void 0 !== this._plugins[e] && "object" === (void 0 === t ? "undefined" : o(t)) && null !== t ? (this._plugins[e].options = r({}, this._plugins[e].options, t), this) : "function" != typeof t ? this._printError("Logger.plugin() : 'fn' argument must be a function") : (this._plugins[e] = {
                    fn: t.bind(this),
                    options: r({
                        enabled: !0
                    }, n)
                }, this)
            }
        }, {
            key: "setHandler",
            value: function(e) {
                return this._logHandler = e, this
            }
        }, {
            key: "_bindLevels",
            value: function() {
                for (var e in this._levels) {
                    var t = this._levels[e];
                    this._bindLevel(e, t)
                }
            }
        }, {
            key: "_bindLevel",
            value: function(e, t) {
                var n = this;
                this[e] = function() {
                    for (var o = arguments.length, r = Array(o), i = 0; i < o; i++) r[i] = arguments[i];
                    return n._levelCallback(e, t, r)
                }
            }
        }, {
            key: "_levelCallback",
            value: function(e, t, n) {
                if (this._enabled) {
                    var o = n;
                    null !== this._logHandler && this._logHandler(o);
                    var r = this._applyPlugins(e, t, o),
                        i = r.msgs,
                        a = r.before,
                        s = r.after,
                        l = r.styles;
                    return this._print(e, t, i, a, s, l)
                }
            }
        }, {
            key: "_bindCommands",
            value: function() {
                for (var e = this, t = function(t, n) {
                        var o = e._commands[t];
                        e[o] = function(e) {
                            return console[o](e)
                        }, e[o + "End"] = function(e) {
                            return console[o + "End"](e)
                        }
                    }, n = 0, o = this._commands.length; n < o; n++) t(n)
            }
        }, {
            key: "_applyPlugins",
            value: function(e, t, n) {
                var o = [],
                    r = [],
                    i = [];
                for (var a in this._plugins) {
                    var s = this._plugins[a],
                        l = {
                            name: e,
                            options: t
                        };
                    if (s.options.enabled) {
                        var u = s.fn(n, s.options, l),
                            c = u.msgs,
                            f = u.before,
                            p = u.after,
                            d = u.styles;
                        c && (n = c), f && (r = r.concat("<styles>" + f + "</styles>")), p && (i = i.concat(p)), o = o.concat(d || {})
                    }
                }
                return {
                    msgs: n,
                    before: r,
                    after: i,
                    styles: o
                }
            }
        }, {
            key: "_print",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                    n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [],
                    o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : [],
                    r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : [],
                    i = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : {},
                    l = [],
                    u = [];
                t.styles && (i = this._mergeStyles(t.styles, i)), i = this._parsePluginsStyles(i), u = u.concat(i), t.styles && (u.push(this._parseStyles(t.styles)), u.push("")), o.length && l.push(this._parseMsgTags(o).join(" "));
                var c = this._sortMsgs(n),
                    f = c.stringMsgs,
                    p = c.othersMsgs;
                t.styles && (f[0] = "<styles>" + f[0], f[f.length - 1] += "</styles>"), l.push(this._parseMsgTags(f).join(" ")), r.length && l.push(this._parseMsgTags(r).join(" ")), l = l.join(" "), (0, a.isBrowser)() || (l = l.replace(/%c/g, ""));
                var d = [l];
                return (0, a.isBrowser)() ? d.push.apply(d, s(u).concat(s(p))) : d.push.apply(d, s(p)), "undefined" == typeof console ? this : (void 0 !== this._defaultsLevels[e] ? console[e].apply(console, d) : console.log.apply(console, d), "error" !== e && "warn" !== e)
            }
        }, {
            key: "_mergeStyles",
            value: function(e, t) {
                for (var n = [], o = 0, i = t.length; o < i; o++) {
                    var a = t[o];
                    n.push(r({}, a, e))
                }
                return n
            }
        }, {
            key: "_parseStyles",
            value: function(e) {
                var t = "";
                for (var n in e) {
                    var o = e[n];
                    t += (0, a.camelToKebab)(n) + ": " + o + ";"
                }
                return t
            }
        }, {
            key: "_parsePluginsStyles",
            value: function(e) {
                for (var t = [], n = 0, o = e.length; n < o; n++) {
                    var r = e[n];
                    t.push(this._parseStyles(r)), t.push("")
                }
                return t
            }
        }, {
            key: "_parseMsgTags",
            value: function(e) {
                for (var t = 0, n = e.length; t < n; t++) "string" == typeof e[t] && (e[t] = e[t].replace(/<(\/)?styles>/gi, "%c"));
                return e
            }
        }, {
            key: "_sortMsgs",
            value: function(e) {
                for (var t = [], n = [], o = 0, r = e.length; o < r; o++) {
                    var i = e[o];
                    "string" == typeof i ? t.push(i) : n.push(i)
                }
                return {
                    stringMsgs: t,
                    othersMsgs: n
                }
            }
        }, {
            key: "_printError",
            value: function(e) {
                this.reset(), this.error(e)
            }
        }]), e
    }();
    t.default = l, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.plugins = t.Logger = void 0;
    var o = i(n(561)),
        r = i(n(560));

    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    t.Logger = o.default, t.plugins = r.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var o = n(562),
        r = new o.Logger;
    r.plugin("namespace", o.plugins.namespace, {
        name: "quark-raf"
    }), t.default = r, e.exports = t.default
}, function(e, t, n) {
    (function(t) {
        (function() {
            var n, o, r, i, a, s;
            "undefined" != typeof performance && null !== performance && performance.now ? e.exports = function() {
                return performance.now()
            } : void 0 !== t && null !== t && t.hrtime ? (e.exports = function() {
                return (n() - a) / 1e6
            }, o = t.hrtime, i = (n = function() {
                var e;
                return 1e9 * (e = o())[0] + e[1]
            })(), s = 1e9 * t.uptime(), a = i - s) : Date.now ? (e.exports = function() {
                return Date.now() - r
            }, r = Date.now()) : (e.exports = function() {
                return (new Date).getTime() - r
            }, r = (new Date).getTime())
        }).call(this)
    }).call(this, n(38))
}, function(e, t, n) {
    (function(t) {
        for (var o = n(564), r = "undefined" == typeof window ? t : window, i = ["moz", "webkit"], a = "AnimationFrame", s = r["request" + a], l = r["cancel" + a] || r["cancelRequest" + a], u = 0; !s && u < i.length; u++) s = r[i[u] + "Request" + a], l = r[i[u] + "Cancel" + a] || r[i[u] + "CancelRequest" + a];
        if (!s || !l) {
            var c = 0,
                f = 0,
                p = [];
            s = function(e) {
                if (0 === p.length) {
                    var t = o(),
                        n = Math.max(0, 1e3 / 60 - (t - c));
                    c = n + t, setTimeout(function() {
                        var e = p.slice(0);
                        p.length = 0;
                        for (var t = 0; t < e.length; t++)
                            if (!e[t].cancelled) try {
                                e[t].callback(c)
                            } catch (e) {
                                setTimeout(function() {
                                    throw e
                                }, 0)
                            }
                    }, Math.round(n))
                }
                return p.push({
                    handle: ++f,
                    callback: e,
                    cancelled: !1
                }), f
            }, l = function(e) {
                for (var t = 0; t < p.length; t++) p[t].handle === e && (p[t].cancelled = !0)
            }
        }
        e.exports = function(e) {
            return s.call(r, e)
        }, e.exports.cancel = function() {
            l.apply(r, arguments)
        }, e.exports.polyfill = function(e) {
            e || (e = r), e.requestAnimationFrame = s, e.cancelAnimationFrame = l
        }
    }).call(this, n(18))
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = "function" == typeof importScripts;
    t.default = o, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    e.exports = {
        shuffle: function(e) {
            for (var t, n, o = e.length; 0 != o;) n = Math.floor(Math.random() * o), t = e[--o], e[o] = e[n], e[n] = t;
            return e
        },
        sort: function(e) {
            for (var t = [], n = -1, o = -1, r = 0, i = e.length; r < i; r++) {
                t[n = t.length] = e[r];
                for (var a = 0, s = t.length; a < s; a++) t[n] < t[a] && (o = t[a], t[a] = t[n], t[n] = o)
            }
            return t
        },
        sortObjects: function(e, t) {
            for (var n = [], o = -1, r = -1, i = 0, a = e.length; i < a; i++) {
                n[o = n.length] = e[i];
                for (var s = 0, l = n.length; s < l; s++) n[o][t] < n[s][t] && (r = n[s], n[s] = n[o], n[o] = r)
            }
            return n
        },
        inverse: function(e) {
            for (var t = [], n = e.length - 1; n >= 0; n--) t.push(e[n]);
            return t
        },
        unique: function(e) {
            for (var t = [], n = 0, o = e.length; n < o; n++) - 1 === t.indexOf(e[n]) && t.push(e[n]);
            return t
        },
        chunk: function(e, t) {
            const n = [];
            for (var o = 0, r = e.length; o < r; o += t) n.push(e.slice(o, o + t));
            return n
        }
    }
}, function(e, t) {
    ! function() {
        "use strict";
        var t = "undefined" != typeof window && void 0 !== window.document ? window.document : {},
            n = void 0 !== e && e.exports,
            o = "undefined" != typeof Element && "ALLOW_KEYBOARD_INPUT" in Element,
            r = function() {
                for (var e, n = [
                        ["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror"],
                        ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror"],
                        ["webkitRequestFullScreen", "webkitCancelFullScreen", "webkitCurrentFullScreenElement", "webkitCancelFullScreen", "webkitfullscreenchange", "webkitfullscreenerror"],
                        ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror"],
                        ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError"]
                    ], o = 0, r = n.length, i = {}; o < r; o++)
                    if ((e = n[o]) && e[1] in t) {
                        for (o = 0; o < e.length; o++) i[n[0][o]] = e[o];
                        return i
                    }
                return !1
            }(),
            i = {
                change: r.fullscreenchange,
                error: r.fullscreenerror
            },
            a = {
                request: function(e) {
                    var n = r.requestFullscreen;
                    e = e || t.documentElement, / Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent) ? e[n]() : e[n](o && Element.ALLOW_KEYBOARD_INPUT)
                },
                exit: function() {
                    t[r.exitFullscreen]()
                },
                toggle: function(e) {
                    this.isFullscreen ? this.exit() : this.request(e)
                },
                onchange: function(e) {
                    this.on("change", e)
                },
                onerror: function(e) {
                    this.on("error", e)
                },
                on: function(e, n) {
                    var o = i[e];
                    o && t.addEventListener(o, n, !1)
                },
                off: function(e, n) {
                    var o = i[e];
                    o && t.removeEventListener(o, n, !1)
                },
                raw: r
            };
        r ? (Object.defineProperties(a, {
            isFullscreen: {
                get: function() {
                    return Boolean(t[r.fullscreenElement])
                }
            },
            element: {
                enumerable: !0,
                get: function() {
                    return t[r.fullscreenElement]
                }
            },
            enabled: {
                enumerable: !0,
                get: function() {
                    return Boolean(t[r.fullscreenEnabled])
                }
            }
        }), n ? e.exports = a : window.screenfull = a) : n ? e.exports = !1 : window.screenfull = !1
    }()
}, function(e, t, n) {
    "use strict";
    e.exports = function(e) {
        var t, n = function(e) {
            return null != e.hidden ? "" : null != e.mozHidden ? "moz" : null != e.msHidden ? "ms" : null != e.webkitHidden ? "webkit" : void 0
        }(e);
        if (null != n) return {
            hidden: (t = n + "Hidden", t.substring(0, 1).toLowerCase() + t.substring(1)),
            event: n + "visibilitychange"
        }
    }
}, function(e, t) {
    e.exports = function() {
        var e = [];
        return {
            broadcast: function(t) {
                for (var n = 0; n < e.length; n++) e[n](t)
            },
            listen: function(t) {
                return e.push(t),
                    function() {
                        var n = e.indexOf(t); - 1 !== n && e.splice(n, 1)
                    }
            }
        }
    }
}, function(e, t, n) {
    var o = n(570);
    e.exports = function(e) {
        var t = o();
        return e(t.broadcast), t.listen
    }
}, function(e, t) {}, function(e, t, n) {
    (function(t) {
        var o, r = void 0 !== t ? t : "undefined" != typeof window ? window : {},
            i = n(572);
        "undefined" != typeof document ? o = document : (o = r["__GLOBAL_DOCUMENT_CACHE@4"]) || (o = r["__GLOBAL_DOCUMENT_CACHE@4"] = i), e.exports = o
    }).call(this, n(18))
}, function(e, t, n) {
    "use strict";
    var o = n(573),
        r = n(571),
        i = n(569);

    function a() {}
    e.exports = function() {
        var e = i(o);
        return e ? {
            visible: t,
            onChange: r(function(n) {
                o.addEventListener(e.event, function() {
                    n(t())
                })
            })
        } : {
            visible: function() {
                return !0
            },
            onChange: a
        };

        function t() {
            return !o[e.hidden]
        }
    }
}, function(e, t, n) {
    (function(t) {
        var n = NaN,
            o = "[object Symbol]",
            r = /^\s+|\s+$/g,
            i = /^[-+]0x[0-9a-f]+$/i,
            a = /^0b[01]+$/i,
            s = /^0o[0-7]+$/i,
            l = parseInt,
            u = "object" == typeof t && t && t.Object === Object && t,
            c = "object" == typeof self && self && self.Object === Object && self,
            f = u || c || Function("return this")(),
            p = Object.prototype.toString,
            d = Math.max,
            h = Math.min,
            y = function() {
                return f.Date.now()
            };

        function v(e) {
            var t = typeof e;
            return !!e && ("object" == t || "function" == t)
        }

        function _(e) {
            if ("number" == typeof e) return e;
            if (function(e) {
                    return "symbol" == typeof e || function(e) {
                        return !!e && "object" == typeof e
                    }(e) && p.call(e) == o
                }(e)) return n;
            if (v(e)) {
                var t = "function" == typeof e.valueOf ? e.valueOf() : e;
                e = v(t) ? t + "" : t
            }
            if ("string" != typeof e) return 0 === e ? e : +e;
            e = e.replace(r, "");
            var u = a.test(e);
            return u || s.test(e) ? l(e.slice(2), u ? 2 : 8) : i.test(e) ? n : +e
        }
        e.exports = function(e, t, n) {
            var o, r, i, a, s, l, u = 0,
                c = !1,
                f = !1,
                p = !0;
            if ("function" != typeof e) throw new TypeError("Expected a function");

            function m(t) {
                var n = o,
                    i = r;
                return o = r = void 0, u = t, a = e.apply(i, n)
            }

            function g(e) {
                var n = e - l;
                return void 0 === l || n >= t || n < 0 || f && e - u >= i
            }

            function b() {
                var e = y();
                if (g(e)) return w(e);
                s = setTimeout(b, function(e) {
                    var n = t - (e - l);
                    return f ? h(n, i - (e - u)) : n
                }(e))
            }

            function w(e) {
                return s = void 0, p && o ? m(e) : (o = r = void 0, a)
            }

            function x() {
                var e = y(),
                    n = g(e);
                if (o = arguments, r = this, l = e, n) {
                    if (void 0 === s) return function(e) {
                        return u = e, s = setTimeout(b, t), c ? m(e) : a
                    }(l);
                    if (f) return s = setTimeout(b, t), m(l)
                }
                return void 0 === s && (s = setTimeout(b, t)), a
            }
            return t = _(t) || 0, v(n) && (c = !!n.leading, i = (f = "maxWait" in n) ? d(_(n.maxWait) || 0, t) : i, p = "trailing" in n ? !!n.trailing : p), x.cancel = function() {
                void 0 !== s && clearTimeout(s), u = 0, o = l = r = s = void 0
            }, x.flush = function() {
                return void 0 === s ? a : w(y())
            }, x
        }
    }).call(this, n(18))
}, function(e, t) {
    function n(e) {
        if (e && "object" == typeof e) {
            var t = e.which || e.keyCode || e.charCode;
            t && (e = t)
        }
        if ("number" == typeof e) return a[e];
        var n, i = String(e);
        return (n = o[i.toLowerCase()]) ? n : (n = r[i.toLowerCase()]) || (1 === i.length ? i.charCodeAt(0) : void 0)
    }
    n.isEventKey = function(e, t) {
        if (e && "object" == typeof e) {
            var n = e.which || e.keyCode || e.charCode;
            if (null === n || void 0 === n) return !1;
            if ("string" == typeof t) {
                var i;
                if (i = o[t.toLowerCase()]) return i === n;
                if (i = r[t.toLowerCase()]) return i === n
            } else if ("number" == typeof t) return t === n;
            return !1
        }
    };
    var o = (t = e.exports = n).code = t.codes = {
            backspace: 8,
            tab: 9,
            enter: 13,
            shift: 16,
            ctrl: 17,
            alt: 18,
            "pause/break": 19,
            "caps lock": 20,
            esc: 27,
            space: 32,
            "page up": 33,
            "page down": 34,
            end: 35,
            home: 36,
            left: 37,
            up: 38,
            right: 39,
            down: 40,
            insert: 45,
            delete: 46,
            command: 91,
            "left command": 91,
            "right command": 93,
            "numpad *": 106,
            "numpad +": 107,
            "numpad -": 109,
            "numpad .": 110,
            "numpad /": 111,
            "num lock": 144,
            "scroll lock": 145,
            "my computer": 182,
            "my calculator": 183,
            ";": 186,
            "=": 187,
            ",": 188,
            "-": 189,
            ".": 190,
            "/": 191,
            "`": 192,
            "[": 219,
            "\\": 220,
            "]": 221,
            "'": 222
        },
        r = t.aliases = {
            windows: 91,
            "⇧": 16,
            "⌥": 18,
            "⌃": 17,
            "⌘": 91,
            ctl: 17,
            control: 17,
            option: 18,
            pause: 19,
            break: 19,
            caps: 20,
            return: 13,
            escape: 27,
            spc: 32,
            spacebar: 32,
            pgup: 33,
            pgdn: 34,
            ins: 45,
            del: 46,
            cmd: 91
        };
    for (i = 97; i < 123; i++) o[String.fromCharCode(i)] = i - 32;
    for (var i = 48; i < 58; i++) o[i - 48] = i;
    for (i = 1; i < 13; i++) o["f" + i] = i + 111;
    for (i = 0; i < 10; i++) o["numpad " + i] = i + 96;
    var a = t.names = t.title = {};
    for (i in o) a[o[i]] = i;
    for (var s in r) o[s] = r[s]
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var o = function() {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var o = t[n];
                    o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
                }
            }
            return function(t, n, o) {
                return n && e(t.prototype, n), o && e(t, o), t
            }
        }(),
        r = function() {
            function e() {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this._data = {}
            }
            return o(e, [{
                key: "getItem",
                value: function(e) {
                    return this._data.hasOwnProperty(e) ? this._data[e] : null
                }
            }, {
                key: "setItem",
                value: function(e, t) {
                    return this._data[e] = String(t)
                }
            }, {
                key: "removeItem",
                value: function(e) {
                    return delete this._data[e]
                }
            }, {
                key: "clear",
                value: function() {
                    return this._data = {}
                }
            }]), e
        }();
    t.default = r
}, function(e, t, n) {
    "use strict";
    t.parse = function(e, t) {
        if ("string" != typeof e) throw new TypeError("argument str must be a string");
        for (var n = {}, r = t || {}, a = e.split(i), l = r.decode || o, u = 0; u < a.length; u++) {
            var c = a[u],
                f = c.indexOf("=");
            if (!(f < 0)) {
                var p = c.substr(0, f).trim(),
                    d = c.substr(++f, c.length).trim();
                '"' == d[0] && (d = d.slice(1, -1)), void 0 == n[p] && (n[p] = s(d, l))
            }
        }
        return n
    }, t.serialize = function(e, t, n) {
        var o = n || {},
            i = o.encode || r;
        if ("function" != typeof i) throw new TypeError("option encode is invalid");
        if (!a.test(e)) throw new TypeError("argument name is invalid");
        var s = i(t);
        if (s && !a.test(s)) throw new TypeError("argument val is invalid");
        var l = e + "=" + s;
        if (null != o.maxAge) {
            var u = o.maxAge - 0;
            if (isNaN(u)) throw new Error("maxAge should be a Number");
            l += "; Max-Age=" + Math.floor(u)
        }
        if (o.domain) {
            if (!a.test(o.domain)) throw new TypeError("option domain is invalid");
            l += "; Domain=" + o.domain
        }
        if (o.path) {
            if (!a.test(o.path)) throw new TypeError("option path is invalid");
            l += "; Path=" + o.path
        }
        if (o.expires) {
            if ("function" != typeof o.expires.toUTCString) throw new TypeError("option expires is invalid");
            l += "; Expires=" + o.expires.toUTCString()
        }
        if (o.httpOnly && (l += "; HttpOnly"), o.secure && (l += "; Secure"), o.sameSite) switch ("string" == typeof o.sameSite ? o.sameSite.toLowerCase() : o.sameSite) {
            case !0:
                l += "; SameSite=Strict";
                break;
            case "lax":
                l += "; SameSite=Lax";
                break;
            case "strict":
                l += "; SameSite=Strict";
                break;
            default:
                throw new TypeError("option sameSite is invalid")
        }
        return l
    };
    var o = decodeURIComponent,
        r = encodeURIComponent,
        i = /; */,
        a = /^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;

    function s(e, t) {
        try {
            return t(e)
        } catch (t) {
            return e
        }
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "localStorage",
            t = String(e).replace(/storage$/i, "").toLowerCase();
        if ("local" === t) return i("localStorage");
        if ("session" === t) return i("sessionStorage");
        if ("cookie" === t) return (0, o.hasCookies)();
        if ("memory" === t) return !0;
        throw new Error("Storage method `" + e + "` is not available.\n    Please use one of the following: localStorage, sessionStorage, cookieStorage, memoryStorage.")
    };
    var o = n(191),
        r = "__test";

    function i(e) {
        try {
            var t = window[e];
            return t.setItem(r, "1"), t.removeItem(r), !0
        } catch (e) {
            return !1
        }
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = void 0;
    var o = [{
        name: "home",
        path: "/",
        component: "Home"
    }, {
        name: "tutorial",
        path: "/tutorial",
        component: "Tutorial"
    }, {
        name: "level",
        path: "/level/:name(level-1|level-2|level-3)",
        component: "Level"
    }, {
        name: "end",
        path: "/end",
        component: "End"
    }, {
        name: "credits",
        path: "/credits",
        component: "Credits"
    }, {
        name: "catch-all",
        path: "/(.*)",
        callback: function() {
            window.location.href = "/"
        }
    }];
    t.default = o, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var o = t.startsWith = function(e, t) {
            return 0 === e.indexOf(t)
        },
        r = t.endsWith = function(e, t) {
            return e.indexOf(t, e.length - t.length) >= 0
        };
    t.addLeadingSlash = function(e) {
        return "/" === e.charAt(0) ? e : "/" + e
    }, t.stripLeadingSlash = function(e) {
        return o(e, "/") ? e.slice(1) : e
    }, t.stripTrailingSlash = function(e) {
        return r(e, "/") ? e.slice(0, -1) : e
    }, t.stripSlashes = function(e) {
        return e.replace(/\\/g, "")
    }, t.isString = function(e) {
        return "string" == typeof e || e instanceof String
    }, t.getHashPath = function() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.location.href,
            t = e.indexOf("#");
        return -1 === t ? "" : e.substring(t + 1)
    }, t.generateSpaces = function(e) {
        return new Array(e.length).fill(" ").join("")
    }, t.supportsBrowserHistory = function() {
        return !("undefined" == typeof window || !window.history || !window.history.pushState)
    }, t.supportsScrollRestoration = function() {
        return !("undefined" == typeof window || !window.history || !window.history.scrollRestoration)
    }
}, function(e, t, n) {
    (function(e, n) {
        var o = "__lodash_hash_undefined__",
            r = 9007199254740991,
            i = "[object Arguments]",
            a = "[object AsyncFunction]",
            s = "[object Function]",
            l = "[object GeneratorFunction]",
            u = "[object Null]",
            c = "[object Object]",
            f = "[object Proxy]",
            p = "[object Undefined]",
            d = /^\[object .+?Constructor\]$/,
            h = /^(?:0|[1-9]\d*)$/,
            y = {};
        y["[object Float32Array]"] = y["[object Float64Array]"] = y["[object Int8Array]"] = y["[object Int16Array]"] = y["[object Int32Array]"] = y["[object Uint8Array]"] = y["[object Uint8ClampedArray]"] = y["[object Uint16Array]"] = y["[object Uint32Array]"] = !0, y[i] = y["[object Array]"] = y["[object ArrayBuffer]"] = y["[object Boolean]"] = y["[object DataView]"] = y["[object Date]"] = y["[object Error]"] = y[s] = y["[object Map]"] = y["[object Number]"] = y[c] = y["[object RegExp]"] = y["[object Set]"] = y["[object String]"] = y["[object WeakMap]"] = !1;
        var v = "object" == typeof e && e && e.Object === Object && e,
            _ = "object" == typeof self && self && self.Object === Object && self,
            m = v || _ || Function("return this")(),
            g = "object" == typeof t && t && !t.nodeType && t,
            b = g && "object" == typeof n && n && !n.nodeType && n,
            w = b && b.exports === g,
            x = w && v.process,
            k = function() {
                try {
                    return x && x.binding && x.binding("util")
                } catch (e) {}
            }(),
            O = k && k.isTypedArray;

        function E(e, t) {
            return "__proto__" == t ? void 0 : e[t]
        }
        var P, S, T, j = Array.prototype,
            M = Function.prototype,
            C = Object.prototype,
            D = m["__core-js_shared__"],
            R = M.toString,
            A = C.hasOwnProperty,
            L = (P = /[^.]+$/.exec(D && D.keys && D.keys.IE_PROTO || "")) ? "Symbol(src)_1." + P : "",
            z = C.toString,
            I = R.call(Object),
            F = RegExp("^" + R.call(A).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"),
            H = w ? m.Buffer : void 0,
            N = m.Symbol,
            U = m.Uint8Array,
            B = (H && H.allocUnsafe, S = Object.getPrototypeOf, T = Object, function(e) {
                return S(T(e))
            }),
            G = Object.create,
            V = C.propertyIsEnumerable,
            $ = j.splice,
            q = N ? N.toStringTag : void 0,
            W = function() {
                try {
                    var e = de(Object, "defineProperty");
                    return e({}, "", {}), e
                } catch (e) {}
            }(),
            Y = H ? H.isBuffer : void 0,
            K = Math.max,
            X = Date.now,
            Z = de(m, "Map"),
            Q = de(Object, "create"),
            J = function() {
                function e() {}
                return function(t) {
                    if (!Oe(t)) return {};
                    if (G) return G(t);
                    e.prototype = t;
                    var n = new e;
                    return e.prototype = void 0, n
                }
            }();

        function ee(e) {
            var t = -1,
                n = null == e ? 0 : e.length;
            for (this.clear(); ++t < n;) {
                var o = e[t];
                this.set(o[0], o[1])
            }
        }

        function te(e) {
            var t = -1,
                n = null == e ? 0 : e.length;
            for (this.clear(); ++t < n;) {
                var o = e[t];
                this.set(o[0], o[1])
            }
        }

        function ne(e) {
            var t = -1,
                n = null == e ? 0 : e.length;
            for (this.clear(); ++t < n;) {
                var o = e[t];
                this.set(o[0], o[1])
            }
        }

        function oe(e) {
            var t = this.__data__ = new te(e);
            this.size = t.size
        }

        function re(e, t, n) {
            (void 0 === n || _e(e[t], n)) && (void 0 !== n || t in e) || se(e, t, n)
        }

        function ie(e, t, n) {
            var o = e[t];
            A.call(e, t) && _e(o, n) && (void 0 !== n || t in e) || se(e, t, n)
        }

        function ae(e, t) {
            for (var n = e.length; n--;)
                if (_e(e[n][0], t)) return n;
            return -1
        }

        function se(e, t, n) {
            "__proto__" == t && W ? W(e, t, {
                configurable: !0,
                enumerable: !0,
                value: n,
                writable: !0
            }) : e[t] = n
        }
        ee.prototype.clear = function() {
            this.__data__ = Q ? Q(null) : {}, this.size = 0
        }, ee.prototype.delete = function(e) {
            var t = this.has(e) && delete this.__data__[e];
            return this.size -= t ? 1 : 0, t
        }, ee.prototype.get = function(e) {
            var t = this.__data__;
            if (Q) {
                var n = t[e];
                return n === o ? void 0 : n
            }
            return A.call(t, e) ? t[e] : void 0
        }, ee.prototype.has = function(e) {
            var t = this.__data__;
            return Q ? void 0 !== t[e] : A.call(t, e)
        }, ee.prototype.set = function(e, t) {
            var n = this.__data__;
            return this.size += this.has(e) ? 0 : 1, n[e] = Q && void 0 === t ? o : t, this
        }, te.prototype.clear = function() {
            this.__data__ = [], this.size = 0
        }, te.prototype.delete = function(e) {
            var t = this.__data__,
                n = ae(t, e);
            return !(n < 0 || (n == t.length - 1 ? t.pop() : $.call(t, n, 1), --this.size, 0))
        }, te.prototype.get = function(e) {
            var t = this.__data__,
                n = ae(t, e);
            return n < 0 ? void 0 : t[n][1]
        }, te.prototype.has = function(e) {
            return ae(this.__data__, e) > -1
        }, te.prototype.set = function(e, t) {
            var n = this.__data__,
                o = ae(n, e);
            return o < 0 ? (++this.size, n.push([e, t])) : n[o][1] = t, this
        }, ne.prototype.clear = function() {
            this.size = 0, this.__data__ = {
                hash: new ee,
                map: new(Z || te),
                string: new ee
            }
        }, ne.prototype.delete = function(e) {
            var t = pe(this, e).delete(e);
            return this.size -= t ? 1 : 0, t
        }, ne.prototype.get = function(e) {
            return pe(this, e).get(e)
        }, ne.prototype.has = function(e) {
            return pe(this, e).has(e)
        }, ne.prototype.set = function(e, t) {
            var n = pe(this, e),
                o = n.size;
            return n.set(e, t), this.size += n.size == o ? 0 : 1, this
        }, oe.prototype.clear = function() {
            this.__data__ = new te, this.size = 0
        }, oe.prototype.delete = function(e) {
            var t = this.__data__,
                n = t.delete(e);
            return this.size = t.size, n
        }, oe.prototype.get = function(e) {
            return this.__data__.get(e)
        }, oe.prototype.has = function(e) {
            return this.__data__.has(e)
        }, oe.prototype.set = function(e, t) {
            var n = this.__data__;
            if (n instanceof te) {
                var o = n.__data__;
                if (!Z || o.length < 199) return o.push([e, t]), this.size = ++n.size, this;
                n = this.__data__ = new ne(o)
            }
            return n.set(e, t), this.size = n.size, this
        };
        var le = function(e, t, n) {
            for (var o = -1, r = Object(e), i = n(e), a = i.length; a--;) {
                var s = i[++o];
                if (!1 === t(r[s], s, r)) break
            }
            return e
        };

        function ue(e) {
            return null == e ? void 0 === e ? p : u : q && q in Object(e) ? function(e) {
                var t = A.call(e, q),
                    n = e[q];
                try {
                    e[q] = void 0;
                    var o = !0
                } catch (e) {}
                var r = z.call(e);
                return o && (t ? e[q] = n : delete e[q]), r
            }(e) : function(e) {
                return z.call(e)
            }(e)
        }

        function ce(e) {
            return Ee(e) && ue(e) == i
        }

        function fe(e, t, n, o, r) {
            e !== t && le(t, function(i, a) {
                if (Oe(i)) r || (r = new oe),
                    function(e, t, n, o, r, i, a) {
                        var s = E(e, n),
                            l = E(t, n),
                            u = a.get(l);
                        if (u) re(e, n, u);
                        else {
                            var f, p, d, h, y, v = i ? i(s, l, n + "", e, t, a) : void 0,
                                _ = void 0 === v;
                            if (_) {
                                var m = ge(l),
                                    g = !m && we(l),
                                    b = !m && !g && Pe(l);
                                v = l, m || g || b ? ge(s) ? v = s : Ee(y = s) && be(y) ? v = function(e, t) {
                                    var n = -1,
                                        o = e.length;
                                    for (t || (t = Array(o)); ++n < o;) t[n] = e[n];
                                    return t
                                }(s) : g ? (_ = !1, v = function(e, t) {
                                    return e.slice()
                                }(l)) : b ? (_ = !1, h = new(d = (f = l).buffer).constructor(d.byteLength), new U(h).set(new U(d)), p = h, v = new f.constructor(p, f.byteOffset, f.length)) : v = [] : function(e) {
                                    if (!Ee(e) || ue(e) != c) return !1;
                                    var t = B(e);
                                    if (null === t) return !0;
                                    var n = A.call(t, "constructor") && t.constructor;
                                    return "function" == typeof n && n instanceof n && R.call(n) == I
                                }(l) || me(l) ? (v = s, me(s) ? v = function(e, t, n, o) {
                                    var r = !n;
                                    n || (n = {});
                                    for (var i = -1, a = t.length; ++i < a;) {
                                        var s = t[i],
                                            l = void 0;
                                        void 0 === l && (l = e[s]), r ? se(n, s, l) : ie(n, s, l)
                                    }
                                    return n
                                }(s, Se(s)) : (!Oe(s) || o && xe(s)) && (v = function(e) {
                                    return "function" != typeof e.constructor || ye(e) ? {} : J(B(e))
                                }(l))) : _ = !1
                            }
                            _ && (a.set(l, v), r(v, l, o, i, a), a.delete(l)), re(e, n, v)
                        }
                    }(e, t, a, n, fe, o, r);
                else {
                    var s = o ? o(E(e, a), i, a + "", e, t, r) : void 0;
                    void 0 === s && (s = i), re(e, a, s)
                }
            }, Se)
        }

        function pe(e, t) {
            var n, o, r = e.__data__;
            return ("string" == (o = typeof(n = t)) || "number" == o || "symbol" == o || "boolean" == o ? "__proto__" !== n : null === n) ? r["string" == typeof t ? "string" : "hash"] : r.map
        }

        function de(e, t) {
            var n = function(e, t) {
                return null == e ? void 0 : e[t]
            }(e, t);
            return function(e) {
                return !(!Oe(e) || L && L in e) && (xe(e) ? F : d).test(function(e) {
                    if (null != e) {
                        try {
                            return R.call(e)
                        } catch (e) {}
                        try {
                            return e + ""
                        } catch (e) {}
                    }
                    return ""
                }(e))
            }(n) ? n : void 0
        }

        function he(e, t) {
            var n = typeof e;
            return !!(t = null == t ? r : t) && ("number" == n || "symbol" != n && h.test(e)) && e > -1 && e % 1 == 0 && e < t
        }

        function ye(e) {
            var t = e && e.constructor;
            return e === ("function" == typeof t && t.prototype || C)
        }
        var ve = function(e) {
            var t = 0,
                n = 0;
            return function() {
                var o = X(),
                    r = 16 - (o - n);
                if (n = o, r > 0) {
                    if (++t >= 800) return arguments[0]
                } else t = 0;
                return e.apply(void 0, arguments)
            }
        }(W ? function(e, t) {
            return W(e, "toString", {
                configurable: !0,
                enumerable: !1,
                value: (n = t, function() {
                    return n
                }),
                writable: !0
            });
            var n
        } : Me);

        function _e(e, t) {
            return e === t || e != e && t != t
        }
        var me = ce(function() {
                return arguments
            }()) ? ce : function(e) {
                return Ee(e) && A.call(e, "callee") && !V.call(e, "callee")
            },
            ge = Array.isArray;

        function be(e) {
            return null != e && ke(e.length) && !xe(e)
        }
        var we = Y || function() {
            return !1
        };

        function xe(e) {
            if (!Oe(e)) return !1;
            var t = ue(e);
            return t == s || t == l || t == a || t == f
        }

        function ke(e) {
            return "number" == typeof e && e > -1 && e % 1 == 0 && e <= r
        }

        function Oe(e) {
            var t = typeof e;
            return null != e && ("object" == t || "function" == t)
        }

        function Ee(e) {
            return null != e && "object" == typeof e
        }
        var Pe = O ? function(e) {
            return function(t) {
                return e(t)
            }
        }(O) : function(e) {
            return Ee(e) && ke(e.length) && !!y[ue(e)]
        };

        function Se(e) {
            return be(e) ? function(e, t) {
                var n = ge(e),
                    o = !n && me(e),
                    r = !n && !o && we(e),
                    i = !n && !o && !r && Pe(e),
                    a = n || o || r || i,
                    s = a ? function(e, t) {
                        for (var n = -1, o = Array(e); ++n < e;) o[n] = t(n);
                        return o
                    }(e.length, String) : [],
                    l = s.length;
                for (var u in e) !t && !A.call(e, u) || a && ("length" == u || r && ("offset" == u || "parent" == u) || i && ("buffer" == u || "byteLength" == u || "byteOffset" == u) || he(u, l)) || s.push(u);
                return s
            }(e, !0) : function(e) {
                if (!Oe(e)) return function(e) {
                    var t = [];
                    if (null != e)
                        for (var n in Object(e)) t.push(n);
                    return t
                }(e);
                var t = ye(e),
                    n = [];
                for (var o in e)("constructor" != o || !t && A.call(e, o)) && n.push(o);
                return n
            }(e)
        }
        var Te, je = (Te = function(e, t, n) {
            fe(e, t, n)
        }, function(e, t) {
            return ve(function(e, t, n) {
                return t = K(void 0 === t ? e.length - 1 : t, 0),
                    function() {
                        for (var o = arguments, r = -1, i = K(o.length - t, 0), a = Array(i); ++r < i;) a[r] = o[t + r];
                        r = -1;
                        for (var s = Array(t + 1); ++r < t;) s[r] = o[r];
                        return s[t] = n(a),
                            function(e, t, n) {
                                switch (n.length) {
                                    case 0:
                                        return e.call(t);
                                    case 1:
                                        return e.call(t, n[0]);
                                    case 2:
                                        return e.call(t, n[0], n[1]);
                                    case 3:
                                        return e.call(t, n[0], n[1], n[2])
                                }
                                return e.apply(t, n)
                            }(e, this, s)
                    }
            }(e, t, Me), e + "")
        }(function(e, t) {
            var n = -1,
                o = t.length,
                r = o > 1 ? t[o - 1] : void 0,
                i = o > 2 ? t[2] : void 0;
            for (r = Te.length > 3 && "function" == typeof r ? (o--, r) : void 0, i && function(e, t, n) {
                    if (!Oe(n)) return !1;
                    var o = typeof t;
                    return !!("number" == o ? be(n) && he(t, n.length) : "string" == o && t in n) && _e(n[t], e)
                }(t[0], t[1], i) && (r = o < 3 ? void 0 : r, o = 1), e = Object(e); ++n < o;) {
                var a = t[n];
                a && Te(e, a, n)
            }
            return e
        }));

        function Me(e) {
            return e
        }
        n.exports = je
    }).call(this, n(18), n(193)(e))
}, function(e, t, n) {
    (function(e, n) {
        var o = "Expected a function",
            r = "__lodash_hash_undefined__",
            i = 1,
            a = 2,
            s = 1 / 0,
            l = 9007199254740991,
            u = "[object Arguments]",
            c = "[object Array]",
            f = "[object Boolean]",
            p = "[object Date]",
            d = "[object Error]",
            h = "[object Function]",
            y = "[object GeneratorFunction]",
            v = "[object Map]",
            _ = "[object Number]",
            m = "[object Object]",
            g = "[object RegExp]",
            b = "[object Set]",
            w = "[object String]",
            x = "[object Symbol]",
            k = "[object ArrayBuffer]",
            O = "[object DataView]",
            E = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
            P = /^\w*$/,
            S = /^\./,
            T = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
            j = /^\s+|\s+$/g,
            M = /\\(\\)?/g,
            C = /^[-+]0x[0-9a-f]+$/i,
            D = /^0b[01]+$/i,
            R = /^\[object .+?Constructor\]$/,
            A = /^0o[0-7]+$/i,
            L = /^(?:0|[1-9]\d*)$/,
            z = {};
        z["[object Float32Array]"] = z["[object Float64Array]"] = z["[object Int8Array]"] = z["[object Int16Array]"] = z["[object Int32Array]"] = z["[object Uint8Array]"] = z["[object Uint8ClampedArray]"] = z["[object Uint16Array]"] = z["[object Uint32Array]"] = !0, z[u] = z[c] = z[k] = z[f] = z[O] = z[p] = z[d] = z[h] = z[v] = z[_] = z[m] = z[g] = z[b] = z[w] = z["[object WeakMap]"] = !1;
        var I = parseInt,
            F = "object" == typeof e && e && e.Object === Object && e,
            H = "object" == typeof self && self && self.Object === Object && self,
            N = F || H || Function("return this")(),
            U = "object" == typeof t && t && !t.nodeType && t,
            B = U && "object" == typeof n && n && !n.nodeType && n,
            G = B && B.exports === U && F.process,
            V = function() {
                try {
                    return G && G.binding("util")
                } catch (e) {}
            }(),
            $ = V && V.isTypedArray;

        function q(e, t) {
            for (var n = -1, o = e ? e.length : 0; ++n < o;)
                if (t(e[n], n, e)) return !0;
            return !1
        }

        function W(e) {
            var t = !1;
            if (null != e && "function" != typeof e.toString) try {
                t = !!(e + "")
            } catch (e) {}
            return t
        }

        function Y(e) {
            var t = -1,
                n = Array(e.size);
            return e.forEach(function(e, o) {
                n[++t] = [o, e]
            }), n
        }

        function K(e) {
            var t = -1,
                n = Array(e.size);
            return e.forEach(function(e) {
                n[++t] = e
            }), n
        }
        var X, Z, Q, J = Array.prototype,
            ee = Function.prototype,
            te = Object.prototype,
            ne = N["__core-js_shared__"],
            oe = (X = /[^.]+$/.exec(ne && ne.keys && ne.keys.IE_PROTO || "")) ? "Symbol(src)_1." + X : "",
            re = ee.toString,
            ie = te.hasOwnProperty,
            ae = te.toString,
            se = RegExp("^" + re.call(ie).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"),
            le = N.Symbol,
            ue = N.Uint8Array,
            ce = te.propertyIsEnumerable,
            fe = J.splice,
            pe = (Z = Object.keys, Q = Object, function(e) {
                return Z(Q(e))
            }),
            de = Math.max,
            he = Ue(N, "DataView"),
            ye = Ue(N, "Map"),
            ve = Ue(N, "Promise"),
            _e = Ue(N, "Set"),
            me = Ue(N, "WeakMap"),
            ge = Ue(Object, "create"),
            be = Ke(he),
            we = Ke(ye),
            xe = Ke(ve),
            ke = Ke(_e),
            Oe = Ke(me),
            Ee = le ? le.prototype : void 0,
            Pe = Ee ? Ee.valueOf : void 0,
            Se = Ee ? Ee.toString : void 0;

        function Te(e) {
            var t = -1,
                n = e ? e.length : 0;
            for (this.clear(); ++t < n;) {
                var o = e[t];
                this.set(o[0], o[1])
            }
        }

        function je(e) {
            var t = -1,
                n = e ? e.length : 0;
            for (this.clear(); ++t < n;) {
                var o = e[t];
                this.set(o[0], o[1])
            }
        }

        function Me(e) {
            var t = -1,
                n = e ? e.length : 0;
            for (this.clear(); ++t < n;) {
                var o = e[t];
                this.set(o[0], o[1])
            }
        }

        function Ce(e) {
            var t = -1,
                n = e ? e.length : 0;
            for (this.__data__ = new Me; ++t < n;) this.add(e[t])
        }

        function De(e) {
            this.__data__ = new je(e)
        }

        function Re(e, t) {
            for (var n = e.length; n--;)
                if (Je(e[n][0], t)) return n;
            return -1
        }

        function Ae(e, t) {
            for (var n = 0, o = (t = Ve(t, e) ? [t] : Fe(t)).length; null != e && n < o;) e = e[Ye(t[n++])];
            return n && n == o ? e : void 0
        }

        function Le(e, t) {
            return null != e && t in Object(e)
        }

        function ze(e, t, n, o, r) {
            return e === t || (null == e || null == t || !it(e) && !at(t) ? e != e && t != t : function(e, t, n, o, r, s) {
                var l = tt(e),
                    h = tt(t),
                    y = c,
                    E = c;
                l || (y = (y = Be(e)) == u ? m : y), h || (E = (E = Be(t)) == u ? m : E);
                var P = y == m && !W(e),
                    S = E == m && !W(t),
                    T = y == E;
                if (T && !P) return s || (s = new De), l || lt(e) ? He(e, t, n, o, r, s) : function(e, t, n, o, r, s, l) {
                    switch (n) {
                        case O:
                            if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset) return !1;
                            e = e.buffer, t = t.buffer;
                        case k:
                            return !(e.byteLength != t.byteLength || !o(new ue(e), new ue(t)));
                        case f:
                        case p:
                        case _:
                            return Je(+e, +t);
                        case d:
                            return e.name == t.name && e.message == t.message;
                        case g:
                        case w:
                            return e == t + "";
                        case v:
                            var u = Y;
                        case b:
                            var c = s & a;
                            if (u || (u = K), e.size != t.size && !c) return !1;
                            var h = l.get(e);
                            if (h) return h == t;
                            s |= i, l.set(e, t);
                            var y = He(u(e), u(t), o, r, s, l);
                            return l.delete(e), y;
                        case x:
                            if (Pe) return Pe.call(e) == Pe.call(t)
                    }
                    return !1
                }(e, t, y, n, o, r, s);
                if (!(r & a)) {
                    var j = P && ie.call(e, "__wrapped__"),
                        M = S && ie.call(t, "__wrapped__");
                    if (j || M) {
                        var C = j ? e.value() : e,
                            D = M ? t.value() : t;
                        return s || (s = new De), n(C, D, o, r, s)
                    }
                }
                return !!T && (s || (s = new De), function(e, t, n, o, r, i) {
                    var s = r & a,
                        l = ut(e),
                        u = l.length;
                    if (u != ut(t).length && !s) return !1;
                    for (var c = u; c--;) {
                        var f = l[c];
                        if (!(s ? f in t : ie.call(t, f))) return !1
                    }
                    var p = i.get(e);
                    if (p && i.get(t)) return p == t;
                    var d = !0;
                    i.set(e, t), i.set(t, e);
                    for (var h = s; ++c < u;) {
                        var y = e[f = l[c]],
                            v = t[f];
                        if (o) var _ = s ? o(v, y, f, t, e, i) : o(y, v, f, e, t, i);
                        if (!(void 0 === _ ? y === v || n(y, v, o, r, i) : _)) {
                            d = !1;
                            break
                        }
                        h || (h = "constructor" == f)
                    }
                    if (d && !h) {
                        var m = e.constructor,
                            g = t.constructor;
                        m != g && "constructor" in e && "constructor" in t && !("function" == typeof m && m instanceof m && "function" == typeof g && g instanceof g) && (d = !1)
                    }
                    return i.delete(e), i.delete(t), d
                }(e, t, n, o, r, s))
            }(e, t, ze, n, o, r))
        }

        function Ie(e) {
            return "function" == typeof e ? e : null == e ? ct : "object" == typeof e ? tt(e) ? function(e, t) {
                return Ve(e) && $e(t) ? qe(Ye(e), t) : function(n) {
                    var o = function(e, t, n) {
                        var o = null == e ? void 0 : Ae(e, t);
                        return void 0 === o ? void 0 : o
                    }(n, e);
                    return void 0 === o && o === t ? function(e, t) {
                        return null != n && function(e, t, n) {
                            for (var o, r = -1, i = (t = Ve(t, e) ? [t] : Fe(t)).length; ++r < i;) {
                                var a = Ye(t[r]);
                                if (!(o = null != e && n(e, a))) break;
                                e = e[a]
                            }
                            return o || !!(i = e ? e.length : 0) && rt(i) && Ge(a, i) && (tt(e) || et(e))
                        }(n, t, Le)
                    }(0, e) : ze(t, o, void 0, i | a)
                }
            }(e[0], e[1]) : function(e) {
                var t = function(e) {
                    for (var t = ut(e), n = t.length; n--;) {
                        var o = t[n],
                            r = e[o];
                        t[n] = [o, r, $e(r)]
                    }
                    return t
                }(e);
                return 1 == t.length && t[0][2] ? qe(t[0][0], t[0][1]) : function(n) {
                    return n === e || function(e, t, n, o) {
                        var r = n.length,
                            s = r;
                        if (null == e) return !s;
                        for (e = Object(e); r--;) {
                            var l = n[r];
                            if (l[2] ? l[1] !== e[l[0]] : !(l[0] in e)) return !1
                        }
                        for (; ++r < s;) {
                            var u = (l = n[r])[0],
                                c = e[u],
                                f = l[1];
                            if (l[2]) {
                                if (void 0 === c && !(u in e)) return !1
                            } else {
                                var p, d = new De;
                                if (!(void 0 === p ? ze(f, c, o, i | a, d) : p)) return !1
                            }
                        }
                        return !0
                    }(n, 0, t)
                }
            }(e) : Ve(t = e) ? (n = Ye(t), function(e) {
                return null == e ? void 0 : e[n]
            }) : function(e) {
                return function(t) {
                    return Ae(t, e)
                }
            }(t);
            var t, n
        }

        function Fe(e) {
            return tt(e) ? e : We(e)
        }

        function He(e, t, n, o, r, s) {
            var l = r & a,
                u = e.length,
                c = t.length;
            if (u != c && !(l && c > u)) return !1;
            var f = s.get(e);
            if (f && s.get(t)) return f == t;
            var p = -1,
                d = !0,
                h = r & i ? new Ce : void 0;
            for (s.set(e, t), s.set(t, e); ++p < u;) {
                var y = e[p],
                    v = t[p];
                if (o) var _ = l ? o(v, y, p, t, e, s) : o(y, v, p, e, t, s);
                if (void 0 !== _) {
                    if (_) continue;
                    d = !1;
                    break
                }
                if (h) {
                    if (!q(t, function(e, t) {
                            if (!h.has(t) && (y === e || n(y, e, o, r, s))) return h.add(t)
                        })) {
                        d = !1;
                        break
                    }
                } else if (y !== v && !n(y, v, o, r, s)) {
                    d = !1;
                    break
                }
            }
            return s.delete(e), s.delete(t), d
        }

        function Ne(e, t) {
            var n, o, r = e.__data__;
            return ("string" == (o = typeof(n = t)) || "number" == o || "symbol" == o || "boolean" == o ? "__proto__" !== n : null === n) ? r["string" == typeof t ? "string" : "hash"] : r.map
        }

        function Ue(e, t) {
            var n = function(e, t) {
                return null == e ? void 0 : e[t]
            }(e, t);
            return function(e) {
                return !(!it(e) || oe && oe in e) && (ot(e) || W(e) ? se : R).test(Ke(e))
            }(n) ? n : void 0
        }
        Te.prototype.clear = function() {
            this.__data__ = ge ? ge(null) : {}
        }, Te.prototype.delete = function(e) {
            return this.has(e) && delete this.__data__[e]
        }, Te.prototype.get = function(e) {
            var t = this.__data__;
            if (ge) {
                var n = t[e];
                return n === r ? void 0 : n
            }
            return ie.call(t, e) ? t[e] : void 0
        }, Te.prototype.has = function(e) {
            var t = this.__data__;
            return ge ? void 0 !== t[e] : ie.call(t, e)
        }, Te.prototype.set = function(e, t) {
            return this.__data__[e] = ge && void 0 === t ? r : t, this
        }, je.prototype.clear = function() {
            this.__data__ = []
        }, je.prototype.delete = function(e) {
            var t = this.__data__,
                n = Re(t, e);
            return !(n < 0 || (n == t.length - 1 ? t.pop() : fe.call(t, n, 1), 0))
        }, je.prototype.get = function(e) {
            var t = this.__data__,
                n = Re(t, e);
            return n < 0 ? void 0 : t[n][1]
        }, je.prototype.has = function(e) {
            return Re(this.__data__, e) > -1
        }, je.prototype.set = function(e, t) {
            var n = this.__data__,
                o = Re(n, e);
            return o < 0 ? n.push([e, t]) : n[o][1] = t, this
        }, Me.prototype.clear = function() {
            this.__data__ = {
                hash: new Te,
                map: new(ye || je),
                string: new Te
            }
        }, Me.prototype.delete = function(e) {
            return Ne(this, e).delete(e)
        }, Me.prototype.get = function(e) {
            return Ne(this, e).get(e)
        }, Me.prototype.has = function(e) {
            return Ne(this, e).has(e)
        }, Me.prototype.set = function(e, t) {
            return Ne(this, e).set(e, t), this
        }, Ce.prototype.add = Ce.prototype.push = function(e) {
            return this.__data__.set(e, r), this
        }, Ce.prototype.has = function(e) {
            return this.__data__.has(e)
        }, De.prototype.clear = function() {
            this.__data__ = new je
        }, De.prototype.delete = function(e) {
            return this.__data__.delete(e)
        }, De.prototype.get = function(e) {
            return this.__data__.get(e)
        }, De.prototype.has = function(e) {
            return this.__data__.has(e)
        }, De.prototype.set = function(e, t) {
            var n = this.__data__;
            if (n instanceof je) {
                var o = n.__data__;
                if (!ye || o.length < 199) return o.push([e, t]), this;
                n = this.__data__ = new Me(o)
            }
            return n.set(e, t), this
        };
        var Be = function(e) {
            return ae.call(e)
        };

        function Ge(e, t) {
            return !!(t = null == t ? l : t) && ("number" == typeof e || L.test(e)) && e > -1 && e % 1 == 0 && e < t
        }

        function Ve(e, t) {
            if (tt(e)) return !1;
            var n = typeof e;
            return !("number" != n && "symbol" != n && "boolean" != n && null != e && !st(e)) || P.test(e) || !E.test(e) || null != t && e in Object(t)
        }

        function $e(e) {
            return e == e && !it(e)
        }

        function qe(e, t) {
            return function(n) {
                return null != n && n[e] === t && (void 0 !== t || e in Object(n))
            }
        }(he && Be(new he(new ArrayBuffer(1))) != O || ye && Be(new ye) != v || ve && "[object Promise]" != Be(ve.resolve()) || _e && Be(new _e) != b || me && "[object WeakMap]" != Be(new me)) && (Be = function(e) {
            var t = ae.call(e),
                n = t == m ? e.constructor : void 0,
                o = n ? Ke(n) : void 0;
            if (o) switch (o) {
                case be:
                    return O;
                case we:
                    return v;
                case xe:
                    return "[object Promise]";
                case ke:
                    return b;
                case Oe:
                    return "[object WeakMap]"
            }
            return t
        });
        var We = Qe(function(e) {
            var t;
            e = null == (t = e) ? "" : function(e) {
                if ("string" == typeof e) return e;
                if (st(e)) return Se ? Se.call(e) : "";
                var t = e + "";
                return "0" == t && 1 / e == -s ? "-0" : t
            }(t);
            var n = [];
            return S.test(e) && n.push(""), e.replace(T, function(e, t, o, r) {
                n.push(o ? r.replace(M, "$1") : t || e)
            }), n
        });

        function Ye(e) {
            if ("string" == typeof e || st(e)) return e;
            var t = e + "";
            return "0" == t && 1 / e == -s ? "-0" : t
        }

        function Ke(e) {
            if (null != e) {
                try {
                    return re.call(e)
                } catch (e) {}
                try {
                    return e + ""
                } catch (e) {}
            }
            return ""
        }
        var Xe, Ze = (Xe = function(e, t, n) {
            var o = e ? e.length : 0;
            if (!o) return -1;
            var r, i, a = null == n ? 0 : (i = (r = function(e) {
                return e ? (e = function(e) {
                    if ("number" == typeof e) return e;
                    if (st(e)) return NaN;
                    if (it(e)) {
                        var t = "function" == typeof e.valueOf ? e.valueOf() : e;
                        e = it(t) ? t + "" : t
                    }
                    if ("string" != typeof e) return 0 === e ? e : +e;
                    e = e.replace(j, "");
                    var n = D.test(e);
                    return n || A.test(e) ? I(e.slice(2), n ? 2 : 8) : C.test(e) ? NaN : +e
                }(e)) === s || e === -s ? 1.7976931348623157e308 * (e < 0 ? -1 : 1) : e == e ? e : 0 : 0 === e ? e : 0
            }(n)) % 1, r == r ? i ? r - i : r : 0);
            return a < 0 && (a = de(o + a, 0)),
                function(e, t, n, o) {
                    for (var r = e.length, i = n + -1; ++i < r;)
                        if (t(e[i], i, e)) return i;
                    return -1
                }(e, Ie(t), a)
        }, function(e, t, n) {
            var o = Object(e);
            if (!nt(e)) {
                var r = Ie(t);
                e = ut(e), t = function(e) {
                    return r(o[e], e, o)
                }
            }
            var i = Xe(e, t, n);
            return i > -1 ? o[r ? e[i] : i] : void 0
        });

        function Qe(e, t) {
            if ("function" != typeof e || t && "function" != typeof t) throw new TypeError(o);
            var n = function() {
                var o = arguments,
                    r = t ? t.apply(this, o) : o[0],
                    i = n.cache;
                if (i.has(r)) return i.get(r);
                var a = e.apply(this, o);
                return n.cache = i.set(r, a), a
            };
            return n.cache = new(Qe.Cache || Me), n
        }

        function Je(e, t) {
            return e === t || e != e && t != t
        }

        function et(e) {
            return function(e) {
                return at(e) && nt(e)
            }(e) && ie.call(e, "callee") && (!ce.call(e, "callee") || ae.call(e) == u)
        }
        Qe.Cache = Me;
        var tt = Array.isArray;

        function nt(e) {
            return null != e && rt(e.length) && !ot(e)
        }

        function ot(e) {
            var t = it(e) ? ae.call(e) : "";
            return t == h || t == y
        }

        function rt(e) {
            return "number" == typeof e && e > -1 && e % 1 == 0 && e <= l
        }

        function it(e) {
            var t = typeof e;
            return !!e && ("object" == t || "function" == t)
        }

        function at(e) {
            return !!e && "object" == typeof e
        }

        function st(e) {
            return "symbol" == typeof e || at(e) && ae.call(e) == x
        }
        var lt = $ ? function(e) {
            return function(t) {
                return e(t)
            }
        }($) : function(e) {
            return at(e) && rt(e.length) && !!z[ae.call(e)]
        };

        function ut(e) {
            return nt(e) ? function(e, t) {
                var n = tt(e) || et(e) ? function(e, t) {
                        for (var n = -1, o = Array(e); ++n < e;) o[n] = t(n);
                        return o
                    }(e.length, String) : [],
                    o = n.length,
                    r = !!o;
                for (var i in e) !t && !ie.call(e, i) || r && ("length" == i || Ge(i, o)) || n.push(i);
                return n
            }(e) : function(e) {
                if (n = (t = e) && t.constructor, t !== ("function" == typeof n && n.prototype || te)) return pe(e);
                var t, n, o = [];
                for (var r in Object(e)) ie.call(e, r) && "constructor" != r && o.push(r);
                return o
            }(e)
        }

        function ct(e) {
            return e
        }
        n.exports = Ze
    }).call(this, n(18), n(193)(e))
}, function(e, t) {
    e.exports = function e(t, n, o) {
        return t instanceof RegExp ? function(e, t) {
            if (!t) return e;
            var n = e.source.match(/\((?!\?)/g);
            if (n)
                for (var o = 0; o < n.length; o++) t.push({
                    name: o,
                    prefix: null,
                    delimiter: null,
                    optional: !1,
                    repeat: !1,
                    partial: !1,
                    pattern: null
                });
            return e
        }(t, n) : Array.isArray(t) ? function(t, n, o) {
            for (var r = [], i = 0; i < t.length; i++) r.push(e(t[i], n, o).source);
            return new RegExp("(?:" + r.join("|") + ")", u(o))
        }(t, n, o) : function(e, t, n) {
            return c(i(e, n), t, n)
        }(t, n, o)
    }, e.exports.parse = i, e.exports.compile = function(e, t) {
        return a(i(e, t))
    }, e.exports.tokensToFunction = a, e.exports.tokensToRegExp = c;
    var n = "/",
        o = "./",
        r = new RegExp(["(\\\\.)", "(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"), "g");

    function i(e, t) {
        for (var i, a = [], u = 0, c = 0, f = "", p = t && t.delimiter || n, d = t && t.delimiters || o, h = !1; null !== (i = r.exec(e));) {
            var y = i[0],
                v = i[1],
                _ = i.index;
            if (f += e.slice(c, _), c = _ + y.length, v) f += v[1], h = !0;
            else {
                var m = "",
                    g = e[c],
                    b = i[2],
                    w = i[3],
                    x = i[4],
                    k = i[5];
                if (!h && f.length) {
                    var O = f.length - 1;
                    d.indexOf(f[O]) > -1 && (m = f[O], f = f.slice(0, O))
                }
                f && (a.push(f), f = "", h = !1);
                var E = "" !== m && void 0 !== g && g !== m,
                    P = "+" === k || "*" === k,
                    S = "?" === k || "*" === k,
                    T = m || p,
                    j = w || x;
                a.push({
                    name: b || u++,
                    prefix: m,
                    delimiter: T,
                    optional: S,
                    repeat: P,
                    partial: E,
                    pattern: j ? l(j) : "[^" + s(T) + "]+?"
                })
            }
        }
        return (f || c < e.length) && a.push(f + e.substr(c)), a
    }

    function a(e) {
        for (var t = new Array(e.length), n = 0; n < e.length; n++) "object" == typeof e[n] && (t[n] = new RegExp("^(?:" + e[n].pattern + ")$"));
        return function(n, o) {
            for (var r = "", i = o && o.encode || encodeURIComponent, a = 0; a < e.length; a++) {
                var s = e[a];
                if ("string" != typeof s) {
                    var l, u = n ? n[s.name] : void 0;
                    if (Array.isArray(u)) {
                        if (!s.repeat) throw new TypeError('Expected "' + s.name + '" to not repeat, but got array');
                        if (0 === u.length) {
                            if (s.optional) continue;
                            throw new TypeError('Expected "' + s.name + '" to not be empty')
                        }
                        for (var c = 0; c < u.length; c++) {
                            if (l = i(u[c], s), !t[a].test(l)) throw new TypeError('Expected all "' + s.name + '" to match "' + s.pattern + '"');
                            r += (0 === c ? s.prefix : s.delimiter) + l
                        }
                    } else if ("string" != typeof u && "number" != typeof u && "boolean" != typeof u) {
                        if (!s.optional) throw new TypeError('Expected "' + s.name + '" to be ' + (s.repeat ? "an array" : "a string"));
                        s.partial && (r += s.prefix)
                    } else {
                        if (l = i(String(u), s), !t[a].test(l)) throw new TypeError('Expected "' + s.name + '" to match "' + s.pattern + '", but got "' + l + '"');
                        r += s.prefix + l
                    }
                } else r += s
            }
            return r
        }
    }

    function s(e) {
        return e.replace(/([.+*?=^!:${}()[\]|/\\])/g, "\\$1")
    }

    function l(e) {
        return e.replace(/([=!:$/()])/g, "\\$1")
    }

    function u(e) {
        return e && e.sensitive ? "" : "i"
    }

    function c(e, t, r) {
        for (var i = (r = r || {}).strict, a = !1 !== r.end, l = s(r.delimiter || n), c = r.delimiters || o, f = [].concat(r.endsWith || []).map(s).concat("$").join("|"), p = "", d = !1, h = 0; h < e.length; h++) {
            var y = e[h];
            if ("string" == typeof y) p += s(y), d = h === e.length - 1 && c.indexOf(y[y.length - 1]) > -1;
            else {
                var v = s(y.prefix),
                    _ = y.repeat ? "(?:" + y.pattern + ")(?:" + v + "(?:" + y.pattern + "))*" : y.pattern;
                t && t.push(y), y.optional ? y.partial ? p += v + "(" + _ + ")?" : p += "(?:" + v + "(" + _ + "))?" : p += v + "(" + _ + ")"
            }
        }
        return a ? (i || (p += "(?:" + l + ")?"), p += "$" === f ? "$" : "(?=" + f + ")") : (i || (p += "(?:" + l + "(?=" + f + "))?"), d || (p += "(?=" + l + "|" + f + ")")), new RegExp("^" + p, u(r))
    }
}, function(e, t, n) {
    "use strict";
    var o = n(53);
    e.exports = o, o.enableSynchronous = function() {
        o.prototype.isPending = function() {
            return 0 == this.getState()
        }, o.prototype.isFulfilled = function() {
            return 1 == this.getState()
        }, o.prototype.isRejected = function() {
            return 2 == this.getState()
        }, o.prototype.getValue = function() {
            if (3 === this._83) return this._18.getValue();
            if (!this.isFulfilled()) throw new Error("Cannot get a value of an unfulfilled promise.");
            return this._18
        }, o.prototype.getReason = function() {
            if (3 === this._83) return this._18.getReason();
            if (!this.isRejected()) throw new Error("Cannot get a rejection reason of a non-rejected promise.");
            return this._18
        }, o.prototype.getState = function() {
            return 3 === this._83 ? this._18.getState() : -1 === this._83 || -2 === this._83 ? 0 : this._83
        }
    }, o.disableSynchronous = function() {
        o.prototype.isPending = void 0, o.prototype.isFulfilled = void 0, o.prototype.isRejected = void 0, o.prototype.getValue = void 0, o.prototype.getReason = void 0, o.prototype.getState = void 0
    }
}, function(e, t, n) {
    "use strict";
    var o = n(194),
        r = [],
        i = [],
        a = o.makeRequestCallFromTimer(function() {
            if (i.length) throw i.shift()
        });

    function s(e) {
        var t;
        (t = r.length ? r.pop() : new l).task = e, o(t)
    }

    function l() {
        this.task = null
    }
    e.exports = s, l.prototype.call = function() {
        try {
            this.task.call()
        } catch (e) {
            s.onerror ? s.onerror(e) : (i.push(e), a())
        } finally {
            this.task = null, r[r.length] = this
        }
    }
}, function(e, t, n) {
    "use strict";
    var o = n(53),
        r = n(586);
    e.exports = o, o.denodeify = function(e, t) {
        return "number" == typeof t && t !== 1 / 0 ? function(e, t) {
            for (var n = [], r = 0; r < t; r++) n.push("a" + r);
            var a = ["return function (" + n.join(",") + ") {", "var self = this;", "return new Promise(function (rs, rj) {", "var res = fn.call(", ["self"].concat(n).concat([i]).join(","), ");", "if (res &&", '(typeof res === "object" || typeof res === "function") &&', 'typeof res.then === "function"', ") {rs(res);}", "});", "};"].join("");
            return Function(["Promise", "fn"], a)(o, e)
        }(e, t) : function(e) {
            for (var t = Math.max(e.length - 1, 3), n = [], r = 0; r < t; r++) n.push("a" + r);
            var a = ["return function (" + n.join(",") + ") {", "var self = this;", "var args;", "var argLength = arguments.length;", "if (arguments.length > " + t + ") {", "args = new Array(arguments.length + 1);", "for (var i = 0; i < arguments.length; i++) {", "args[i] = arguments[i];", "}", "}", "return new Promise(function (rs, rj) {", "var cb = " + i + ";", "var res;", "switch (argLength) {", n.concat(["extra"]).map(function(e, t) {
                return "case " + t + ":res = fn.call(" + ["self"].concat(n.slice(0, t)).concat("cb").join(",") + ");break;"
            }).join(""), "default:", "args[argLength] = cb;", "res = fn.apply(self, args);", "}", "if (res &&", '(typeof res === "object" || typeof res === "function") &&', 'typeof res.then === "function"', ") {rs(res);}", "});", "};"].join("");
            return Function(["Promise", "fn"], a)(o, e)
        }(e)
    };
    var i = "function (err, res) {if (err) { rj(err); } else { rs(res); }}";
    o.nodeify = function(e) {
        return function() {
            var t = Array.prototype.slice.call(arguments),
                n = "function" == typeof t[t.length - 1] ? t.pop() : null,
                i = this;
            try {
                return e.apply(this, arguments).nodeify(n, i)
            } catch (e) {
                if (null === n || void 0 === n) return new o(function(t, n) {
                    n(e)
                });
                r(function() {
                    n.call(i, e)
                })
            }
        }
    }, o.prototype.nodeify = function(e, t) {
        if ("function" != typeof e) return this;
        this.then(function(n) {
            r(function() {
                e.call(t, null, n)
            })
        }, function(n) {
            r(function() {
                e.call(t, n)
            })
        })
    }
}, function(e, t, n) {
    "use strict";
    var o = n(53);
    e.exports = o;
    var r = c(!0),
        i = c(!1),
        a = c(null),
        s = c(void 0),
        l = c(0),
        u = c("");

    function c(e) {
        var t = new o(o._44);
        return t._83 = 1, t._18 = e, t
    }
    o.resolve = function(e) {
        if (e instanceof o) return e;
        if (null === e) return a;
        if (void 0 === e) return s;
        if (!0 === e) return r;
        if (!1 === e) return i;
        if (0 === e) return l;
        if ("" === e) return u;
        if ("object" == typeof e || "function" == typeof e) try {
            var t = e.then;
            if ("function" == typeof t) return new o(t.bind(e))
        } catch (e) {
            return new o(function(t, n) {
                n(e)
            })
        }
        return c(e)
    }, o.all = function(e) {
        var t = Array.prototype.slice.call(e);
        return new o(function(e, n) {
            if (0 === t.length) return e([]);
            var r = t.length;

            function i(a, s) {
                if (s && ("object" == typeof s || "function" == typeof s)) {
                    if (s instanceof o && s.then === o.prototype.then) {
                        for (; 3 === s._83;) s = s._18;
                        return 1 === s._83 ? i(a, s._18) : (2 === s._83 && n(s._18), void s.then(function(e) {
                            i(a, e)
                        }, n))
                    }
                    var l = s.then;
                    if ("function" == typeof l) return void new o(l.bind(s)).then(function(e) {
                        i(a, e)
                    }, n)
                }
                t[a] = s, 0 == --r && e(t)
            }
            for (var a = 0; a < t.length; a++) i(a, t[a])
        })
    }, o.reject = function(e) {
        return new o(function(t, n) {
            n(e)
        })
    }, o.race = function(e) {
        return new o(function(t, n) {
            e.forEach(function(e) {
                o.resolve(e).then(t, n)
            })
        })
    }, o.prototype.catch = function(e) {
        return this.then(null, e)
    }
}, function(e, t, n) {
    "use strict";
    var o = n(53);
    e.exports = o, o.prototype.finally = function(e) {
        return this.then(function(t) {
            return o.resolve(e()).then(function() {
                return t
            })
        }, function(t) {
            return o.resolve(e()).then(function() {
                throw t
            })
        })
    }
}, function(e, t, n) {
    "use strict";
    var o = n(53);
    e.exports = o, o.prototype.done = function(e, t) {
        (arguments.length ? this.then.apply(this, arguments) : this).then(null, function(e) {
            setTimeout(function() {
                throw e
            }, 0)
        })
    }
}, function(e, t, n) {
    "use strict";
    e.exports = n(53), n(590), n(589), n(588), n(587), n(585)
}, function(e, t, n) {
    "use strict";
    e.exports = n(591)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var o = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
            }
            return e
        },
        r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        },
        i = function() {
            function e(e, t) {
                for (var n = 0; n < t.length; n++) {
                    var o = t[n];
                    o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
                }
            }
            return function(t, n, o) {
                return n && e(t.prototype, n), o && e(t, o), t
            }
        }(),
        a = d(n(592)),
        s = d(n(15)),
        l = d(n(584)),
        u = d(n(583)),
        c = d(n(582)),
        f = n(201),
        p = n(581);

    function d(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    var h = "background: #FF925E; color: #FFFFFF; padding: 3px 5px;",
        y = function() {
            function e() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    n = t.routes,
                    o = void 0 === n ? [] : n,
                    r = t.components,
                    i = void 0 === r ? {} : r,
                    a = t.basePath,
                    l = void 0 === a ? "/" : a,
                    u = t.mode,
                    c = void 0 === u ? e.BROWSER_MODE : u,
                    f = t.locale,
                    d = void 0 === f ? "" : f,
                    h = t.preRendered,
                    y = void 0 !== h && h,
                    v = t.restoreScroll,
                    _ = void 0 !== v && v,
                    m = t.debugMode,
                    g = void 0 !== m && m;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this.routes = o, this.components = i, this.basePath = (0, p.stripTrailingSlash)(l), this.mode = c, this.locale = (0, p.stripSlashes)(d), this.preRendered = y, this.restoreScroll = _, this.debugMode = g, this.history = null, this.routeData = [], this.action = e.REPLACE_ACTION, this.lastRoute = null, this.currentRoute = null, this.pageInstance = null, this.isFirstRoute = !0, this.routeChanged = new s.default, this.beforeEachChanged = new s.default, this.afterEachChanged = new s.default, this._mountEl = null, this._createHistory(), this._bind(), this._parseRoutes(), this._parseAnchors()
            }
            return i(e, [{
                key: "mount",
                value: function(e) {
                    this._mountEl = "string" == typeof e ? document.querySelector(e) : e, this._firstRoute()
                }
            }, {
                key: "navigate",
                value: function() {
                    var t, n = this,
                        o = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        i = (0, p.isString)(o) ? o : o.path,
                        s = o.query || null,
                        l = o.hash || null,
                        u = o.name || null,
                        f = o.silent || !1,
                        d = o.params || null,
                        y = this.locale ? (0, p.addLeadingSlash)(this.locale) : "";
                    if (null !== u && (i = this._matchRouteByName(u).path), null !== i)
                        if (i = this._cleanPath(i), null !== (t = this._match(i))) {
                            var v = t.route,
                                _ = t.callback,
                                m = t.component;
                            d && "object" === (void 0 === d ? "undefined" : r(d)) && (v.params = (0, c.default)(v.params, d)), v = (0, c.default)(v, {
                                query: s,
                                hash: l
                            }), this._isRouteEqual(this.currentRoute, v) || ("function" == typeof _ || "function" == typeof m ? new a.default(function(e, t) {
                                "function" == typeof n.beforeEach ? (n.beforeEach(n.lastRoute, v, e), n.beforeEachChanged.dispatch(n.lastRoute, v, e)) : e(!0)
                            }).then(function() {
                                if (arguments.length > 0 && void 0 !== arguments[0] && !arguments[0]) n.debugMode && console.log("%cRouter.hooks", h, "beforeEach stopped route change");
                                else {
                                    n.currentRoute = v;
                                    var t = {
                                        pathname: "" + y + i,
                                        search: s,
                                        hash: l,
                                        state: v
                                    };
                                    if (!0 === f ? (n.action = e.REPLACE_ACTION, n.history.replace(t)) : (n.action = e.PUSH_ACTION, n.history.push(t)), "function" == typeof m) {
                                        var o = new m;
                                        n.currentRoute.instance = o
                                    }
                                    new a.default(function(e, t) {
                                        "function" == typeof n.afterEach ? (n.afterEach(n.lastRoute, n.currentRoute, e), n.afterEachChanged.dispatch(n.lastRoute, n.currentRoute, e)) : e(!0)
                                    }).then(function() {
                                        arguments.length > 0 && void 0 !== arguments[0] && !arguments[0] ? n.debugMode && console.log("%cRouter.hooks", h, "afterEach stopped route change") : ("function" == typeof _ && _.call(n, n.currentRoute), "function" == typeof m && (n.pageInstance = n.currentRoute.instance, n.preRendered && n.isFirstRoute ? n.pageInstance.$preRenderMount(n._mountEl.firstElementChild) : n.pageInstance.$mount(n._mountEl, "append")), n._parseAnchors(), null === n.lastRoute ? (n.isFirstRoute = !1, n.lastRoute = v) : n.lastRoute = n.currentRoute)
                                    })
                                }
                            }) : this.debugMode && console.log("%cRouter.navigate", h, "Cancel because no callback or component found"))
                        } else console.error("Router.navigate : No matching route found with path : '" + i + "'");
                    else console.error("Router.navigate : Cannot get route path")
                }
            }, {
                key: "go",
                value: function(e) {
                    this.history.go(e)
                }
            }, {
                key: "back",
                value: function() {
                    this.history.goBack()
                }
            }, {
                key: "forward",
                value: function() {
                    this.history.goForward()
                }
            }, {
                key: "replace",
                value: function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e.silent = !0, this.navigate(e)
                }
            }, {
                key: "beforeEach",
                value: function(e, t, n) {
                    e && e.instance && e.instance.$destroy(), n()
                }
            }, {
                key: "afterEach",
                value: function(e, t, n) {
                    n()
                }
            }, {
                key: "_createHistory",
                value: function() {
                    var t = {
                        basename: this.basePath
                    };
                    this.debugMode && console.log("%cRouter", h, "Browser history mode : " + this.mode), !0 === (0, p.supportsBrowserHistory)() && this.mode === e.BROWSER_MODE ? this.history = (0, f.createBrowserHistory)(o({
                        keyLength: 6
                    }, t)) : this.mode === e.HASH_MODE ? this.history = (0, f.createHashHistory)(o({
                        hashType: "slash"
                    }, t)) : this.mode === e.MEMORY_MODE ? this.history = (0, f.createMemoryHistory)({
                        keyLength: 6
                    }) : console.error("Router : Unknown history browser mode : '" + this.mode + "'"), p.supportsScrollRestoration && (window.history.scrollRestoration = this.restoreScroll ? "auto" : "manual")
                }
            }, {
                key: "_bind",
                value: function() {
                    this._anchorLink = this._anchorLink.bind(this), this._handleListen = this._handleListen.bind(this), this._handleHashChange = this._handleHashChange.bind(this), this.mode === e.HASH_MODE ? window.addEventListener("hashchange", this._handleHashChange, !1) : this.unlisten = this.history.listen(this._handleListen)
                }
            }, {
                key: "_unbind",
                value: function() {
                    this.mode === e.HASH_MODE ? window.removeEventListener("hashchange", this._handleHashChange, !1) : "function" == typeof this.unlisten && this.unlisten()
                }
            }, {
                key: "_handleListen",
                value: function(t, n) {
                    if ((n = n.toLowerCase()) === e.POP_ACTION) {
                        var o = t.state,
                            r = o.path,
                            i = o.query,
                            a = o.hash;
                        this.replace({
                            path: r,
                            query: i,
                            hash: a
                        })
                    }
                    this._dispatchRouteChange()
                }
            }, {
                key: "_handleHashChange",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        n = t.oldURL,
                        o = void 0 === n ? window.location.hash : n,
                        r = t.newURL,
                        i = void 0 === r ? window.location.hash : r;
                    if (0 !== (0, p.getHashPath)(o).length) {
                        if (this.action === e.POP_ACTION) {
                            var a = this._match((0, p.getHashPath)(i)).route,
                                s = a.path,
                                l = a.query,
                                u = a.hash;
                            this.replace({
                                path: s,
                                query: l,
                                hash: u
                            })
                        }
                        this.lastRoute = this._match((0, p.getHashPath)(o)).route, this.currentRoute = this._match((0, p.getHashPath)(i)).route, this._dispatchRouteChange()
                    }
                }
            }, {
                key: "_dispatchRouteChange",
                value: function() {
                    if (this.routeChanged.dispatch(this.lastRoute, this.currentRoute), this.debugMode && this.action !== e.POP_ACTION) {
                        var t = "%cRouter.routeChange (" + this.action + ")",
                            n = (0, p.generateSpaces)(t);
                        console.log(t, h, "Last route :", this.lastRoute), console.log(n, "Current route :", this.currentRoute)
                    }
                    this.action = e.POP_ACTION
                }
            }, {
                key: "_firstRoute",
                value: function() {
                    var t = this.history.location,
                        n = t.pathname,
                        o = t.search,
                        r = t.hash;
                    this.navigate({
                        path: n,
                        query: o,
                        hash: r,
                        silent: !0
                    }), this.mode === e.HASH_MODE && this._handleHashChange()
                }
            }, {
                key: "_parseRoutes",
                value: function() {
                    for (var e = 0, t = this.routes.length; e < t; e++) {
                        var n = [];
                        this.routeData.push({
                            route: this.routes[e],
                            regexp: (0, l.default)(this.routes[e].path, n),
                            keys: n
                        })
                    }
                }
            }, {
                key: "_getFullPath",
                value: function(e) {
                    var t = e.basePath,
                        n = void 0 === t ? this.basePath : t,
                        o = e.locale,
                        r = void 0 === o ? null : o,
                        i = e.path,
                        a = void 0 === i ? null : i,
                        s = e.query,
                        l = void 0 === s ? null : s,
                        u = e.hash,
                        c = void 0 === u ? null : u;
                    return "" + (n = n || "") + (r = r ? (0, p.addLeadingSlash)(r) : "") + (a = a || "") + (l = l || "") + (c || "")
                }
            }, {
                key: "_matchRouteByName",
                value: function(e) {
                    if (void 0 !== e && (0, p.isString)(e)) {
                        var t = (0, u.default)(this.routes, {
                            name: e
                        });
                        return void 0 !== t ? t : null
                    }
                    console.error("Router._matchRouteByName : Name argument is required and must be a string")
                }
            }, {
                key: "_match",
                value: function(e) {
                    if (void 0 !== e && (0, p.isString)(e)) {
                        for (var t = 0, n = this.routeData.length; t < n; t++) {
                            var o = this.routeData[t].regexp.exec(e);
                            if (null !== o) {
                                for (var r = o.splice(1), i = {}, a = 0, s = r.length; a < s; a++) i[this.routeData[t].keys[a].name] = r[a];
                                var l = this.history.location,
                                    u = l.query,
                                    c = l.hash;
                                u = u || null, c = c || null;
                                var f = this.routeData[t].route,
                                    d = f.name,
                                    h = f.callback,
                                    y = this.routeData[t].route.component;
                                return {
                                    route: {
                                        name: d,
                                        path: e,
                                        params: i,
                                        query: u,
                                        hash: c
                                    },
                                    component: this.components[y],
                                    callback: h
                                }
                            }
                        }
                        return null
                    }
                    console.error("Router._match : Path argument is required and must be a string")
                }
            }, {
                key: "_isRouteEqual",
                value: function(e, t) {
                    return null !== e && null !== t && e.name === t.name && JSON.stringify(e.params) === JSON.stringify(t.params) && (this.debugMode && console.log("%cRouter.navigate", h, "Cancel because same route", t), !0)
                }
            }, {
                key: "_parseAnchors",
                value: function() {
                    for (var e = document.getElementsByTagName("a"), t = 0, n = e.length; t < n; t++) {
                        var o = e[t];
                        "function" == typeof o.getAttribute && "internal" === o.getAttribute("rel") && (o.removeEventListener("click", this._anchorLink, !1), o.addEventListener("click", this._anchorLink, !1))
                    }
                }
            }, {
                key: "_anchorLink",
                value: function(e) {
                    e.preventDefault();
                    var t = e.currentTarget.getAttribute("href");
                    t && this.navigate((0, p.addLeadingSlash)(t))
                }
            }, {
                key: "_cleanPath",
                value: function(e) {
                    if (void 0 !== e && (0, p.isString)(e)) {
                        var t = e;
                        return (0, p.startsWith)(t, this.basePath) && (t = t.slice(this.basePath.length)), 0 === t.indexOf((0, p.addLeadingSlash)(this.locale)) && 0 !== this.locale.length && (t = t.substr(this.locale.length + 1)), "/" !== t && (t = (0, p.stripTrailingSlash)(t)), t
                    }
                    console.error("Router._cleanPath : Path argument is required and must be a string")
                }
            }]), e
        }();
    y.BROWSER_MODE = "browser", y.HASH_MODE = "hash", y.MEMORY_MODE = "memory", y.PUSH_ACTION = "push", y.REPLACE_ACTION = "replace", y.POP_ACTION = "pop", t.default = y, e.exports = t.default
}, function(e, t, n) {
    var o;
    ! function(r) {
        "use strict";
        void 0 === (o = function() {
            function e(e) {
                this._async = e, this._running = !1, this._queue = this, this._queueLen = 0, this._afterQueue = {}, this._afterQueueLen = 0;
                var t = this;
                this.drain = function() {
                    t._drain()
                }
            }
            return e.prototype.enqueue = function(e) {
                this._queue[this._queueLen++] = e, this.run()
            }, e.prototype.afterQueue = function(e) {
                this._afterQueue[this._afterQueueLen++] = e, this.run()
            }, e.prototype.run = function() {
                this._running || (this._running = !0, this._async(this.drain))
            }, e.prototype._drain = function() {
                for (var e = 0; e < this._queueLen; ++e) this._queue[e].run(), this._queue[e] = void 0;
                for (this._queueLen = 0, this._running = !1, e = 0; e < this._afterQueueLen; ++e) this._afterQueue[e].run(), this._afterQueue[e] = void 0;
                this._afterQueueLen = 0
            }, e
        }.call(t, n, t, e)) || (e.exports = o)
    }(n(9))
}, function(e, t, n) {
    (function(o) {
        var r;
        ! function(i) {
            "use strict";
            void 0 === (r = function() {
                return function(e) {
                    var t = e.scheduler,
                        n = function() {
                            return void 0 !== o && null !== o && "function" == typeof o.emit ? function(e, t) {
                                return "unhandledRejection" === e ? o.emit(e, t.value, t) : o.emit(e, t)
                            } : "undefined" != typeof self && function() {
                                if ("function" == typeof CustomEvent) try {
                                    return new CustomEvent("unhandledRejection") instanceof CustomEvent
                                } catch (e) {}
                                return !1
                            }() ? (e = self, t = CustomEvent, function(n, o) {
                                var r = new t(n, {
                                    detail: {
                                        reason: o.value,
                                        key: o
                                    },
                                    bubbles: !1,
                                    cancelable: !0
                                });
                                return !e.dispatchEvent(r)
                            }) : "undefined" != typeof self && function() {
                                if ("undefined" != typeof document && "function" == typeof document.createEvent) try {
                                    return document.createEvent("CustomEvent").initCustomEvent("eventType", !1, !0, {}), !0
                                } catch (e) {}
                                return !1
                            }() ? function(e, t) {
                                return function(n, o) {
                                    var r = t.createEvent("CustomEvent");
                                    return r.initCustomEvent(n, !1, !0, {
                                        reason: o.value,
                                        key: o
                                    }), !e.dispatchEvent(r)
                                }
                            }(self, document) : F;
                            var e, t
                        }(),
                        r = Object.create || function(e) {
                            function t() {}
                            return t.prototype = e, new t
                        };

                    function i(e, t) {
                        this._handler = e === y ? t : function(e) {
                            var t = new m;
                            try {
                                e(function(e) {
                                    t.resolve(e)
                                }, n, function(e) {
                                    t.notify(e)
                                })
                            } catch (e) {
                                n(e)
                            }
                            return t;

                            function n(e) {
                                t.reject(e)
                            }
                        }(e)
                    }

                    function a(e) {
                        return C(e) ? e : new i(y, new g(d(e)))
                    }

                    function s(e) {
                        return new i(y, new g(new k(e)))
                    }

                    function l() {
                        return P
                    }

                    function u(e, t, n) {
                        for (var o, r = "function" == typeof t ? function(o, r, i) {
                                i.resolved || c(n, f, o, e(t, r, o), i)
                            } : f, a = new m, s = n.length >>> 0, l = new Array(s), u = 0; u < n.length && !a.resolved; ++u) void 0 !== (o = n[u]) || u in n ? c(n, r, u, o, a) : --s;
                        return 0 === s && a.become(new w(l)), new i(y, a);

                        function f(e, t, n) {
                            l[e] = t, 0 == --s && n.become(new w(l))
                        }
                    }

                    function c(e, t, n, o, r) {
                        if (D(o)) {
                            var i = function(e) {
                                    return C(e) ? e._handler.join() : h(e)
                                }(o),
                                a = i.state();
                            0 === a ? i.fold(t, n, void 0, r) : a > 0 ? t(n, i.value, r) : (r.become(i), f(e, n + 1, i))
                        } else t(n, o, r)
                    }

                    function f(e, t, n) {
                        for (var o = t; o < e.length; ++o) p(d(e[o]), n)
                    }

                    function p(e, t) {
                        if (e !== t) {
                            var n = e.state();
                            0 === n ? e.visit(e, void 0, e._unreport) : n < 0 && e._unreport()
                        }
                    }

                    function d(e) {
                        return C(e) ? e._handler.join() : D(e) ? h(e) : new w(e)
                    }

                    function h(e) {
                        try {
                            var t = e.then;
                            return "function" == typeof t ? new b(t, e) : new w(e)
                        } catch (e) {
                            return new k(e)
                        }
                    }

                    function y() {}

                    function v() {}
                    i.resolve = a, i.reject = s, i.never = l, i._defer = function() {
                        return new i(y, new m)
                    }, i._handler = d, i.prototype.then = function(e, t, n) {
                        var o = this._handler,
                            r = o.join().state();
                        if ("function" != typeof e && r > 0 || "function" != typeof t && r < 0) return new this.constructor(y, o);
                        var i = this._beget(),
                            a = i._handler;
                        return o.chain(a, o.receiver, e, t, n), i
                    }, i.prototype.catch = function(e) {
                        return this.then(void 0, e)
                    }, i.prototype._beget = function() {
                        return e = this._handler, new(0, this.constructor)(y, new m(e.receiver, e.join().context));
                        var e
                    }, i.all = function(e) {
                        return u(I, null, e)
                    }, i.race = function(e) {
                        return "object" != typeof e || null === e ? s(new TypeError("non-iterable passed to race()")) : 0 === e.length ? l() : 1 === e.length ? a(e[0]) : function(e) {
                            var t, n, o, r = new m;
                            for (t = 0; t < e.length; ++t)
                                if (void 0 !== (n = e[t]) || t in e) {
                                    if (0 !== (o = d(n)).state()) {
                                        r.become(o), f(e, t + 1, o);
                                        break
                                    }
                                    o.visit(r, r.resolve, r.reject)
                                }
                            return new i(y, r)
                        }(e)
                    }, i._traverse = function(e, t) {
                        return u(L, e, t)
                    }, i._visitRemaining = f, y.prototype.when = y.prototype.become = y.prototype.notify = y.prototype.fail = y.prototype._unreport = y.prototype._report = F, y.prototype._state = 0, y.prototype.state = function() {
                        return this._state
                    }, y.prototype.join = function() {
                        for (var e = this; void 0 !== e.handler;) e = e.handler;
                        return e
                    }, y.prototype.chain = function(e, t, n, o, r) {
                        this.when({
                            resolver: e,
                            receiver: t,
                            fulfilled: n,
                            rejected: o,
                            progress: r
                        })
                    }, y.prototype.visit = function(e, t, n, o) {
                        this.chain(_, e, t, n, o)
                    }, y.prototype.fold = function(e, t, n, o) {
                        this.when(new M(e, t, n, o))
                    }, z(y, v), v.prototype.become = function(e) {
                        e.fail()
                    };
                    var _ = new v;

                    function m(e, t) {
                        i.createContext(this, t), this.consumers = void 0, this.receiver = e, this.handler = void 0, this.resolved = !1
                    }

                    function g(e) {
                        this.handler = e
                    }

                    function b(e, n) {
                        m.call(this), t.enqueue(new j(e, n, this))
                    }

                    function w(e) {
                        i.createContext(this), this.value = e
                    }
                    z(y, m), m.prototype._state = 0, m.prototype.resolve = function(e) {
                        this.become(d(e))
                    }, m.prototype.reject = function(e) {
                        this.resolved || this.become(new k(e))
                    }, m.prototype.join = function() {
                        if (!this.resolved) return this;
                        for (var e = this; void 0 !== e.handler;)
                            if ((e = e.handler) === this) return this.handler = new k(new TypeError("Promise cycle"));
                        return e
                    }, m.prototype.run = function() {
                        var e = this.consumers,
                            t = this.handler;
                        this.handler = this.handler.join(), this.consumers = void 0;
                        for (var n = 0; n < e.length; ++n) t.when(e[n])
                    }, m.prototype.become = function(e) {
                        this.resolved || (this.resolved = !0, this.handler = e, void 0 !== this.consumers && t.enqueue(this), void 0 !== this.context && e._report(this.context))
                    }, m.prototype.when = function(e) {
                        this.resolved ? t.enqueue(new S(e, this.handler)) : void 0 === this.consumers ? this.consumers = [e] : this.consumers.push(e)
                    }, m.prototype.notify = function(e) {
                        this.resolved || t.enqueue(new T(e, this))
                    }, m.prototype.fail = function(e) {
                        var t = void 0 === e ? this.context : e;
                        this.resolved && this.handler.join().fail(t)
                    }, m.prototype._report = function(e) {
                        this.resolved && this.handler.join()._report(e)
                    }, m.prototype._unreport = function() {
                        this.resolved && this.handler.join()._unreport()
                    }, z(y, g), g.prototype.when = function(e) {
                        t.enqueue(new S(e, this))
                    }, g.prototype._report = function(e) {
                        this.join()._report(e)
                    }, g.prototype._unreport = function() {
                        this.join()._unreport()
                    }, z(m, b), z(y, w), w.prototype._state = 1, w.prototype.fold = function(e, t, n, o) {
                        ! function(e, t, n, o, r) {
                            if ("function" != typeof e) return r.become(n);
                            i.enterContext(n),
                                function(e, t, n, o, r) {
                                    try {
                                        e.call(o, t, n, r)
                                    } catch (e) {
                                        r.become(new k(e))
                                    }
                                }(e, t, n.value, o, r), i.exitContext()
                        }(e, t, this, n, o)
                    }, w.prototype.when = function(e) {
                        R(e.fulfilled, this, e.receiver, e.resolver)
                    };
                    var x = 0;

                    function k(e) {
                        i.createContext(this), this.id = ++x, this.value = e, this.handled = !1, this.reported = !1, this._report()
                    }

                    function O(e, t) {
                        this.rejection = e, this.context = t
                    }

                    function E(e) {
                        this.rejection = e
                    }
                    z(y, k), k.prototype._state = -1, k.prototype.fold = function(e, t, n, o) {
                        o.become(this)
                    }, k.prototype.when = function(e) {
                        "function" == typeof e.rejected && this._unreport(), R(e.rejected, this, e.receiver, e.resolver)
                    }, k.prototype._report = function(e) {
                        t.afterQueue(new O(this, e))
                    }, k.prototype._unreport = function() {
                        this.handled || (this.handled = !0, t.afterQueue(new E(this)))
                    }, k.prototype.fail = function(e) {
                        this.reported = !0, n("unhandledRejection", this), i.onFatalRejection(this, void 0 === e ? this.context : e)
                    }, O.prototype.run = function() {
                        this.rejection.handled || this.rejection.reported || (this.rejection.reported = !0, n("unhandledRejection", this.rejection) || i.onPotentiallyUnhandledRejection(this.rejection, this.context))
                    }, E.prototype.run = function() {
                        this.rejection.reported && (n("rejectionHandled", this.rejection) || i.onPotentiallyUnhandledRejectionHandled(this.rejection))
                    }, i.createContext = i.enterContext = i.exitContext = i.onPotentiallyUnhandledRejection = i.onPotentiallyUnhandledRejectionHandled = i.onFatalRejection = F;
                    var P = new i(y, new y);

                    function S(e, t) {
                        this.continuation = e, this.handler = t
                    }

                    function T(e, t) {
                        this.handler = t, this.value = e
                    }

                    function j(e, t, n) {
                        this._then = e, this.thenable = t, this.resolver = n
                    }

                    function M(e, t, n, o) {
                        this.f = e, this.z = t, this.c = n, this.to = o, this.resolver = _, this.receiver = this
                    }

                    function C(e) {
                        return e instanceof i
                    }

                    function D(e) {
                        return ("object" == typeof e || "function" == typeof e) && null !== e
                    }

                    function R(e, t, n, o) {
                        if ("function" != typeof e) return o.become(t);
                        i.enterContext(t),
                            function(e, t, n, o) {
                                try {
                                    o.become(d(e.call(n, t)))
                                } catch (e) {
                                    o.become(new k(e))
                                }
                            }(e, t.value, n, o), i.exitContext()
                    }

                    function A(e, t, n, o, r) {
                        if ("function" != typeof e) return r.notify(t);
                        i.enterContext(n),
                            function(e, t, n, o) {
                                try {
                                    o.notify(e.call(n, t))
                                } catch (e) {
                                    o.notify(e)
                                }
                            }(e, t, o, r), i.exitContext()
                    }

                    function L(e, t, n) {
                        try {
                            return e(t, n)
                        } catch (e) {
                            return s(e)
                        }
                    }

                    function z(e, t) {
                        t.prototype = r(e.prototype), t.prototype.constructor = t
                    }

                    function I(e, t) {
                        return t
                    }

                    function F() {}
                    return S.prototype.run = function() {
                        this.handler.join().when(this.continuation)
                    }, T.prototype.run = function() {
                        var e = this.handler.consumers;
                        if (void 0 !== e)
                            for (var t, n = 0; n < e.length; ++n) A((t = e[n]).progress, this.value, this.handler, t.receiver, t.resolver)
                    }, j.prototype.run = function() {
                        var e = this.resolver;
                        ! function(e, t, n, o, r) {
                            try {
                                e.call(t, n, o, r)
                            } catch (e) {
                                o(e)
                            }
                        }(this._then, this.thenable, function(t) {
                            e.resolve(t)
                        }, function(t) {
                            e.reject(t)
                        }, function(t) {
                            e.notify(t)
                        })
                    }, M.prototype.fulfilled = function(e) {
                        this.f.call(this.c, this.z, e, this.to)
                    }, M.prototype.rejected = function(e) {
                        this.to.reject(e)
                    }, M.prototype.progress = function(e) {
                        this.to.notify(e)
                    }, i
                }
            }.call(t, n, t, e)) || (e.exports = r)
        }(n(9))
    }).call(this, n(38))
}, function(e, t, n) {
    var o;
    ! function(r) {
        "use strict";
        void 0 === (o = function(e) {
            return n(595)({
                scheduler: new(n(594))(n(122).asap)
            })
        }.call(t, n, t, e)) || (e.exports = o)
    }(n(9))
}, function(e, t, n) {
    var o;
    ! function(r) {
        "use strict";
        void 0 === (o = function() {
            return {
                formatError: function(t) {
                    var n = "object" == typeof t && null !== t && (t.stack || t.message) ? t.stack || t.message : e(t);
                    return t instanceof Error ? n : n + " (WARNING: non-Error used)"
                },
                formatObject: e,
                tryStringify: t
            };

            function e(e) {
                var n = String(e);
                return "[object Object]" === n && "undefined" != typeof JSON && (n = t(e, n)), n
            }

            function t(e, t) {
                try {
                    return JSON.stringify(e)
                } catch (e) {
                    return t
                }
            }
        }.call(t, n, t, e)) || (e.exports = o)
    }(n(9))
}, function(e, t, n) {
    var o;
    ! function(r) {
        "use strict";
        void 0 === (o = function(e) {
            var t = n(122).setTimer,
                o = n(597);
            return function(e) {
                var n, a = i,
                    s = i;
                "undefined" != typeof console && (n = console, a = void 0 !== n.error ? function(e) {
                    n.error(e)
                } : function(e) {
                    n.log(e)
                }, s = void 0 !== n.info ? function(e) {
                    n.info(e)
                } : function(e) {
                    n.log(e)
                }), e.onPotentiallyUnhandledRejection = function(e) {
                    d(f, e)
                }, e.onPotentiallyUnhandledRejectionHandled = function(e) {
                    d(p, e)
                }, e.onFatalRejection = function(e) {
                    d(r, e.value)
                };
                var l = [],
                    u = [],
                    c = null;

                function f(e) {
                    e.handled || (u.push(e), a("Potentially unhandled rejection [" + e.id + "] " + o.formatError(e.value)))
                }

                function p(e) {
                    var t = u.indexOf(e);
                    t >= 0 && (u.splice(t, 1), s("Handled previous rejection [" + e.id + "] " + o.formatObject(e.value)))
                }

                function d(e, n) {
                    l.push(e, n), null === c && (c = t(h, 0))
                }

                function h() {
                    for (c = null; l.length > 0;) l.shift()(l.shift())
                }
                return e
            };

            function r(e) {
                throw e
            }

            function i() {}
        }.call(t, n, t, e)) || (e.exports = o)
    }(n(9))
}, function(e, t, n) {
    var o;
    ! function(r) {
        "use strict";
        void 0 === (o = function() {
            return function(e) {
                return e.prototype.with = e.prototype.withThis = function(e) {
                    var t = this._beget(),
                        n = t._handler;
                    return n.receiver = e, this._handler.chain(n, e), t
                }, e
            }
        }.call(t, n, t, e)) || (e.exports = o)
    }(n(9))
}, function(e, t, n) {
    var o;
    ! function(r) {
        "use strict";
        void 0 === (o = function() {
            return function(e) {
                return e.prototype.progress = function(e) {
                    return this.then(void 0, void 0, e)
                }, e
            }
        }.call(t, n, t, e)) || (e.exports = o)
    }(n(9))
}, function(e, t, n) {
    var o;
    ! function(r) {
        "use strict";
        void 0 === (o = function() {
            return function(e) {
                var t = e.resolve;
                return e.iterate = function(e, t, o, r) {
                    return n(function(t) {
                        return [t, e(t)]
                    }, t, o, r)
                }, e.unfold = n, e;

                function n(e, o, r, i) {
                    return t(i).then(function(n) {
                        return t(o(n)).then(function(o) {
                            return o ? n : t(e(n)).spread(a)
                        })
                    });

                    function a(i, a) {
                        return t(r(i)).then(function() {
                            return n(e, o, r, a)
                        })
                    }
                }
            }
        }.call(t, n, t, e)) || (e.exports = o)
    }(n(9))
}, function(e, t, n) {
    var o;
    ! function(r) {
        "use strict";
        void 0 === (o = function(e) {
            var t = n(196).inspect;
            return function(e) {
                return e.prototype.inspect = function() {
                    return t(e._handler(this))
                }, e
            }
        }.call(t, n, t, e)) || (e.exports = o)
    }(n(9))
}, function(e, t, n) {
    var o;
    ! function(r) {
        "use strict";
        void 0 === (o = function() {
            return function(e) {
                return e.prototype.fold = function(t, n) {
                    var o = this._beget();
                    return this._handler.fold(function(n, o, r) {
                        e._handler(n).fold(function(e, n, o) {
                            o.resolve(t.call(this, n, e))
                        }, o, this, r)
                    }, n, o._handler.receiver, o._handler), o
                }, e
            }
        }.call(t, n, t, e)) || (e.exports = o)
    }(n(9))
}, function(e, t, n) {
    var o;
    ! function(r) {
        "use strict";
        void 0 === (o = function() {
            return function(n) {
                var o = n.resolve,
                    r = n.reject,
                    i = n.prototype.catch;

                function a(e, t, n, r) {
                    var i, a = e.call(t);
                    return "object" != typeof(i = a) && "function" != typeof i || null === i ? n(r) : function(e, t, n) {
                        return o(a).then(function() {
                            return t(n)
                        })
                    }(0, n, r)
                }
                return n.prototype.done = function(e, t) {
                    this._handler.visit(this._handler.receiver, e, t)
                }, n.prototype.catch = n.prototype.otherwise = function(t) {
                    return arguments.length < 2 ? i.call(this, t) : "function" != typeof t ? this.ensure(e) : i.call(this, (n = arguments[1], o = t, function(e) {
                        return function(e, t) {
                            return t === Error || null != t && t.prototype instanceof Error ? e instanceof t : t(e)
                        }(e, o) ? n.call(this, e) : r(e)
                    }));
                    var n, o
                }, n.prototype.finally = n.prototype.ensure = function(e) {
                    return "function" != typeof e ? this : this.then(function(n) {
                        return a(e, this, t, n)
                    }, function(t) {
                        return a(e, this, r, t)
                    })
                }, n.prototype.else = n.prototype.orElse = function(e) {
                    return this.then(void 0, function() {
                        return e
                    })
                }, n.prototype.yield = function(e) {
                    return this.then(function() {
                        return e
                    })
                }, n.prototype.tap = function(e) {
                    return this.then(e).yield(this)
                }, n
            };

            function e() {
                throw new TypeError("catch predicate must be a function")
            }

            function t(e) {
                return e
            }
        }.call(t, n, t, e)) || (e.exports = o)
    }(n(9))
}, function(e, t, n) {
    var o;
    ! function(r) {
        "use strict";
        void 0 === (o = function(e) {
            var t = n(196),
                o = n(195);
            return function(e) {
                var n = o(e),
                    r = e.resolve,
                    i = e.all,
                    a = Array.prototype.reduce,
                    s = Array.prototype.reduceRight,
                    l = Array.prototype.slice;
                return e.any = function(t) {
                    for (var n, o, r = e._defer(), i = r._handler, a = t.length >>> 0, s = a, l = [], u = 0; u < a; ++u)
                        if (void 0 !== (o = t[u]) || u in t) {
                            if ((n = e._handler(o)).state() > 0) {
                                i.become(n), e._visitRemaining(t, u, n);
                                break
                            }
                            n.visit(i, c, f)
                        } else --s;
                    return 0 === s && i.reject(new RangeError("any(): array must not be empty")), r;

                    function c(e) {
                        l = null, this.resolve(e)
                    }

                    function f(e) {
                        this.resolved || (l.push(e), 0 == --s && this.reject(l))
                    }
                }, e.some = function(t, n) {
                    var o, r, i, a = e._defer(),
                        s = a._handler,
                        l = [],
                        u = [],
                        c = t.length >>> 0,
                        f = 0;
                    for (i = 0; i < c; ++i)(void 0 !== (r = t[i]) || i in t) && ++f;
                    for (n = Math.max(n, 0), o = f - n + 1, n > (f = Math.min(n, f)) ? s.reject(new RangeError("some(): array must contain at least " + n + " item(s), but had " + f)) : 0 === f && s.resolve(l), i = 0; i < c; ++i)(void 0 !== (r = t[i]) || i in t) && e._handler(r).visit(s, p, d, s.notify);
                    return a;

                    function p(e) {
                        this.resolved || (l.push(e), 0 == --f && (u = null, this.resolve(l)))
                    }

                    function d(e) {
                        this.resolved || (u.push(e), 0 == --o && (l = null, this.reject(u)))
                    }
                }, e.settle = function(e) {
                    return i(e.map(u))
                }, e.map = function(t, n) {
                    return e._traverse(n, t)
                }, e.filter = function(t, n) {
                    var o = l.call(t);
                    return e._traverse(n, o).then(function(t) {
                        return function(t, n) {
                            for (var o = n.length, r = new Array(o), i = 0, a = 0; i < o; ++i) n[i] && (r[a++] = e._handler(t[i]).value);
                            return r.length = a, r
                        }(o, t)
                    })
                }, e.reduce = function(e, t) {
                    return arguments.length > 2 ? a.call(e, c(t), arguments[2]) : a.call(e, c(t))
                }, e.reduceRight = function(e, t) {
                    return arguments.length > 2 ? s.call(e, c(t), arguments[2]) : s.call(e, c(t))
                }, e.prototype.spread = function(e) {
                    return this.then(i).then(function(t) {
                        return e.apply(this, t)
                    })
                }, e;

                function u(n) {
                    var o;
                    return n instanceof e && (o = n._handler.join()), o && 0 === o.state() || !o ? r(n).then(t.fulfilled, t.rejected) : (o._unreport(), t.inspect(o))
                }

                function c(e) {
                    return function(t, o, r) {
                        return n(e, void 0, [t, o, r])
                    }
                }
            }
        }.call(t, n, t, e)) || (e.exports = o)
    }(n(9))
}, function(e, t) {}, function(e, t, n) {
    var o;
    ! function(r) {
        "use strict";
        void 0 === (o = function(e) {
            var t = n(122),
                o = n(197);

            function r(e, n, o, r) {
                return t.setTimer(function() {
                    e(o, r, n)
                }, n)
            }
            return function(e) {
                function n(e, t, n) {
                    r(i, e, t, n)
                }

                function i(e, t) {
                    t.resolve(e)
                }

                function a(e, t, n) {
                    var r = void 0 === e ? new o("timed out after " + n + "ms") : e;
                    t.reject(r)
                }
                return e.prototype.delay = function(e) {
                    var t = this._beget();
                    return this._handler.fold(n, e, void 0, t._handler), t
                }, e.prototype.timeout = function(e, n) {
                    var o = this._beget(),
                        i = o._handler,
                        s = r(a, e, n, o._handler);
                    return this._handler.visit(i, function(e) {
                        t.clearTimer(s), this.resolve(e)
                    }, function(e) {
                        t.clearTimer(s), this.reject(e)
                    }, i.notify), o
                }, e
            }
        }.call(t, n, t, e)) || (e.exports = o)
    }(n(9))
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.walk = function(e, t) {
        var n = Array.prototype.slice;
        "length" in e || (e = [e]), e = n.call(e);
        for (; e.length;) {
            var o = e.shift();
            t(o) || o.childNodes && o.childNodes.length && (e = n.call(o.childNodes).concat(e))
        }
    }, t.startsWith = function(e, t) {
        return 0 === e.indexOf(t)
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.uuid = function() {
        var e = function() {
            return Math.floor(65536 * (1 + Math.random())).toString(16).substring(1)
        };
        return e() + e() + "-" + e() + "-" + e() + "-" + e() + "-" + (e() + e() + e())
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.scope = function(e, t) {
        for (var n = 0, o = t.length; n < o; n++) e[t[n]] = e[t[n]].bind(e)
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.isObject = function(e) {
        return e === Object(e) && !(0, o.isArray)(e)
    };
    var o = n(198)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.isCorsSupported = function() {
        return "withCredentials" in new window.XMLHttpRequest
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.getURLFileExtension = function(e) {
        if (!e) return null;
        var t = e;
        return -1 === (t = (t = (t = t.substr(1 + t.lastIndexOf("/"))).split("?")[0]).split("#")[0]).lastIndexOf(".") ? null : t.substring(t.lastIndexOf(".") + 1).toLowerCase()
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var o = n(613);
    Object.defineProperty(t, "getURLFileExtension", {
        enumerable: !0,
        get: function() {
            return o.getURLFileExtension
        }
    });
    var r = n(198);
    Object.defineProperty(t, "isArray", {
        enumerable: !0,
        get: function() {
            return r.isArray
        }
    });
    var i = n(612);
    Object.defineProperty(t, "isCorsSupported", {
        enumerable: !0,
        get: function() {
            return i.isCorsSupported
        }
    });
    var a = n(611);
    Object.defineProperty(t, "isObject", {
        enumerable: !0,
        get: function() {
            return a.isObject
        }
    });
    var s = n(610);
    Object.defineProperty(t, "scope", {
        enumerable: !0,
        get: function() {
            return s.scope
        }
    });
    var l = n(609);
    Object.defineProperty(t, "uuid", {
        enumerable: !0,
        get: function() {
            return l.uuid
        }
    })
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.isNodeList = function(e) {
        return !(!e || e.constructor !== window.NodeList)
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.isMediaElement = function(e) {
        for (var t = (0, o.isElement)(e), n = ["HTMLImageElement", "HTMLAudioElement", "HTMLVideoElement"], r = ["IMG", "AUDIO", "VIDEO"], i = 0, a = n.length; i < a; i++)
            if (t && n[i] in window && e instanceof window[n[i]]) return !0;
        for (var s = 0, l = r.length; s < l; s++) return t && e.nodeName === r[s]
    };
    var o = n(199)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.getType = function(e) {
        return {}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.createCanvas = function() {
        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.innerWidth,
            t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : window.innerHeight,
            n = document.createElement("canvas");
        return n.width = e, n.height = t, n.style.width = e + "px", n.style.height = t + "px", n
    }
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var o = n(618);
    Object.defineProperty(t, "createCanvas", {
        enumerable: !0,
        get: function() {
            return o.createCanvas
        }
    });
    var r = n(617);
    Object.defineProperty(t, "getType", {
        enumerable: !0,
        get: function() {
            return r.getType
        }
    });
    var i = n(199);
    Object.defineProperty(t, "isElement", {
        enumerable: !0,
        get: function() {
            return i.isElement
        }
    });
    var a = n(616);
    Object.defineProperty(t, "isMediaElement", {
        enumerable: !0,
        get: function() {
            return a.isMediaElement
        }
    });
    var s = n(615);
    Object.defineProperty(t, "isNodeList", {
        enumerable: !0,
        get: function() {
            return s.isNodeList
        }
    })
}, function(e, t, n) {
    e.exports = n(619)
}, function(e, t) {}, function(e, t, n) {
    (function(e) {
        function n(e, t) {
            for (var n = 0, o = e.length - 1; o >= 0; o--) {
                var r = e[o];
                "." === r ? e.splice(o, 1) : ".." === r ? (e.splice(o, 1), n++) : n && (e.splice(o, 1), n--)
            }
            if (t)
                for (; n--; n) e.unshift("..");
            return e
        }
        var o = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,
            r = function(e) {
                return o.exec(e).slice(1)
            };

        function i(e, t) {
            if (e.filter) return e.filter(t);
            for (var n = [], o = 0; o < e.length; o++) t(e[o], o, e) && n.push(e[o]);
            return n
        }
        t.resolve = function() {
            for (var t = "", o = !1, r = arguments.length - 1; r >= -1 && !o; r--) {
                var a = r >= 0 ? arguments[r] : e.cwd();
                if ("string" != typeof a) throw new TypeError("Arguments to path.resolve must be strings");
                a && (t = a + "/" + t, o = "/" === a.charAt(0))
            }
            return t = n(i(t.split("/"), function(e) {
                return !!e
            }), !o).join("/"), (o ? "/" : "") + t || "."
        }, t.normalize = function(e) {
            var o = t.isAbsolute(e),
                r = "/" === a(e, -1);
            return (e = n(i(e.split("/"), function(e) {
                return !!e
            }), !o).join("/")) || o || (e = "."), e && r && (e += "/"), (o ? "/" : "") + e
        }, t.isAbsolute = function(e) {
            return "/" === e.charAt(0)
        }, t.join = function() {
            var e = Array.prototype.slice.call(arguments, 0);
            return t.normalize(i(e, function(e, t) {
                if ("string" != typeof e) throw new TypeError("Arguments to path.join must be strings");
                return e
            }).join("/"))
        }, t.relative = function(e, n) {
            function o(e) {
                for (var t = 0; t < e.length && "" === e[t]; t++);
                for (var n = e.length - 1; n >= 0 && "" === e[n]; n--);
                return t > n ? [] : e.slice(t, n - t + 1)
            }
            e = t.resolve(e).substr(1), n = t.resolve(n).substr(1);
            for (var r = o(e.split("/")), i = o(n.split("/")), a = Math.min(r.length, i.length), s = a, l = 0; l < a; l++)
                if (r[l] !== i[l]) {
                    s = l;
                    break
                }
            var u = [];
            for (l = s; l < r.length; l++) u.push("..");
            return (u = u.concat(i.slice(s))).join("/")
        }, t.sep = "/", t.delimiter = ":", t.dirname = function(e) {
            var t = r(e),
                n = t[0],
                o = t[1];
            return n || o ? (o && (o = o.substr(0, o.length - 1)), n + o) : "."
        }, t.basename = function(e, t) {
            var n = r(e)[2];
            return t && n.substr(-1 * t.length) === t && (n = n.substr(0, n.length - t.length)), n
        }, t.extname = function(e) {
            return r(e)[3]
        };
        var a = "b" === "ab".substr(-1) ? function(e, t, n) {
            return e.substr(t, n)
        } : function(e, t, n) {
            return t < 0 && (t = e.length + t), e.substr(t, n)
        }
    }).call(this, n(38))
}, function(e, t, n) {
    (function(t, o) {
        e.exports = function(e) {
            var t = {};

            function n(o) {
                if (t[o]) return t[o].exports;
                var r = t[o] = {
                    i: o,
                    l: !1,
                    exports: {}
                };
                return e[o].call(r.exports, r, r.exports, n), r.l = !0, r.exports
            }
            return n.m = e, n.c = t, n.d = function(e, t, o) {
                n.o(e, t) || Object.defineProperty(e, t, {
                    configurable: !1,
                    enumerable: !0,
                    get: o
                })
            }, n.r = function(e) {
                Object.defineProperty(e, "__esModule", {
                    value: !0
                })
            }, n.n = function(e) {
                var t = e && e.__esModule ? function() {
                    return e.default
                } : function() {
                    return e
                };
                return n.d(t, "a", t), t
            }, n.o = function(e, t) {
                return Object.prototype.hasOwnProperty.call(e, t)
            }, n.p = "", n(n.s = 27)
        }([function(e, t) {
            e.exports = n(622)
        }, function(e, t, n) {
            "use strict";
            e.exports = function() {
                var e = arguments,
                    t = 0,
                    n = function(e, t, n, o) {
                        n || (n = " ");
                        var r = e.length >= t ? "" : new Array(1 + t - e.length >>> 0).join(n);
                        return o ? e + r : r + e
                    },
                    o = function(e, t, o, r, i, a) {
                        var s = r - e.length;
                        return s > 0 && (e = o || !i ? n(e, r, a, o) : [e.slice(0, t.length), n("", s, "0", !0), e.slice(t.length)].join("")), e
                    },
                    r = function(e, t, r, i, a, s, l) {
                        var u = e >>> 0;
                        return e = (r = r && u && {
                            2: "0b",
                            8: "0",
                            16: "0x"
                        }[t] || "") + n(u.toString(t), s || 0, "0", !1), o(e, r, i, a, l)
                    },
                    i = function(e, t, n, r, i, a) {
                        return null !== r && void 0 !== r && (e = e.slice(0, r)), o(e, "", t, n, i, a)
                    };
                return e[t++].replace(/%%|%(\d+\$)?([-+'#0 ]*)(\*\d+\$|\*|\d+)?(?:\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g, function(a, s, l, u, c, f) {
                    var p, d, h, y, v;
                    if ("%%" === a) return "%";
                    var _, m = !1,
                        g = "",
                        b = !1,
                        w = !1,
                        x = " ",
                        k = l.length;
                    for (_ = 0; _ < k; _++) switch (l.charAt(_)) {
                        case " ":
                            g = " ";
                            break;
                        case "+":
                            g = "+";
                            break;
                        case "-":
                            m = !0;
                            break;
                        case "'":
                            x = l.charAt(_ + 1);
                            break;
                        case "0":
                            b = !0, x = "0";
                            break;
                        case "#":
                            w = !0
                    }
                    if ((u = u ? "*" === u ? +e[t++] : "*" === u.charAt(0) ? +e[u.slice(1, -1)] : +u : 0) < 0 && (u = -u, m = !0), !isFinite(u)) throw new Error("sprintf: (minimum-)width must be finite");
                    switch (c = c ? "*" === c ? +e[t++] : "*" === c.charAt(0) ? +e[c.slice(1, -1)] : +c : "fFeE".indexOf(f) > -1 ? 6 : "d" === f ? 0 : void 0, v = s ? e[s.slice(0, -1)] : e[t++], f) {
                        case "s":
                            return i(v + "", m, u, c, b, x);
                        case "c":
                            return i(String.fromCharCode(+v), m, u, c, b);
                        case "b":
                            return r(v, 2, w, m, u, c, b);
                        case "o":
                            return r(v, 8, w, m, u, c, b);
                        case "x":
                            return r(v, 16, w, m, u, c, b);
                        case "X":
                            return r(v, 16, w, m, u, c, b).toUpperCase();
                        case "u":
                            return r(v, 10, w, m, u, c, b);
                        case "i":
                        case "d":
                            return p = +v || 0, v = (d = (p = Math.round(p - p % 1)) < 0 ? "-" : g) + n(String(Math.abs(p)), c, "0", !1), o(v, d, m, u, b);
                        case "e":
                        case "E":
                        case "f":
                        case "F":
                        case "g":
                        case "G":
                            return d = (p = +v) < 0 ? "-" : g, h = ["toExponential", "toFixed", "toPrecision"]["efg".indexOf(f.toLowerCase())], y = ["toString", "toUpperCase"]["eEfFgG".indexOf(f) % 2], v = d + Math.abs(p)[h](c), o(v, d, m, u, b)[y]();
                        default:
                            return a
                    }
                })
            }
        }, function(e, t) {
            e.exports = function(e) {
                "use strict";
                return e.exports = {
                    VERSION: e.VERSION
                }, e.exports.twig = function(t) {
                    var n = t.id,
                        o = {
                            strict_variables: t.strict_variables || !1,
                            autoescape: null != t.autoescape && t.autoescape || !1,
                            allowInlineIncludes: t.allowInlineIncludes || !1,
                            rethrow: t.rethrow || !1,
                            namespaces: t.namespaces
                        };
                    if (e.cache && n && e.validateId(n), void 0 !== t.debug && (e.debug = t.debug), void 0 !== t.trace && (e.trace = t.trace), void 0 !== t.data) return e.Templates.parsers.twig({
                        data: t.data,
                        path: t.hasOwnProperty("path") ? t.path : void 0,
                        module: t.module,
                        id: n,
                        options: o
                    });
                    if (void 0 !== t.ref) {
                        if (void 0 !== t.id) throw new e.Error("Both ref and id cannot be set on a twig.js template.");
                        return e.Templates.load(t.ref)
                    }
                    if (void 0 !== t.method) {
                        if (!e.Templates.isRegisteredLoader(t.method)) throw new e.Error('Loader for "' + t.method + '" is not defined.');
                        return e.Templates.loadRemote(t.name || t.href || t.path || n || void 0, {
                            id: n,
                            method: t.method,
                            parser: t.parser || "twig",
                            base: t.base,
                            module: t.module,
                            precompiled: t.precompiled,
                            async: t.async,
                            options: o
                        }, t.load, t.error)
                    }
                    return void 0 !== t.href ? e.Templates.loadRemote(t.href, {
                        id: n,
                        method: "ajax",
                        parser: t.parser || "twig",
                        base: t.base,
                        module: t.module,
                        precompiled: t.precompiled,
                        async: t.async,
                        options: o
                    }, t.load, t.error) : void 0 !== t.path ? e.Templates.loadRemote(t.path, {
                        id: n,
                        method: "fs",
                        parser: t.parser || "twig",
                        base: t.base,
                        module: t.module,
                        precompiled: t.precompiled,
                        async: t.async,
                        options: o
                    }, t.load, t.error) : void 0
                }, e.exports.extendFilter = function(t, n) {
                    e.filter.extend(t, n)
                }, e.exports.extendFunction = function(t, n) {
                    e._function.extend(t, n)
                }, e.exports.extendTest = function(t, n) {
                    e.test.extend(t, n)
                }, e.exports.extendTag = function(t) {
                    e.logic.extend(t)
                }, e.exports.extend = function(t) {
                    t(e)
                }, e.exports.compile = function(t, n) {
                    var o, r = n.filename,
                        i = n.filename;
                    return o = new e.Template({
                            data: t,
                            path: i,
                            id: r,
                            options: n.settings["twig options"]
                        }),
                        function(e) {
                            return o.render(e)
                        }
                }, e.exports.renderFile = function(t, n, o) {
                    "function" == typeof n && (o = n, n = {});
                    var r = (n = n || {}).settings || {},
                        i = {
                            path: t,
                            base: r.views,
                            load: function(e) {
                                o(null, "" + e.render(n))
                            }
                        },
                        a = r["twig options"];
                    if (a)
                        for (var s in a) a.hasOwnProperty(s) && (i[s] = a[s]);
                    e.exports.twig(i)
                }, e.exports.__express = e.exports.renderFile, e.exports.cache = function(t) {
                    e.cache = t
                }, e.exports.path = e.path, e.exports.filters = e.filters, e.exports.Promise = e.Promise, e
            }
        }, function(e, t) {
            e.exports = function(e) {
                "use strict";
                var t = 1;
                return e.parseAsync = function(t, n) {
                    return e.parse.call(this, t, n, !0)
                }, e.expression.parseAsync = function(t, n, o) {
                    return e.expression.parse.call(this, t, n, o, !0)
                }, e.logic.parseAsync = function(t, n, o) {
                    return e.logic.parse.call(this, t, n, o, !0)
                }, e.Template.prototype.renderAsync = function(e, t) {
                    return this.render(e, t, !0)
                }, e.async = {}, e.isPromise = function(e) {
                    return e && e.then && "function" == typeof e.then
                }, e.async.potentiallyAsync = function(t, n, o) {
                    return n ? e.Promise.resolve(o.call(t)) : function(t, n, o) {
                        var r = o.call(t),
                            i = null,
                            a = !0;
                        if (!e.isPromise(r)) return r;
                        if (r.then(function(e) {
                                r = e, a = !1
                            }).catch(function(e) {
                                i = e
                            }), null !== i) throw i;
                        if (a) throw new e.Error("You are using Twig.js in sync mode in combination with async extensions.");
                        return r
                    }(t, 0, o)
                }, e.Thenable = function(e, t, n) {
                    this.then = e, this._value = n ? t : null, this._state = n || 0
                }, e.Thenable.prototype.catch = function(e) {
                    return this._state == t ? this : this.then(null, e)
                }, e.Thenable.resolvedThen = function(t) {
                    try {
                        return e.Promise.resolve(t(this._value))
                    } catch (t) {
                        return e.Promise.reject(t)
                    }
                }, e.Thenable.rejectedThen = function(t, n) {
                    if (!n || "function" != typeof n) return this;
                    var o = this._value,
                        r = e.attempt(function() {
                            return n(o)
                        }, e.Promise.reject);
                    return e.Promise.resolve(r)
                }, e.Promise = function(n) {
                    var o = 0,
                        r = null,
                        i = function(e, t) {
                            o = e, r = t
                        };
                    return function(e, t, n) {
                        try {
                            e(t, n)
                        } catch (e) {
                            n(e)
                        }
                    }(n, function(e) {
                        i(t, e)
                    }, function(e) {
                        i(2, e)
                    }), o === t ? e.Promise.resolve(r) : 2 === o ? e.Promise.reject(r) : (i = e.FullPromise()).promise
                }, e.FullPromise = function() {
                    var n = null;

                    function o(e) {
                        e(s._value)
                    }

                    function r(e, t) {
                        t(s._value)
                    }
                    var i = function(e, t) {
                        n = function(e, t, n) {
                            var o = [t, n, -2];
                            return e ? -2 == e[2] ? e = [e, o] : e.push(o) : e = o, e
                        }(n, e, t)
                    };

                    function a(a, l) {
                        s._state || (s._value = l, s._state = a, i = a == t ? o : r, n && (-2 === n[2] && (i(n[0], n[1]), n = null), e.forEach(n, function(e) {
                            i(e[0], e[1])
                        }), n = null))
                    }
                    var s = new e.Thenable(function(n, o) {
                        var r = "function" == typeof n;
                        if (s._state == t && !r) return e.Promise.resolve(s._value);
                        if (s._state === t) return e.attempt(function() {
                            return e.Promise.resolve(n(s._value))
                        }, e.Promise.reject);
                        var a = "function" == typeof o;
                        return e.Promise(function(t, s) {
                            i(r ? function(o) {
                                e.attempt(function() {
                                    t(n(o))
                                }, s)
                            } : t, a ? function(n) {
                                e.attempt(function() {
                                    t(o(n))
                                }, s)
                            } : s)
                        })
                    });
                    return a.promise = s, a
                }, e.Promise.defaultResolved = new e.Thenable(e.Thenable.resolvedThen, void 0, t), e.Promise.emptyStringResolved = new e.Thenable(e.Thenable.resolvedThen, "", t), e.Promise.resolve = function(n) {
                    return arguments.length < 1 || void 0 === n ? e.Promise.defaultResolved : e.isPromise(n) ? n : "" === n ? e.Promise.emptyStringResolved : new e.Thenable(e.Thenable.resolvedThen, n, t)
                }, e.Promise.reject = function(t) {
                    return new e.Thenable(e.Thenable.rejectedThen, t, 2)
                }, e.Promise.all = function(n) {
                    var o = new Array(n.length);
                    return e.async.forEach(n, function(n, r) {
                        if (e.isPromise(n)) {
                            if (n._state != t) return n.then(function(e) {
                                o[r] = e
                            });
                            o[r] = n._value
                        } else o[r] = n
                    }).then(function() {
                        return o
                    })
                }, e.async.forEach = function(n, o) {
                    var r = n.length,
                        i = 0;
                    return function a() {
                        var s = null;
                        do {
                            if (i == r) return e.Promise.resolve();
                            s = o(n[i], i), i++
                        } while (!s || !e.isPromise(s) || s._state == t);
                        return s.then(a)
                    }()
                }, e
            }
        }, function(e, t) {
            e.exports = function(e) {
                "use strict";
                return e.tests = {
                    empty: function(e) {
                        if (null === e || void 0 === e) return !0;
                        if ("number" == typeof e) return !1;
                        if (e.length && e.length > 0) return !1;
                        for (var t in e)
                            if (e.hasOwnProperty(t)) return !1;
                        return !0
                    },
                    odd: function(e) {
                        return e % 2 == 1
                    },
                    even: function(e) {
                        return e % 2 == 0
                    },
                    divisibleby: function(e, t) {
                        return e % t[0] == 0
                    },
                    defined: function(e) {
                        return void 0 !== e
                    },
                    none: function(e) {
                        return null === e
                    },
                    null: function(e) {
                        return this.none(e)
                    },
                    "same as": function(e, t) {
                        return e === t[0]
                    },
                    sameas: function(t, n) {
                        return console.warn("`sameas` is deprecated use `same as`"), e.tests["same as"](t, n)
                    },
                    iterable: function(t) {
                        return t && (e.lib.is("Array", t) || e.lib.is("Object", t))
                    }
                }, e.test = function(t, n, o) {
                    if (!e.tests[t]) throw "Test " + t + " is not defined.";
                    return e.tests[t](n, o)
                }, e.test.extend = function(t, n) {
                    e.tests[t] = n
                }, e
            }
        }, function(e, t, n) {
            e.exports = function(e) {
                "use strict";
                e.path = {};
                var t = /.::/,
                    o = /@/;
                return e.path.parsePath = function(n, r) {
                    var i = null,
                        a = n.options.namespaces,
                        s = r || "";
                    if (a && "object" == typeof a) {
                        for (i in a) t.test(s) ? s = s.replace(i + "::", a[i]) : o.test(s) && (s = s.replace("@" + i, a[i]));
                        return s
                    }
                    return e.path.relativePath(n, s)
                }, e.path.relativePath = function(t, o) {
                    var r, i, a, s = "/",
                        l = [];
                    if (o = o || "", t.url) r = void 0 !== t.base ? t.base + ("/" === t.base.charAt(t.base.length - 1) ? "" : "/") : t.url;
                    else if (t.path) {
                        var u = n(0),
                            c = u.sep || s,
                            f = new RegExp("^\\.{1,2}" + c.replace("\\", "\\\\"));
                        o = o.replace(/\//g, c), void 0 !== t.base && null == o.match(f) ? (o = o.replace(t.base, ""), r = t.base + c) : r = u.normalize(t.path), r = r.replace(c + c, c), s = c
                    } else {
                        if (!t.name && !t.id || !t.method || "fs" === t.method || "ajax" === t.method) throw new e.Error("Cannot extend an inline template.");
                        r = t.base || t.name || t.id
                    }
                    for ((i = r.split(s)).pop(), i = i.concat(o.split(s)); i.length > 0;) "." == (a = i.shift()) || (".." == a && l.length > 0 && ".." != l[l.length - 1] ? l.pop() : l.push(a));
                    return l.join(s)
                }, e
            }
        }, function(e, t) {
            e.exports = function(e) {
                "use strict";
                e.Templates.registerParser("twig", function(t) {
                    return new e.Template(t)
                })
            }
        }, function(e, t) {
            e.exports = function(e) {
                "use strict";
                e.Templates.registerParser("source", function(e) {
                    return e.data || ""
                })
            }
        }, function(e, t) {
            e.exports = function(e) {
                "use strict";
                for (e.logic = {}, e.logic.type = {
                        if_: "Twig.logic.type.if",
                        endif: "Twig.logic.type.endif",
                        for_: "Twig.logic.type.for",
                        endfor: "Twig.logic.type.endfor",
                        else_: "Twig.logic.type.else",
                        elseif: "Twig.logic.type.elseif",
                        set: "Twig.logic.type.set",
                        setcapture: "Twig.logic.type.setcapture",
                        endset: "Twig.logic.type.endset",
                        filter: "Twig.logic.type.filter",
                        endfilter: "Twig.logic.type.endfilter",
                        shortblock: "Twig.logic.type.shortblock",
                        block: "Twig.logic.type.block",
                        endblock: "Twig.logic.type.endblock",
                        extends_: "Twig.logic.type.extends",
                        use: "Twig.logic.type.use",
                        include: "Twig.logic.type.include",
                        spaceless: "Twig.logic.type.spaceless",
                        endspaceless: "Twig.logic.type.endspaceless",
                        macro: "Twig.logic.type.macro",
                        endmacro: "Twig.logic.type.endmacro",
                        import_: "Twig.logic.type.import",
                        from: "Twig.logic.type.from",
                        embed: "Twig.logic.type.embed",
                        endembed: "Twig.logic.type.endembed",
                        with: "Twig.logic.type.with",
                        endwith: "Twig.logic.type.endwith"
                    }, e.logic.definitions = [{
                        type: e.logic.type.if_,
                        regex: /^if\s+([\s\S]+)$/,
                        next: [e.logic.type.else_, e.logic.type.elseif, e.logic.type.endif],
                        open: !0,
                        compile: function(t) {
                            var n = t.match[1];
                            return t.stack = e.expression.compile.call(this, {
                                type: e.expression.type.expression,
                                value: n
                            }).stack, delete t.match, t
                        },
                        parse: function(t, n, o) {
                            var r = this;
                            return e.expression.parseAsync.call(this, t.stack, n).then(function(i) {
                                return o = !0, e.lib.boolval(i) ? (o = !1, e.parseAsync.call(r, t.output, n)) : ""
                            }).then(function(e) {
                                return {
                                    chain: o,
                                    output: e
                                }
                            })
                        }
                    }, {
                        type: e.logic.type.elseif,
                        regex: /^elseif\s+([^\s].*)$/,
                        next: [e.logic.type.else_, e.logic.type.elseif, e.logic.type.endif],
                        open: !1,
                        compile: function(t) {
                            var n = t.match[1];
                            return t.stack = e.expression.compile.call(this, {
                                type: e.expression.type.expression,
                                value: n
                            }).stack, delete t.match, t
                        },
                        parse: function(t, n, o) {
                            var r = this;
                            return e.expression.parseAsync.call(this, t.stack, n).then(function(i) {
                                return o && e.lib.boolval(i) ? (o = !1, e.parseAsync.call(r, t.output, n)) : ""
                            }).then(function(e) {
                                return {
                                    chain: o,
                                    output: e
                                }
                            })
                        }
                    }, {
                        type: e.logic.type.else_,
                        regex: /^else$/,
                        next: [e.logic.type.endif, e.logic.type.endfor],
                        open: !1,
                        parse: function(t, n, o) {
                            var r = e.Promise.resolve("");
                            return o && (r = e.parseAsync.call(this, t.output, n)), r.then(function(e) {
                                return {
                                    chain: o,
                                    output: e
                                }
                            })
                        }
                    }, {
                        type: e.logic.type.endif,
                        regex: /^endif$/,
                        next: [],
                        open: !1
                    }, {
                        type: e.logic.type.for_,
                        regex: /^for\s+([a-zA-Z0-9_,\s]+)\s+in\s+([^\s].*?)(?:\s+if\s+([^\s].*))?$/,
                        next: [e.logic.type.else_, e.logic.type.endfor],
                        open: !0,
                        compile: function(t) {
                            var n = t.match[1],
                                o = t.match[2],
                                r = t.match[3],
                                i = null;
                            if (t.key_var = null, t.value_var = null, n.indexOf(",") >= 0) {
                                if (2 !== (i = n.split(",")).length) throw new e.Error("Invalid expression in for loop: " + n);
                                t.key_var = i[0].trim(), t.value_var = i[1].trim()
                            } else t.value_var = n;
                            return t.expression = e.expression.compile.call(this, {
                                type: e.expression.type.expression,
                                value: o
                            }).stack, r && (t.conditional = e.expression.compile.call(this, {
                                type: e.expression.type.expression,
                                value: r
                            }).stack), delete t.match, t
                        },
                        parse: function(t, n, o) {
                            var r, i, a = [],
                                s = 0,
                                l = this,
                                u = t.conditional,
                                c = function(o, i) {
                                    var c = e.ChildContext(n);
                                    return c[t.value_var] = i, t.key_var && (c[t.key_var] = o), c.loop = function(e, t) {
                                        var o = void 0 !== u;
                                        return {
                                            index: NaN,
                                            index0: s,
                                            revindex: o ? void 0 : NaN,
                                            revindex0: o ? void 0 : NaN,
                                            first: !1,
                                            last: !!o && void 0,
                                            length: o ? void 0 : r,
                                            parent: n
                                        }
                                    }(), (void 0 === u ? e.Promise.resolve(!0) : e.expression.parseAsync.call(l, u, c)).then(function(n) {
                                        if (n) return e.parseAsync.call(l, t.output, c).then(function(e) {
                                            a.push(e), s += 1
                                        })
                                    }).then(function() {
                                        delete c.loop, delete c[t.value_var], delete c[t.key_var], e.merge(n, c, !0)
                                    })
                                };
                            return e.expression.parseAsync.call(this, t.expression, n).then(function(t) {
                                return e.lib.isArray(t) ? (r = t.length, e.async.forEach(t, function(e) {
                                    return c(s, e)
                                })) : e.lib.is("Object", t) ? (i = void 0 !== t._keys ? t._keys : Object.keys(t), r = i.length, e.async.forEach(i, function(e) {
                                    if ("_keys" !== e) return c(e, t[e])
                                })) : void 0
                            }).then(function() {
                                return {
                                    chain: 0 === a.length,
                                    output: e.output.call(l, a)
                                }
                            })
                        }
                    }, {
                        type: e.logic.type.endfor,
                        regex: /^endfor$/,
                        next: [],
                        open: !1
                    }, {
                        type: e.logic.type.set,
                        regex: /^set\s+([a-zA-Z0-9_,\s]+)\s*=\s*([\s\S]+)$/,
                        next: [],
                        open: !0,
                        compile: function(t) {
                            var n = t.match[1].trim(),
                                o = t.match[2],
                                r = e.expression.compile.call(this, {
                                    type: e.expression.type.expression,
                                    value: o
                                }).stack;
                            return t.key = n, t.expression = r, delete t.match, t
                        },
                        parse: function(t, n, o) {
                            var r = t.key;
                            return e.expression.parseAsync.call(this, t.expression, n).then(function(t) {
                                return t === n && (t = e.lib.copy(t)), n[r] = t, {
                                    chain: o,
                                    context: n
                                }
                            })
                        }
                    }, {
                        type: e.logic.type.setcapture,
                        regex: /^set\s+([a-zA-Z0-9_,\s]+)$/,
                        next: [e.logic.type.endset],
                        open: !0,
                        compile: function(e) {
                            var t = e.match[1].trim();
                            return e.key = t, delete e.match, e
                        },
                        parse: function(t, n, o) {
                            var r = this,
                                i = t.key;
                            return e.parseAsync.call(this, t.output, n).then(function(e) {
                                return r.context[i] = e, n[i] = e, {
                                    chain: o,
                                    context: n
                                }
                            })
                        }
                    }, {
                        type: e.logic.type.endset,
                        regex: /^endset$/,
                        next: [],
                        open: !1
                    }, {
                        type: e.logic.type.filter,
                        regex: /^filter\s+(.+)$/,
                        next: [e.logic.type.endfilter],
                        open: !0,
                        compile: function(t) {
                            var n = "|" + t.match[1].trim();
                            return t.stack = e.expression.compile.call(this, {
                                type: e.expression.type.expression,
                                value: n
                            }).stack, delete t.match, t
                        },
                        parse: function(t, n, o) {
                            var r = this;
                            return e.parseAsync.call(this, t.output, n).then(function(o) {
                                var i = [{
                                    type: e.expression.type.string,
                                    value: o
                                }].concat(t.stack);
                                return e.expression.parseAsync.call(r, i, n)
                            }).then(function(e) {
                                return {
                                    chain: o,
                                    output: e
                                }
                            })
                        }
                    }, {
                        type: e.logic.type.endfilter,
                        regex: /^endfilter$/,
                        next: [],
                        open: !1
                    }, {
                        type: e.logic.type.block,
                        regex: /^block\s+([a-zA-Z0-9_]+)$/,
                        next: [e.logic.type.endblock],
                        open: !0,
                        compile: function(e) {
                            return e.block = e.match[1].trim(), delete e.match, e
                        },
                        parse: function(t, n, o) {
                            var r, i = this,
                                a = e.Promise.resolve(),
                                s = e.indexOf(this.importedBlocks, t.block) > -1,
                                l = this.blocks[t.block] && e.indexOf(this.blocks[t.block], e.placeholders.parent) > -1;
                            return e.forEach(this.parseStack, function(n) {
                                n.type == e.logic.type.for_ && (t.overwrite = !0)
                            }), (void 0 === this.blocks[t.block] || s || l || t.overwrite) && (a = (a = t.expression ? e.expression.parseAsync.call(this, t.output, n).then(function(t) {
                                return e.expression.parseAsync.call(i, {
                                    type: e.expression.type.string,
                                    value: t
                                }, n)
                            }) : e.parseAsync.call(this, t.output, n).then(function(t) {
                                return e.expression.parseAsync.call(i, {
                                    type: e.expression.type.string,
                                    value: t
                                }, n)
                            })).then(function(n) {
                                s && i.importedBlocks.splice(i.importedBlocks.indexOf(t.block), 1), i.blocks[t.block] = l ? e.Markup(i.blocks[t.block].replace(e.placeholders.parent, n)) : n, i.originalBlockTokens[t.block] = {
                                    type: t.type,
                                    block: t.block,
                                    output: t.output,
                                    overwrite: !0
                                }
                            })), a.then(function() {
                                return r = i.child.blocks[t.block] ? i.child.blocks[t.block] : i.blocks[t.block], {
                                    chain: o,
                                    output: r
                                }
                            })
                        }
                    }, {
                        type: e.logic.type.shortblock,
                        regex: /^block\s+([a-zA-Z0-9_]+)\s+(.+)$/,
                        next: [],
                        open: !0,
                        compile: function(t) {
                            return t.expression = t.match[2].trim(), t.output = e.expression.compile({
                                type: e.expression.type.expression,
                                value: t.expression
                            }).stack, t.block = t.match[1].trim(), delete t.match, t
                        },
                        parse: function(t, n, o) {
                            for (var r = new Array(arguments.length), i = arguments.length; i-- > 0;) r[i] = arguments[i];
                            return e.logic.handler[e.logic.type.block].parse.apply(this, r)
                        }
                    }, {
                        type: e.logic.type.endblock,
                        regex: /^endblock(?:\s+([a-zA-Z0-9_]+))?$/,
                        next: [],
                        open: !1
                    }, {
                        type: e.logic.type.extends_,
                        regex: /^extends\s+(.+)$/,
                        next: [],
                        open: !0,
                        compile: function(t) {
                            var n = t.match[1].trim();
                            return delete t.match, t.stack = e.expression.compile.call(this, {
                                type: e.expression.type.expression,
                                value: n
                            }).stack, t
                        },
                        parse: function(t, n, o) {
                            var r = this,
                                i = e.ChildContext(n);
                            return e.expression.parseAsync.call(this, t.stack, n).then(function(t) {
                                return r.extend = t, (t instanceof e.Template ? t : r.importFile(t)).renderAsync(i)
                            }).then(function() {
                                return e.lib.extend(n, i), {
                                    chain: o,
                                    output: ""
                                }
                            })
                        }
                    }, {
                        type: e.logic.type.use,
                        regex: /^use\s+(.+)$/,
                        next: [],
                        open: !0,
                        compile: function(t) {
                            var n = t.match[1].trim();
                            return delete t.match, t.stack = e.expression.compile.call(this, {
                                type: e.expression.type.expression,
                                value: n
                            }).stack, t
                        },
                        parse: function(t, n, o) {
                            var r = this;
                            return e.expression.parseAsync.call(this, t.stack, n).then(function(e) {
                                return r.importBlocks(e), {
                                    chain: o,
                                    output: ""
                                }
                            })
                        }
                    }, {
                        type: e.logic.type.include,
                        regex: /^include\s+(.+?)(?:\s|$)(ignore missing(?:\s|$))?(?:with\s+([\S\s]+?))?(?:\s|$)(only)?$/,
                        next: [],
                        open: !0,
                        compile: function(t) {
                            var n = t.match,
                                o = n[1].trim(),
                                r = void 0 !== n[2],
                                i = n[3],
                                a = void 0 !== n[4] && n[4].length;
                            return delete t.match, t.only = a, t.ignoreMissing = r, t.stack = e.expression.compile.call(this, {
                                type: e.expression.type.expression,
                                value: o
                            }).stack, void 0 !== i && (t.withStack = e.expression.compile.call(this, {
                                type: e.expression.type.expression,
                                value: i.trim()
                            }).stack), t
                        },
                        parse: function(t, n, o) {
                            var r = t.only ? {} : e.ChildContext(n),
                                i = t.ignoreMissing,
                                a = this,
                                s = {
                                    chain: o,
                                    output: ""
                                };
                            return (void 0 !== t.withStack ? e.expression.parseAsync.call(this, t.withStack, n).then(function(t) {
                                e.lib.extend(r, t)
                            }) : e.Promise.resolve()).then(function() {
                                return e.expression.parseAsync.call(a, t.stack, n)
                            }).then(function(t) {
                                if (t instanceof e.Template) return t.renderAsync(r);
                                try {
                                    return a.importFile(t).renderAsync(r)
                                } catch (e) {
                                    if (i) return "";
                                    throw e
                                }
                            }).then(function(e) {
                                return "" !== e && (s.output = e), s
                            })
                        }
                    }, {
                        type: e.logic.type.spaceless,
                        regex: /^spaceless$/,
                        next: [e.logic.type.endspaceless],
                        open: !0,
                        parse: function(t, n, o) {
                            return e.parseAsync.call(this, t.output, n).then(function(t) {
                                var n = t.replace(/>\s+</g, "><").trim();
                                return n = e.Markup(n), {
                                    chain: o,
                                    output: n
                                }
                            })
                        }
                    }, {
                        type: e.logic.type.endspaceless,
                        regex: /^endspaceless$/,
                        next: [],
                        open: !1
                    }, {
                        type: e.logic.type.macro,
                        regex: /^macro\s+([a-zA-Z0-9_]+)\s*\(\s*((?:[a-zA-Z0-9_]+(?:\s*=\s*([\s\S]+))?(?:,\s*)?)*)\s*\)$/,
                        next: [e.logic.type.endmacro],
                        open: !0,
                        compile: function(t) {
                            var n = t.match[1],
                                o = t.match[2].split(/\s*,\s*/),
                                r = o.map(function(e) {
                                    return e.split(/\s*=\s*/)[0]
                                }),
                                i = r.length;
                            if (i > 1)
                                for (var a = {}, s = 0; s < i; s++) {
                                    var l = r[s];
                                    if (a[l]) throw new e.Error("Duplicate arguments for parameter: " + l);
                                    a[l] = 1
                                }
                            return t.macroName = n, t.parameters = r, t.defaults = o.reduce(function(t, n) {
                                var o = n.split(/\s*=\s*/),
                                    r = o[0],
                                    i = o[1];
                                return t[r] = i ? e.expression.compile.call(this, {
                                    type: e.expression.type.expression,
                                    value: i
                                }).stack : void 0, t
                            }, {}), delete t.match, t
                        },
                        parse: function(t, n, o) {
                            var r = this;
                            return this.macros[t.macroName] = function() {
                                var o = {
                                        _self: r.macros
                                    },
                                    i = Array.prototype.slice.call(arguments);
                                return e.async.forEach(t.parameters, function(r, a) {
                                    return void 0 !== i[a] ? (o[r] = i[a], !0) : void 0 !== t.defaults[r] ? e.expression.parseAsync.call(this, t.defaults[r], n).then(function(t) {
                                        return o[r] = t, e.Promise.resolve()
                                    }) : (o[r] = void 0, !0)
                                }).then(function() {
                                    return e.parseAsync.call(r, t.output, o)
                                })
                            }, {
                                chain: o,
                                output: ""
                            }
                        }
                    }, {
                        type: e.logic.type.endmacro,
                        regex: /^endmacro$/,
                        next: [],
                        open: !1
                    }, {
                        type: e.logic.type.import_,
                        regex: /^import\s+(.+)\s+as\s+([a-zA-Z0-9_]+)$/,
                        next: [],
                        open: !0,
                        compile: function(t) {
                            var n = t.match[1].trim(),
                                o = t.match[2].trim();
                            return delete t.match, t.expression = n, t.contextName = o, t.stack = e.expression.compile.call(this, {
                                type: e.expression.type.expression,
                                value: n
                            }).stack, t
                        },
                        parse: function(t, n, o) {
                            var r = this,
                                i = {
                                    chain: o,
                                    output: ""
                                };
                            return "_self" === t.expression ? (n[t.contextName] = this.macros, e.Promise.resolve(i)) : e.expression.parseAsync.call(this, t.stack, n).then(function(e) {
                                return r.importFile(e || t.expression)
                            }).then(function(e) {
                                return n[t.contextName] = e.renderAsync({}, {
                                    output: "macros"
                                }), i
                            })
                        }
                    }, {
                        type: e.logic.type.from,
                        regex: /^from\s+(.+)\s+import\s+([a-zA-Z0-9_, ]+)$/,
                        next: [],
                        open: !0,
                        compile: function(t) {
                            for (var n = t.match[1].trim(), o = t.match[2].trim().split(/\s*,\s*/), r = {}, i = 0; i < o.length; i++) {
                                var a = o[i],
                                    s = a.match(/^([a-zA-Z0-9_]+)\s+as\s+([a-zA-Z0-9_]+)$/);
                                s ? r[s[1].trim()] = s[2].trim() : a.match(/^([a-zA-Z0-9_]+)$/) && (r[a] = a)
                            }
                            return delete t.match, t.expression = n, t.macroNames = r, t.stack = e.expression.compile.call(this, {
                                type: e.expression.type.expression,
                                value: n
                            }).stack, t
                        },
                        parse: function(t, n, o) {
                            var r = this,
                                i = e.Promise.resolve(this.macros);
                            return "_self" !== t.expression && (i = e.expression.parseAsync.call(this, t.stack, n).then(function(e) {
                                return r.importFile(e || t.expression)
                            }).then(function(e) {
                                return e.renderAsync({}, {
                                    output: "macros"
                                })
                            })), i.then(function(e) {
                                for (var r in t.macroNames) e.hasOwnProperty(r) && (n[t.macroNames[r]] = e[r]);
                                return {
                                    chain: o,
                                    output: ""
                                }
                            })
                        }
                    }, {
                        type: e.logic.type.embed,
                        regex: /^embed\s+(.+?)(?:\s+(ignore missing))?(?:\s+with\s+([\S\s]+?))?(?:\s+(only))?$/,
                        next: [e.logic.type.endembed],
                        open: !0,
                        compile: function(t) {
                            var n = t.match,
                                o = n[1].trim(),
                                r = void 0 !== n[2],
                                i = n[3],
                                a = void 0 !== n[4] && n[4].length;
                            return delete t.match, t.only = a, t.ignoreMissing = r, t.stack = e.expression.compile.call(this, {
                                type: e.expression.type.expression,
                                value: o
                            }).stack, void 0 !== i && (t.withStack = e.expression.compile.call(this, {
                                type: e.expression.type.expression,
                                value: i.trim()
                            }).stack), t
                        },
                        parse: function(t, n, o) {
                            var r, i, a = {},
                                s = this,
                                l = e.Promise.resolve();
                            if (!t.only)
                                for (r in n) n.hasOwnProperty(r) && (a[r] = n[r]);
                            return void 0 !== t.withStack && (l = e.expression.parseAsync.call(this, t.withStack, n).then(function(e) {
                                for (r in e) e.hasOwnProperty(r) && (a[r] = e[r])
                            })), l.then(function() {
                                return l = null, e.expression.parseAsync.call(s, t.stack, a)
                            }).then(function(n) {
                                if (n instanceof e.Template) i = n;
                                else try {
                                    i = s.importFile(n)
                                } catch (e) {
                                    if (t.ignoreMissing) return "";
                                    throw s = null, e
                                }
                                return s._blocks = e.lib.copy(s.blocks), s.blocks = {}, e.parseAsync.call(s, t.output, a).then(function() {
                                    return i.renderAsync(a, {
                                        blocks: s.blocks
                                    })
                                })
                            }).then(function(t) {
                                return s.blocks = e.lib.copy(s._blocks), {
                                    chain: o,
                                    output: t
                                }
                            })
                        }
                    }, {
                        type: e.logic.type.endembed,
                        regex: /^endembed$/,
                        next: [],
                        open: !1
                    }, {
                        type: e.logic.type.with,
                        regex: /^(?:with\s+([\S\s]+?))(?:\s|$)(only)?$/,
                        next: [e.logic.type.endwith],
                        open: !0,
                        compile: function(t) {
                            var n = t.match,
                                o = n[1],
                                r = void 0 !== n[2] && n[2].length;
                            return delete t.match, t.only = r, void 0 !== o && (t.withStack = e.expression.compile.call(this, {
                                type: e.expression.type.expression,
                                value: o.trim()
                            }).stack), t
                        },
                        parse: function(t, n, o) {
                            var r, i = {},
                                a = this,
                                s = e.Promise.resolve();
                            return t.only || (i = e.ChildContext(n)), void 0 !== t.withStack && (s = e.expression.parseAsync.call(this, t.withStack, n).then(function(e) {
                                for (r in e) e.hasOwnProperty(r) && (i[r] = e[r])
                            })), s.then(function() {
                                return e.parseAsync.call(a, t.output, i)
                            }).then(function(e) {
                                return {
                                    chain: o,
                                    output: e
                                }
                            })
                        }
                    }, {
                        type: e.logic.type.endwith,
                        regex: /^endwith$/,
                        next: [],
                        open: !1
                    }], e.logic.handler = {}, e.logic.extendType = function(t, n) {
                        n = n || "Twig.logic.type" + t, e.logic.type[t] = n
                    }, e.logic.extend = function(t) {
                        if (!t.type) throw new e.Error("Unable to extend logic definition. No type provided for " + t);
                        e.logic.extendType(t.type), e.logic.handler[t.type] = t
                    }; e.logic.definitions.length > 0;) e.logic.extend(e.logic.definitions.shift());
                return e.logic.compile = function(t) {
                    var n = t.value.trim(),
                        o = e.logic.tokenize.call(this, n),
                        r = e.logic.handler[o.type];
                    return r.compile && (o = r.compile.call(this, o), e.log.trace("Twig.logic.compile: ", "Compiled logic token to ", o)), o
                }, e.logic.tokenize = function(t) {
                    var n = null,
                        o = null,
                        r = null,
                        i = null,
                        a = null,
                        s = null,
                        l = null;
                    for (n in t = t.trim(), e.logic.handler)
                        for (o = e.logic.handler[n].type, i = r = e.logic.handler[n].regex, e.lib.isArray(r) || (i = [r]), a = i.length, s = 0; s < a; s++)
                            if (null !== (l = i[s].exec(t))) return e.log.trace("Twig.logic.tokenize: ", "Matched a ", o, " regular expression of ", l), {
                                type: o,
                                match: l
                            };
                    throw new e.Error("Unable to parse '" + t.trim() + "'")
                }, e.logic.parse = function(t, n, o, r) {
                    return e.async.potentiallyAsync(this, r, function() {
                        e.log.debug("Twig.logic.parse: ", "Parsing logic token ", t);
                        var r, i = e.logic.handler[t.type],
                            a = this;
                        return i.parse ? (a.parseStack.unshift(t), r = i.parse.call(a, t, n || {}, o), e.isPromise(r) ? r = r.then(function(e) {
                            return a.parseStack.shift(), e
                        }) : a.parseStack.shift(), r) : ""
                    })
                }, e
            }
        }, function(e, t) {
            e.exports = n(621)
        }, function(e, t, n) {
            e.exports = function(e) {
                "use strict";
                var t, o;
                try {
                    t = n(9), o = n(0)
                } catch (e) {}
                e.Templates.registerLoader("fs", function(n, r, i, a) {
                    var s, l, u = r.precompiled,
                        c = this.parsers[r.parser] || this.parser.twig;
                    if (!t || !o) throw new e.Error('Unsupported platform: Unable to load from file because there is no "fs" or "path" implementation');
                    var f = function(e, t) {
                        e ? "function" == typeof a && a(e) : (!0 === u && (t = JSON.parse(t)), r.data = t, r.path = r.path || n, s = c.call(this, r), "function" == typeof i && i(s))
                    };
                    if (r.path = r.path || n, r.async) return t.stat(r.path, function(n, o) {
                        !n && o.isFile() ? t.readFile(r.path, "utf8", f) : "function" == typeof a && a(new e.Error("Unable to find template file " + r.path))
                    }), !0;
                    try {
                        if (!t.statSync(r.path).isFile()) throw new e.Error("Unable to find template file " + r.path)
                    } catch (t) {
                        throw new e.Error("Unable to find template file " + r.path)
                    }
                    return l = t.readFileSync(r.path, "utf8"), f(void 0, l), s
                })
            }
        }, function(e, t) {
            e.exports = function(e) {
                "use strict";
                e.Templates.registerLoader("ajax", function(t, n, o, r) {
                    var i, a, s = n.precompiled,
                        l = this.parsers[n.parser] || this.parser.twig;
                    if ("undefined" == typeof XMLHttpRequest) throw new e.Error('Unsupported platform: Unable to do ajax requests because there is no "XMLHTTPRequest" implementation');
                    return (a = new XMLHttpRequest).onreadystatechange = function() {
                        var u = null;
                        4 === a.readyState && (200 === a.status || window.cordova && 0 == a.status ? (e.log.debug("Got template ", a.responseText), u = !0 === s ? JSON.parse(a.responseText) : a.responseText, n.url = t, n.data = u, i = l.call(this, n), "function" == typeof o && o(i)) : "function" == typeof r && r(a))
                    }, a.open("GET", t, !!n.async), a.send(), !!n.async || i
                })
            }
        }, function(e, t, n) {
            "use strict";
            e.exports = function(e) {
                return !1 !== e && 0 !== e && 0 !== e && "" !== e && "0" !== e && (!Array.isArray(e) || 0 !== e.length) && null !== e && void 0 !== e
            }
        }, function(e, t, n) {
            "use strict";
            e.exports = function(e, t) {
                var n, o, r = ["Sun", "Mon", "Tues", "Wednes", "Thurs", "Fri", "Satur", "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                    i = /\\?(.?)/gi,
                    a = function(e, t) {
                        return o[e] ? o[e]() : t
                    },
                    s = function(e, t) {
                        for (e = String(e); e.length < t;) e = "0" + e;
                        return e
                    };
                return o = {
                        d: function() {
                            return s(o.j(), 2)
                        },
                        D: function() {
                            return o.l().slice(0, 3)
                        },
                        j: function() {
                            return n.getDate()
                        },
                        l: function() {
                            return r[o.w()] + "day"
                        },
                        N: function() {
                            return o.w() || 7
                        },
                        S: function() {
                            var e = o.j(),
                                t = e % 10;
                            return t <= 3 && 1 === parseInt(e % 100 / 10, 10) && (t = 0), ["st", "nd", "rd"][t - 1] || "th"
                        },
                        w: function() {
                            return n.getDay()
                        },
                        z: function() {
                            var e = new Date(o.Y(), o.n() - 1, o.j()),
                                t = new Date(o.Y(), 0, 1);
                            return Math.round((e - t) / 864e5)
                        },
                        W: function() {
                            var e = new Date(o.Y(), o.n() - 1, o.j() - o.N() + 3),
                                t = new Date(e.getFullYear(), 0, 4);
                            return s(1 + Math.round((e - t) / 864e5 / 7), 2)
                        },
                        F: function() {
                            return r[6 + o.n()]
                        },
                        m: function() {
                            return s(o.n(), 2)
                        },
                        M: function() {
                            return o.F().slice(0, 3)
                        },
                        n: function() {
                            return n.getMonth() + 1
                        },
                        t: function() {
                            return new Date(o.Y(), o.n(), 0).getDate()
                        },
                        L: function() {
                            var e = o.Y();
                            return e % 4 == 0 & e % 100 != 0 | e % 400 == 0
                        },
                        o: function() {
                            var e = o.n(),
                                t = o.W();
                            return o.Y() + (12 === e && t < 9 ? 1 : 1 === e && t > 9 ? -1 : 0)
                        },
                        Y: function() {
                            return n.getFullYear()
                        },
                        y: function() {
                            return o.Y().toString().slice(-2)
                        },
                        a: function() {
                            return n.getHours() > 11 ? "pm" : "am"
                        },
                        A: function() {
                            return o.a().toUpperCase()
                        },
                        B: function() {
                            var e = 3600 * n.getUTCHours(),
                                t = 60 * n.getUTCMinutes(),
                                o = n.getUTCSeconds();
                            return s(Math.floor((e + t + o + 3600) / 86.4) % 1e3, 3)
                        },
                        g: function() {
                            return o.G() % 12 || 12
                        },
                        G: function() {
                            return n.getHours()
                        },
                        h: function() {
                            return s(o.g(), 2)
                        },
                        H: function() {
                            return s(o.G(), 2)
                        },
                        i: function() {
                            return s(n.getMinutes(), 2)
                        },
                        s: function() {
                            return s(n.getSeconds(), 2)
                        },
                        u: function() {
                            return s(1e3 * n.getMilliseconds(), 6)
                        },
                        e: function() {
                            throw new Error("Not supported (see source code of date() for timezone on how to add support)")
                        },
                        I: function() {
                            return new Date(o.Y(), 0) - Date.UTC(o.Y(), 0) != new Date(o.Y(), 6) - Date.UTC(o.Y(), 6) ? 1 : 0
                        },
                        O: function() {
                            var e = n.getTimezoneOffset(),
                                t = Math.abs(e);
                            return (e > 0 ? "-" : "+") + s(100 * Math.floor(t / 60) + t % 60, 4)
                        },
                        P: function() {
                            var e = o.O();
                            return e.substr(0, 3) + ":" + e.substr(3, 2)
                        },
                        T: function() {
                            return "UTC"
                        },
                        Z: function() {
                            return 60 * -n.getTimezoneOffset()
                        },
                        c: function() {
                            return "Y-m-d\\TH:i:sP".replace(i, a)
                        },
                        r: function() {
                            return "D, d M Y H:i:s O".replace(i, a)
                        },
                        U: function() {
                            return n / 1e3 | 0
                        }
                    },
                    function(e, t) {
                        return n = void 0 === t ? new Date : t instanceof Date ? new Date(t) : new Date(1e3 * t), e.replace(i, a)
                    }(e, t)
            }
        }, function(e, t, n) {
            "use strict";
            e.exports = function(e, t) {
                var n, o, r, i, a, s, l, u, c, f, p;
                if (!e) return !1;
                e = e.replace(/^\s+|\s+$/g, "").replace(/\s{2,}/g, " ").replace(/[\t\r\n]/g, "").toLowerCase();
                var d = new RegExp(["^(\\d{1,4})", "([\\-\\.\\/:])", "(\\d{1,2})", "([\\-\\.\\/:])", "(\\d{1,4})", "(?:\\s(\\d{1,2}):(\\d{2})?:?(\\d{2})?)?", "(?:\\s([A-Z]+)?)?$"].join(""));
                if ((o = e.match(d)) && o[2] === o[4])
                    if (o[1] > 1901) switch (o[2]) {
                        case "-":
                            return !(o[3] > 12 || o[5] > 31) && new Date(o[1], parseInt(o[3], 10) - 1, o[5], o[6] || 0, o[7] || 0, o[8] || 0, o[9] || 0) / 1e3;
                        case ".":
                            return !1;
                        case "/":
                            return !(o[3] > 12 || o[5] > 31) && new Date(o[1], parseInt(o[3], 10) - 1, o[5], o[6] || 0, o[7] || 0, o[8] || 0, o[9] || 0) / 1e3
                    } else if (o[5] > 1901) switch (o[2]) {
                        case "-":
                        case ".":
                            return !(o[3] > 12 || o[1] > 31) && new Date(o[5], parseInt(o[3], 10) - 1, o[1], o[6] || 0, o[7] || 0, o[8] || 0, o[9] || 0) / 1e3;
                        case "/":
                            return !(o[1] > 12 || o[3] > 31) && new Date(o[5], parseInt(o[1], 10) - 1, o[3], o[6] || 0, o[7] || 0, o[8] || 0, o[9] || 0) / 1e3
                    } else switch (o[2]) {
                        case "-":
                            return !(o[3] > 12 || o[5] > 31 || o[1] < 70 && o[1] > 38) && (i = o[1] >= 0 && o[1] <= 38 ? +o[1] + 2e3 : o[1], new Date(i, parseInt(o[3], 10) - 1, o[5], o[6] || 0, o[7] || 0, o[8] || 0, o[9] || 0) / 1e3);
                        case ".":
                            return o[5] >= 70 ? !(o[3] > 12 || o[1] > 31) && new Date(o[5], parseInt(o[3], 10) - 1, o[1], o[6] || 0, o[7] || 0, o[8] || 0, o[9] || 0) / 1e3 : o[5] < 60 && !o[6] && !(o[1] > 23 || o[3] > 59) && (r = new Date, new Date(r.getFullYear(), r.getMonth(), r.getDate(), o[1] || 0, o[3] || 0, o[5] || 0, o[9] || 0) / 1e3);
                        case "/":
                            return !(o[1] > 12 || o[3] > 31 || o[5] < 70 && o[5] > 38) && (i = o[5] >= 0 && o[5] <= 38 ? +o[5] + 2e3 : o[5], new Date(i, parseInt(o[1], 10) - 1, o[3], o[6] || 0, o[7] || 0, o[8] || 0, o[9] || 0) / 1e3);
                        case ":":
                            return !(o[1] > 23 || o[3] > 59 || o[5] > 59) && (r = new Date, new Date(r.getFullYear(), r.getMonth(), r.getDate(), o[1] || 0, o[3] || 0, o[5] || 0) / 1e3)
                    }
                if ("now" === e) return null === t || isNaN(t) ? (new Date).getTime() / 1e3 | 0 : 0 | t;
                if (!isNaN(n = Date.parse(e))) return n / 1e3 | 0;
                if (d = new RegExp(["^([0-9]{4}-[0-9]{2}-[0-9]{2})", "[ t]", "([0-9]{2}:[0-9]{2}:[0-9]{2}(\\.[0-9]+)?)", "([\\+-][0-9]{2}(:[0-9]{2})?|z)"].join("")), (o = e.match(d)) && ("z" === o[4] ? o[4] = "Z" : o[4].match(/^([+-][0-9]{2})$/) && (o[4] = o[4] + ":00"), !isNaN(n = Date.parse(o[1] + "T" + o[2] + o[4])))) return n / 1e3 | 0;

                function h(e) {
                    var t = e.split(" "),
                        n = t[0],
                        o = t[1].substring(0, 3),
                        r = /\d+/.test(n),
                        i = "ago" === t[2],
                        u = ("last" === n ? -1 : 1) * (i ? -1 : 1);
                    if (r && (u *= parseInt(n, 10)), l.hasOwnProperty(o) && !t[1].match(/^mon(day|\.)?$/i)) return a["set" + l[o]](a["get" + l[o]]() + u);
                    if ("wee" === o) return a.setDate(a.getDate() + 7 * u);
                    if ("next" === n || "last" === n) ! function(e, t, n) {
                        var o, r = s[t];
                        void 0 !== r && (0 == (o = r - a.getDay()) ? o = 7 * n : o > 0 && "last" === e ? o -= 7 : o < 0 && "next" === e && (o += 7), a.setDate(a.getDate() + o))
                    }(n, o, u);
                    else if (!r) return !1;
                    return !0
                }
                if (a = t ? new Date(1e3 * t) : new Date, s = {
                        sun: 0,
                        mon: 1,
                        tue: 2,
                        wed: 3,
                        thu: 4,
                        fri: 5,
                        sat: 6
                    }, l = {
                        yea: "FullYear",
                        mon: "Month",
                        day: "Date",
                        hou: "Hours",
                        min: "Minutes",
                        sec: "Seconds"
                    }, f = "([+-]?\\d+\\s" + (c = "(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)") + "|(last|next)\\s" + c + ")(\\sago)?", !(o = e.match(new RegExp(f, "gi")))) return !1;
                for (p = 0, u = o.length; p < u; p++)
                    if (!h(o[p])) return !1;
                return a.getTime() / 1e3
            }
        }, function(e, t, n) {
            "use strict";
            e.exports = function(e, t) {
                return t = (((t || "") + "").toLowerCase().match(/<[a-z][a-z0-9]*>/g) || []).join(""), e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi, "").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi, function(e, n) {
                    return t.indexOf("<" + n.toLowerCase() + ">") > -1 ? e : ""
                })
            }
        }, function(e, t, n) {
            "use strict";
            var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            };
            e.exports = function() {
                var e, t, n, r = 0,
                    i = arguments,
                    a = i.length,
                    s = function(e) {
                        if ("[object Array]" === Object.prototype.toString.call(e)) return e;
                        var t = [];
                        for (var n in e) e.hasOwnProperty(n) && t.push(e[n]);
                        return t
                    },
                    l = function e(t, n) {
                        var r = 0,
                            i = 0,
                            a = 0,
                            l = 0,
                            u = 0;
                        if (t === n) return 0;
                        if ("object" === (void 0 === t ? "undefined" : o(t))) {
                            if ("object" === (void 0 === n ? "undefined" : o(n))) {
                                if (t = s(t), n = s(n), u = t.length, (l = n.length) > u) return 1;
                                if (l < u) return -1;
                                for (r = 0, i = u; r < i; ++r) {
                                    if (1 === (a = e(t[r], n[r]))) return 1;
                                    if (-1 === a) return -1
                                }
                                return 0
                            }
                            return -1
                        }
                        return "object" === (void 0 === n ? "undefined" : o(n)) ? 1 : isNaN(n) && !isNaN(t) ? 0 === t ? 0 : t < 0 ? 1 : -1 : isNaN(t) && !isNaN(n) ? 0 === n ? 0 : n > 0 ? 1 : -1 : n === t ? 0 : n > t ? 1 : -1
                    };
                if (0 === a) throw new Error("At least one value should be passed to min()");
                if (1 === a) {
                    if ("object" !== o(i[0])) throw new Error("Wrong parameter count for min()");
                    if (0 === (e = s(i[0])).length) throw new Error("Array must contain at least one element for min()")
                } else e = i;
                for (t = e[0], r = 1, n = e.length; r < n; ++r) - 1 === l(t, e[r]) && (t = e[r]);
                return t
            }
        }, function(e, t, n) {
            "use strict";
            var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            };
            e.exports = function() {
                var e, t, n, r = 0,
                    i = arguments,
                    a = i.length,
                    s = function(e) {
                        if ("[object Array]" === Object.prototype.toString.call(e)) return e;
                        var t = [];
                        for (var n in e) e.hasOwnProperty(n) && t.push(e[n]);
                        return t
                    },
                    l = function e(t, n) {
                        var r = 0,
                            i = 0,
                            a = 0,
                            l = 0,
                            u = 0;
                        if (t === n) return 0;
                        if ("object" === (void 0 === t ? "undefined" : o(t))) {
                            if ("object" === (void 0 === n ? "undefined" : o(n))) {
                                if (t = s(t), n = s(n), u = t.length, (l = n.length) > u) return 1;
                                if (l < u) return -1;
                                for (r = 0, i = u; r < i; ++r) {
                                    if (1 === (a = e(t[r], n[r]))) return 1;
                                    if (-1 === a) return -1
                                }
                                return 0
                            }
                            return -1
                        }
                        return "object" === (void 0 === n ? "undefined" : o(n)) ? 1 : isNaN(n) && !isNaN(t) ? 0 === t ? 0 : t < 0 ? 1 : -1 : isNaN(t) && !isNaN(n) ? 0 === n ? 0 : n > 0 ? 1 : -1 : n === t ? 0 : n > t ? 1 : -1
                    };
                if (0 === a) throw new Error("At least one value should be passed to max()");
                if (1 === a) {
                    if ("object" !== o(i[0])) throw new Error("Wrong parameter count for max()");
                    if (0 === (e = s(i[0])).length) throw new Error("Array must contain at least one element for max()")
                } else e = i;
                for (t = e[0], r = 1, n = e.length; r < n; ++r) 1 === l(t, e[r]) && (t = e[r]);
                return t
            }
        }, function(e, t, n) {
            "use strict";
            e.exports = function(e, t, n) {
                var o, r, i, a;
                if (t |= 0, i = (e *= o = Math.pow(10, t)) % 1 == .5 * (a = e > 0 | -(e < 0)), r = Math.floor(e), i) switch (n) {
                    case "PHP_ROUND_HALF_DOWN":
                        e = r + (a < 0);
                        break;
                    case "PHP_ROUND_HALF_EVEN":
                        e = r + r % 2 * a;
                        break;
                    case "PHP_ROUND_HALF_ODD":
                        e = r + !(r % 2);
                        break;
                    default:
                        e = r + (a > 0)
                }
                return (i ? e : Math.round(e)) / o
            }
        }, function(e, t, n) {
            "use strict";
            e.exports = function(e, t) {
                return n(1).apply(this, [e].concat(t))
            }
        }, function(e, t, n) {
            e.exports = function(e) {
                e.lib = {}, e.lib.sprintf = n(1), e.lib.vsprintf = n(19), e.lib.round = n(18), e.lib.max = n(17), e.lib.min = n(16), e.lib.strip_tags = n(15), e.lib.strtotime = n(14), e.lib.date = n(13), e.lib.boolval = n(12);
                var t = Object.prototype.toString;
                return e.lib.is = function(e, n) {
                    return void 0 !== n && null !== n && ("Array" === e && Array.isArray ? Array.isArray(n) : t.call(n).slice(8, -1) === e)
                }, e.lib.isArray = Array.isArray || function(e) {
                    return "Array" === t.call(e).slice(8, -1)
                }, e.lib.copy = function(e) {
                    var t, n = {};
                    for (t in e) n[t] = e[t];
                    return n
                }, e.lib.extend = function(e, t) {
                    var n, o = Object.keys(t);
                    for (n = o.length; n--;) e[o[n]] = t[o[n]];
                    return e
                }, e.lib.replaceAll = function(e, t, n) {
                    return e.split(t).join(n)
                }, e.lib.chunkArray = function(t, n) {
                    var o = [],
                        r = 0,
                        i = t.length;
                    if (n < 1 || !e.lib.is("Array", t)) return [];
                    for (; r < i;) o.push(t.slice(r, r += n));
                    return o
                }, e
            }
        }, function(e, t) {
            e.exports = function(t) {
                return t.functions = {
                    range: function(e, t, n) {
                        var o, r, i = [],
                            a = n || 1,
                            s = !1;
                        if (isNaN(e) || isNaN(t) ? isNaN(e) && isNaN(t) ? (s = !0, o = e.charCodeAt(0), r = t.charCodeAt(0)) : (o = isNaN(e) ? 0 : e, r = isNaN(t) ? 0 : t) : (o = parseInt(e, 10), r = parseInt(t, 10)), o > r)
                            for (; o >= r;) i.push(s ? String.fromCharCode(o) : o), o -= a;
                        else
                            for (; o <= r;) i.push(s ? String.fromCharCode(o) : o), o += a;
                        return i
                    },
                    cycle: function(e, t) {
                        return e[t % e.length]
                    },
                    dump: function() {
                        var e = arguments.length;
                        for (args = new Array(e); e-- > 0;) args[e] = arguments[e];
                        var n = 0,
                            o = "",
                            r = function(e) {
                                for (var t = ""; e > 0;) e--, t += "  ";
                                return t
                            },
                            i = function(e) {
                                o += r(n), "object" == typeof e ? a(e) : "function" == typeof e ? o += "function()\n" : "string" == typeof e ? o += "string(" + e.length + ') "' + e + '"\n' : "number" == typeof e ? o += "number(" + e + ")\n" : "boolean" == typeof e && (o += "bool(" + e + ")\n")
                            },
                            a = function(e) {
                                var t;
                                if (null === e) o += "NULL\n";
                                else if (void 0 === e) o += "undefined\n";
                                else if ("object" == typeof e) {
                                    for (t in o += r(n) + typeof e, n++, o += "(" + function(e) {
                                            var t, n = 0;
                                            for (t in e) e.hasOwnProperty(t) && n++;
                                            return n
                                        }(e) + ") {\n", e) o += r(n) + "[" + t + "]=> \n", i(e[t]);
                                    o += r(--n) + "}\n"
                                } else i(e)
                            };
                        return 0 == args.length && args.push(this.context), t.forEach(args, function(e) {
                            a(e)
                        }), o
                    },
                    date: function(e, n) {
                        var o;
                        if (void 0 === e || null === e || "" === e) o = new Date;
                        else if (t.lib.is("Date", e)) o = e;
                        else if (t.lib.is("String", e)) o = e.match(/^[0-9]+$/) ? new Date(1e3 * e) : new Date(1e3 * t.lib.strtotime(e));
                        else {
                            if (!t.lib.is("Number", e)) throw new t.Error("Unable to parse date " + e);
                            o = new Date(1e3 * e)
                        }
                        return o
                    },
                    block: function(e) {
                        return this.originalBlockTokens[e] ? t.logic.parse.call(this, this.originalBlockTokens[e], this.context).output : this.blocks[e]
                    },
                    parent: function() {
                        return t.placeholders.parent
                    },
                    attribute: function(e, n, o) {
                        return t.lib.is("Object", e) && e.hasOwnProperty(n) ? "function" == typeof e[n] ? e[n].apply(void 0, o) : e[n] : e[n] || void 0
                    },
                    max: function(e) {
                        return t.lib.is("Object", e) ? (delete e._keys, t.lib.max(e)) : t.lib.max.apply(null, arguments)
                    },
                    min: function(e) {
                        return t.lib.is("Object", e) ? (delete e._keys, t.lib.min(e)) : t.lib.min.apply(null, arguments)
                    },
                    template_from_string: function(e) {
                        return void 0 === e && (e = ""), t.Templates.parsers.twig({
                            options: this.options,
                            data: e
                        })
                    },
                    random: function(e) {
                        var n = 2147483648;

                        function o(e) {
                            var t = Math.floor(Math.random() * n),
                                o = Math.min.call(null, 0, e),
                                r = Math.max.call(null, 0, e);
                            return o + Math.floor((r - o + 1) * t / n)
                        }
                        if (t.lib.is("Number", e)) return o(e);
                        if (t.lib.is("String", e)) return e.charAt(o(e.length - 1));
                        if (t.lib.is("Array", e)) return e[o(e.length - 1)];
                        if (t.lib.is("Object", e)) {
                            var r = Object.keys(e);
                            return e[r[o(r.length - 1)]]
                        }
                        return o(n - 1)
                    },
                    source: function(n, r) {
                        var i, a, s, l = !1;
                        void 0 !== e && void 0 !== e.exports && "undefined" == typeof window ? (a = "fs", s = o + "/" + n) : (a = "ajax", s = n);
                        var u = {
                            id: n,
                            path: s,
                            method: a,
                            parser: "source",
                            async: !1,
                            fetchTemplateSource: !0
                        };
                        void 0 === r && (r = !1);
                        try {
                            void 0 === (i = t.Templates.loadRemote(n, u)) || null === i ? i = "" : l = !0
                        } catch (e) {
                            t.log.debug("Twig.functions.source: ", "Problem loading template  ", e)
                        }
                        return l || r ? i : 'Template "{name}" is not defined.'.replace("{name}", n)
                    }
                }, t._function = function(e, n, o) {
                    if (!t.functions[e]) throw "Unable to find function " + e;
                    return t.functions[e](n, o)
                }, t._function.extend = function(e, n) {
                    t.functions[e] = n
                }, t
            }
        }, function(e, t) {
            e.exports = function(e) {
                function t(e, t) {
                    var n = Object.prototype.toString.call(t).slice(8, -1);
                    return void 0 !== t && null !== t && n === e
                }
                return e.filters = {
                    upper: function(e) {
                        return "string" != typeof e ? e : e.toUpperCase()
                    },
                    lower: function(e) {
                        return "string" != typeof e ? e : e.toLowerCase()
                    },
                    capitalize: function(e) {
                        return "string" != typeof e ? e : e.substr(0, 1).toUpperCase() + e.toLowerCase().substr(1)
                    },
                    title: function(e) {
                        return "string" != typeof e ? e : e.toLowerCase().replace(/(^|\s)([a-z])/g, function(e, t, n) {
                            return t + n.toUpperCase()
                        })
                    },
                    length: function(t) {
                        return e.lib.is("Array", t) || "string" == typeof t ? t.length : e.lib.is("Object", t) ? void 0 === t._keys ? Object.keys(t).length : t._keys.length : 0
                    },
                    reverse: function(e) {
                        if (t("Array", e)) return e.reverse();
                        if (t("String", e)) return e.split("").reverse().join("");
                        if (t("Object", e)) {
                            var n = e._keys || Object.keys(e).reverse();
                            return e._keys = n, e
                        }
                    },
                    sort: function(e) {
                        if (t("Array", e)) return e.sort();
                        if (t("Object", e)) {
                            delete e._keys;
                            var n = Object.keys(e).sort(function(t, n) {
                                var o;
                                return e[t] > e[n] == !(e[t] <= e[n]) ? e[t] > e[n] ? 1 : e[t] < e[n] ? -1 : 0 : isNaN(o = parseFloat(e[t])) || isNaN(b1 = parseFloat(e[n])) ? "string" == typeof e[t] ? e[t] > e[n].toString() ? 1 : e[t] < e[n].toString() ? -1 : 0 : "string" == typeof e[n] ? e[t].toString() > e[n] ? 1 : e[t].toString() < e[n] ? -1 : 0 : null : o > b1 ? 1 : o < b1 ? -1 : 0
                            });
                            return e._keys = n, e
                        }
                    },
                    keys: function(t) {
                        if (void 0 !== t && null !== t) {
                            var n = t._keys || Object.keys(t),
                                o = [];
                            return e.forEach(n, function(e) {
                                "_keys" !== e && t.hasOwnProperty(e) && o.push(e)
                            }), o
                        }
                    },
                    url_encode: function(e) {
                        if (void 0 !== e && null !== e) {
                            var t = encodeURIComponent(e);
                            return t.replace("'", "%27")
                        }
                    },
                    join: function(n, o) {
                        if (void 0 !== n && null !== n) {
                            var r = "",
                                i = [],
                                a = null;
                            return o && o[0] && (r = o[0]), t("Array", n) ? i = n : (a = n._keys || Object.keys(n), e.forEach(a, function(e) {
                                "_keys" !== e && n.hasOwnProperty(e) && i.push(n[e])
                            })), i.join(r)
                        }
                    },
                    default: function(t, n) {
                        if (void 0 !== n && n.length > 1) throw new e.Error("default filter expects one argument");
                        return void 0 === t || null === t || "" === t ? void 0 === n ? "" : n[0] : t
                    },
                    json_encode: function(n) {
                        if (void 0 === n || null === n) return "null";
                        if ("object" == typeof n && t("Array", n)) return r = [], e.forEach(n, function(t) {
                            r.push(e.filters.json_encode(t))
                        }), "[" + r.join(",") + "]";
                        if ("object" == typeof n && t("Date", n)) return '"' + n.toISOString() + '"';
                        if ("object" == typeof n) {
                            var o = n._keys || Object.keys(n),
                                r = [];
                            return e.forEach(o, function(t) {
                                r.push(JSON.stringify(t) + ":" + e.filters.json_encode(n[t]))
                            }), "{" + r.join(",") + "}"
                        }
                        return JSON.stringify(n)
                    },
                    merge: function(n, o) {
                        var r = [],
                            i = 0,
                            a = [];
                        if (t("Array", n) ? e.forEach(o, function(e) {
                                t("Array", e) || (r = {})
                            }) : r = {}, t("Array", r) || (r._keys = []), t("Array", n) ? e.forEach(n, function(e) {
                                r._keys && r._keys.push(i), r[i] = e, i++
                            }) : (a = n._keys || Object.keys(n), e.forEach(a, function(e) {
                                r[e] = n[e], r._keys.push(e);
                                var t = parseInt(e, 10);
                                !isNaN(t) && t >= i && (i = t + 1)
                            })), e.forEach(o, function(n) {
                                t("Array", n) ? e.forEach(n, function(e) {
                                    r._keys && r._keys.push(i), r[i] = e, i++
                                }) : (a = n._keys || Object.keys(n), e.forEach(a, function(e) {
                                    r[e] || r._keys.push(e), r[e] = n[e];
                                    var t = parseInt(e, 10);
                                    !isNaN(t) && t >= i && (i = t + 1)
                                }))
                            }), 0 === o.length) throw new e.Error("Filter merge expects at least one parameter");
                        return r
                    },
                    date: function(t, n) {
                        var o = e.functions.date(t),
                            r = n && n.length ? n[0] : "F j, Y H:i";
                        return e.lib.date(r, o)
                    },
                    date_modify: function(t, n) {
                        if (void 0 !== t && null !== t) {
                            if (void 0 === n || 1 !== n.length) throw new e.Error("date_modify filter expects 1 argument");
                            var o, r = n[0];
                            return e.lib.is("Date", t) && (o = e.lib.strtotime(r, t.getTime() / 1e3)), e.lib.is("String", t) && (o = e.lib.strtotime(r, e.lib.strtotime(t))), e.lib.is("Number", t) && (o = e.lib.strtotime(r, t)), new Date(1e3 * o)
                        }
                    },
                    replace: function(t, n) {
                        if (void 0 !== t && null !== t) {
                            var o, r = n[0];
                            for (o in r) r.hasOwnProperty(o) && "_keys" !== o && (t = e.lib.replaceAll(t, o, r[o]));
                            return t
                        }
                    },
                    format: function(t, n) {
                        if (void 0 !== t && null !== t) return e.lib.vsprintf(t, n)
                    },
                    striptags: function(t, n) {
                        if (void 0 !== t && null !== t) return e.lib.strip_tags(t, n)
                    },
                    escape: function(t, n) {
                        if (void 0 !== t && null !== t) {
                            var o = "html";
                            if (n && n.length && !0 !== n[0] && (o = n[0]), "html" == o) {
                                var r = t.toString().replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#039;");
                                return e.Markup(r, "html")
                            }
                            if ("js" == o) {
                                r = t.toString();
                                for (var i = "", a = 0; a < r.length; a++) r[a].match(/^[a-zA-Z0-9,\._]$/) ? i += r[a] : i += (s = r.charCodeAt(a)) < 128 ? "\\x" + s.toString(16).toUpperCase() : e.lib.sprintf("\\u%04s", s.toString(16).toUpperCase());
                                return e.Markup(i, "js")
                            }
                            if ("css" == o) {
                                for (r = t.toString(), i = "", a = 0; a < r.length; a++) r[a].match(/^[a-zA-Z0-9]$/) ? i += r[a] : i += "\\" + (s = r.charCodeAt(a)).toString(16).toUpperCase() + " ";
                                return e.Markup(i, "css")
                            }
                            if ("url" == o) return i = e.filters.url_encode(t), e.Markup(i, "url");
                            if ("html_attr" == o) {
                                for (r = t.toString(), i = "", a = 0; a < r.length; a++)
                                    if (r[a].match(/^[a-zA-Z0-9,\.\-_]$/)) i += r[a];
                                    else if (r[a].match(/^[&<>"]$/)) i += r[a].replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;");
                                else {
                                    var s;
                                    i += (s = r.charCodeAt(a)) <= 31 && 9 != s && 10 != s && 13 != s ? "&#xFFFD;" : s < 128 ? e.lib.sprintf("&#x%02s;", s.toString(16).toUpperCase()) : e.lib.sprintf("&#x%04s;", s.toString(16).toUpperCase())
                                }
                                return e.Markup(i, "html_attr")
                            }
                            throw new e.Error("escape strategy unsupported")
                        }
                    },
                    e: function(t, n) {
                        return e.filters.escape(t, n)
                    },
                    nl2br: function(t) {
                        if (void 0 !== t && null !== t) {
                            var n = "<br />BACKSLASH_n_replace";
                            return t = e.filters.escape(t).replace(/\r\n/g, n).replace(/\r/g, n).replace(/\n/g, n), t = e.lib.replaceAll(t, "BACKSLASH_n_replace", "\n"), e.Markup(t)
                        }
                    },
                    number_format: function(e, t) {
                        var n = e,
                            o = t && t[0] ? t[0] : void 0,
                            r = t && void 0 !== t[1] ? t[1] : ".",
                            i = t && void 0 !== t[2] ? t[2] : ",";
                        n = (n + "").replace(/[^0-9+\-Ee.]/g, "");
                        var a = isFinite(+n) ? +n : 0,
                            s = isFinite(+o) ? Math.abs(o) : 0,
                            l = "";
                        return (l = (s ? function(e, t) {
                            var n = Math.pow(10, t);
                            return "" + Math.round(e * n) / n
                        }(a, s) : "" + Math.round(a)).split("."))[0].length > 3 && (l[0] = l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g, i)), (l[1] || "").length < s && (l[1] = l[1] || "", l[1] += new Array(s - l[1].length + 1).join("0")), l.join(r)
                    },
                    trim: function(e, t) {
                        if (void 0 !== e && null !== e) {
                            var n, o = "" + e;
                            n = t && t[0] ? "" + t[0] : " \n\r\t\f\v            ​\u2028\u2029　";
                            for (var r = 0; r < o.length; r++)
                                if (-1 === n.indexOf(o.charAt(r))) {
                                    o = o.substring(r);
                                    break
                                }
                            for (r = o.length - 1; r >= 0; r--)
                                if (-1 === n.indexOf(o.charAt(r))) {
                                    o = o.substring(0, r + 1);
                                    break
                                }
                            return -1 === n.indexOf(o.charAt(0)) ? o : ""
                        }
                    },
                    truncate: function(e, t) {
                        var n = 30,
                            o = !1,
                            r = "...";
                        if (e += "", t && (t[0] && (n = t[0]), t[1] && (o = t[1]), t[2] && (r = t[2])), e.length > n) {
                            if (o && -1 === (n = e.indexOf(" ", n))) return e;
                            e = e.substr(0, n) + r
                        }
                        return e
                    },
                    slice: function(t, n) {
                        if (void 0 !== t && null !== t) {
                            if (void 0 === n || n.length < 1) throw new e.Error("slice filter expects at least 1 argument");
                            var o = n[0] || 0,
                                r = n.length > 1 ? n[1] : t.length,
                                i = o >= 0 ? o : Math.max(t.length + o, 0);
                            if (e.lib.is("Array", t)) {
                                for (var a = [], s = i; s < i + r && s < t.length; s++) a.push(t[s]);
                                return a
                            }
                            if (e.lib.is("String", t)) return t.substr(i, r);
                            throw new e.Error("slice filter expects value to be an array or string")
                        }
                    },
                    abs: function(e) {
                        if (void 0 !== e && null !== e) return Math.abs(e)
                    },
                    first: function(e) {
                        if (t("Array", e)) return e[0];
                        if (t("Object", e)) {
                            if ("_keys" in e) return e[e._keys[0]]
                        } else if ("string" == typeof e) return e.substr(0, 1)
                    },
                    split: function(t, n) {
                        if (void 0 !== t && null !== t) {
                            if (void 0 === n || n.length < 1 || n.length > 2) throw new e.Error("split filter expects 1 or 2 argument");
                            if (e.lib.is("String", t)) {
                                var o = n[0],
                                    r = n[1],
                                    i = t.split(o);
                                if (void 0 === r) return i;
                                if (r < 0) return t.split(o, i.length + r);
                                var a = [];
                                if ("" == o)
                                    for (; i.length > 0;) {
                                        for (var s = "", l = 0; l < r && i.length > 0; l++) s += i.shift();
                                        a.push(s)
                                    } else {
                                        for (l = 0; l < r - 1 && i.length > 0; l++) a.push(i.shift());
                                        i.length > 0 && a.push(i.join(o))
                                    }
                                return a
                            }
                            throw new e.Error("split filter expects value to be a string")
                        }
                    },
                    last: function(t) {
                        var n;
                        return e.lib.is("Object", t) ? t[(n = void 0 === t._keys ? Object.keys(t) : t._keys)[n.length - 1]] : t[t.length - 1]
                    },
                    raw: function(t) {
                        return e.Markup(t)
                    },
                    batch: function(t, n) {
                        var o, r, i, a = n.shift(),
                            s = n.shift();
                        if (!e.lib.is("Array", t)) throw new e.Error("batch filter expects items to be an array");
                        if (!e.lib.is("Number", a)) throw new e.Error("batch filter expects size to be a number");
                        if (a = Math.ceil(a), o = e.lib.chunkArray(t, a), s && t.length % a != 0) {
                            for (i = a - (r = o.pop()).length; i--;) r.push(s);
                            o.push(r)
                        }
                        return o
                    },
                    round: function(t, n) {
                        var o = (n = n || []).length > 0 ? n[0] : 0,
                            r = n.length > 1 ? n[1] : "common";
                        if (t = parseFloat(t), o && !e.lib.is("Number", o)) throw new e.Error("round filter expects precision to be a number");
                        if ("common" === r) return e.lib.round(t, o);
                        if (!e.lib.is("Function", Math[r])) throw new e.Error("round filter expects method to be 'floor', 'ceil', or 'common'");
                        return Math[r](t * Math.pow(10, o)) / Math.pow(10, o)
                    }
                }, e.filter = function(t, n, o) {
                    if (!e.filters[t]) throw "Unable to find filter " + t;
                    return e.filters[t].call(this, n, o)
                }, e.filter.extend = function(t, n) {
                    e.filters[t] = n
                }, e
            }
        }, function(e, t) {
            e.exports = function(e) {
                "use strict";
                e.expression.operator = {
                    leftToRight: "leftToRight",
                    rightToLeft: "rightToLeft"
                };
                var t = function(e, t) {
                    if (void 0 === t || null === t) return null;
                    if (void 0 !== t.indexOf) return e === t || "" !== e && t.indexOf(e) > -1;
                    var n;
                    for (n in t)
                        if (t.hasOwnProperty(n) && t[n] === e) return !0;
                    return !1
                };
                return e.expression.operator.lookup = function(t, n) {
                    switch (t) {
                        case "..":
                            n.precidence = 20, n.associativity = e.expression.operator.leftToRight;
                            break;
                        case ",":
                            n.precidence = 18, n.associativity = e.expression.operator.leftToRight;
                            break;
                        case "?:":
                        case "?":
                        case ":":
                            n.precidence = 16, n.associativity = e.expression.operator.rightToLeft;
                            break;
                        case "or":
                            n.precidence = 14, n.associativity = e.expression.operator.leftToRight;
                            break;
                        case "and":
                            n.precidence = 13, n.associativity = e.expression.operator.leftToRight;
                            break;
                        case "b-or":
                            n.precidence = 12, n.associativity = e.expression.operator.leftToRight;
                            break;
                        case "b-xor":
                            n.precidence = 11, n.associativity = e.expression.operator.leftToRight;
                            break;
                        case "b-and":
                            n.precidence = 10, n.associativity = e.expression.operator.leftToRight;
                            break;
                        case "==":
                        case "!=":
                            n.precidence = 9, n.associativity = e.expression.operator.leftToRight;
                            break;
                        case "<":
                        case "<=":
                        case ">":
                        case ">=":
                        case "not in":
                        case "in":
                            n.precidence = 8, n.associativity = e.expression.operator.leftToRight;
                            break;
                        case "~":
                        case "+":
                        case "-":
                            n.precidence = 6, n.associativity = e.expression.operator.leftToRight;
                            break;
                        case "//":
                        case "**":
                        case "*":
                        case "/":
                        case "%":
                            n.precidence = 5, n.associativity = e.expression.operator.leftToRight;
                            break;
                        case "not":
                            n.precidence = 3, n.associativity = e.expression.operator.rightToLeft;
                            break;
                        default:
                            throw new e.Error("Failed to lookup operator: " + t + " is an unknown operator.")
                    }
                    return n.operator = t, n
                }, e.expression.operator.parse = function(n, o) {
                    var r, i, a;
                    switch (e.log.trace("Twig.expression.operator.parse: ", "Handling ", n), "?" === n && (a = o.pop()), i = o.pop(), "not" !== n && (r = o.pop()), "in" !== n && "not in" !== n && (r && Array.isArray(r) && (r = r.length), i && Array.isArray(i) && (i = i.length)), n) {
                        case ":":
                            break;
                        case "?:":
                            e.lib.boolval(r) ? o.push(r) : o.push(i);
                            break;
                        case "?":
                            void 0 === r && (r = i, i = a, a = void 0), e.lib.boolval(r) ? o.push(i) : o.push(a);
                            break;
                        case "+":
                            i = parseFloat(i), r = parseFloat(r), o.push(r + i);
                            break;
                        case "-":
                            i = parseFloat(i), r = parseFloat(r), o.push(r - i);
                            break;
                        case "*":
                            i = parseFloat(i), r = parseFloat(r), o.push(r * i);
                            break;
                        case "/":
                            i = parseFloat(i), r = parseFloat(r), o.push(r / i);
                            break;
                        case "//":
                            i = parseFloat(i), r = parseFloat(r), o.push(Math.floor(r / i));
                            break;
                        case "%":
                            i = parseFloat(i), r = parseFloat(r), o.push(r % i);
                            break;
                        case "~":
                            o.push((null != r ? r.toString() : "") + (null != i ? i.toString() : ""));
                            break;
                        case "not":
                        case "!":
                            o.push(!e.lib.boolval(i));
                            break;
                        case "<":
                            o.push(r < i);
                            break;
                        case "<=":
                            o.push(r <= i);
                            break;
                        case ">":
                            o.push(r > i);
                            break;
                        case ">=":
                            o.push(r >= i);
                            break;
                        case "===":
                            o.push(r === i);
                            break;
                        case "==":
                            o.push(r == i);
                            break;
                        case "!==":
                            o.push(r !== i);
                            break;
                        case "!=":
                            o.push(r != i);
                            break;
                        case "or":
                            o.push(e.lib.boolval(r) || e.lib.boolval(i));
                            break;
                        case "b-or":
                            o.push(r | i);
                            break;
                        case "b-xor":
                            o.push(r ^ i);
                            break;
                        case "and":
                            o.push(e.lib.boolval(r) && e.lib.boolval(i));
                            break;
                        case "b-and":
                            o.push(r & i);
                            break;
                        case "**":
                            o.push(Math.pow(r, i));
                            break;
                        case "not in":
                            o.push(!t(r, i));
                            break;
                        case "in":
                            o.push(t(r, i));
                            break;
                        case "..":
                            o.push(e.functions.range(r, i));
                            break;
                        default:
                            throw new e.Error("Failed to parse operator: " + n + " is an unknown operator.")
                    }
                }, e
            }
        }, function(e, t, n) {
            e.exports = function(e) {
                "use strict";

                function t(t, n, o) {
                    return n ? e.expression.parseAsync.call(t, n, o) : e.Promise.resolve(!1)
                }
                for (e.expression = {}, n(23)(e), e.expression.reservedWords = ["true", "false", "null", "TRUE", "FALSE", "NULL", "_context", "and", "b-and", "or", "b-or", "b-xor", "in", "not in", "if"], e.expression.type = {
                        comma: "Twig.expression.type.comma",
                        operator: {
                            unary: "Twig.expression.type.operator.unary",
                            binary: "Twig.expression.type.operator.binary"
                        },
                        string: "Twig.expression.type.string",
                        bool: "Twig.expression.type.bool",
                        slice: "Twig.expression.type.slice",
                        array: {
                            start: "Twig.expression.type.array.start",
                            end: "Twig.expression.type.array.end"
                        },
                        object: {
                            start: "Twig.expression.type.object.start",
                            end: "Twig.expression.type.object.end"
                        },
                        parameter: {
                            start: "Twig.expression.type.parameter.start",
                            end: "Twig.expression.type.parameter.end"
                        },
                        subexpression: {
                            start: "Twig.expression.type.subexpression.start",
                            end: "Twig.expression.type.subexpression.end"
                        },
                        key: {
                            period: "Twig.expression.type.key.period",
                            brackets: "Twig.expression.type.key.brackets"
                        },
                        filter: "Twig.expression.type.filter",
                        _function: "Twig.expression.type._function",
                        variable: "Twig.expression.type.variable",
                        number: "Twig.expression.type.number",
                        _null: "Twig.expression.type.null",
                        context: "Twig.expression.type.context",
                        test: "Twig.expression.type.test"
                    }, e.expression.set = {
                        operations: [e.expression.type.filter, e.expression.type.operator.unary, e.expression.type.operator.binary, e.expression.type.array.end, e.expression.type.object.end, e.expression.type.parameter.end, e.expression.type.subexpression.end, e.expression.type.comma, e.expression.type.test],
                        expressions: [e.expression.type._function, e.expression.type.bool, e.expression.type.string, e.expression.type.variable, e.expression.type.number, e.expression.type._null, e.expression.type.context, e.expression.type.parameter.start, e.expression.type.array.start, e.expression.type.object.start, e.expression.type.subexpression.start, e.expression.type.operator.unary]
                    }, e.expression.set.operations_extended = e.expression.set.operations.concat([e.expression.type.key.period, e.expression.type.key.brackets, e.expression.type.slice]), e.expression.fn = {
                        compile: {
                            push: function(e, t, n) {
                                n.push(e)
                            },
                            push_both: function(e, t, n) {
                                n.push(e), t.push(e)
                            }
                        },
                        parse: {
                            push: function(e, t, n) {
                                t.push(e)
                            },
                            push_value: function(e, t, n) {
                                t.push(e.value)
                            }
                        }
                    }, e.expression.definitions = [{
                        type: e.expression.type.test,
                        regex: /^is\s+(not)?\s*([a-zA-Z_][a-zA-Z0-9_]*(\s?as)?)/,
                        next: e.expression.set.operations.concat([e.expression.type.parameter.start]),
                        compile: function(e, t, n) {
                            e.filter = e.match[2], e.modifier = e.match[1], delete e.match, delete e.value, n.push(e)
                        },
                        parse: function(n, o, r) {
                            var i = o.pop();
                            return t(this, n.params, r).then(function(t) {
                                var r = e.test(n.filter, i, t);
                                "not" == n.modifier ? o.push(!r) : o.push(r)
                            })
                        }
                    }, {
                        type: e.expression.type.comma,
                        regex: /^,/,
                        next: e.expression.set.expressions.concat([e.expression.type.array.end, e.expression.type.object.end]),
                        compile: function(t, n, o) {
                            var r, i = n.length - 1;
                            for (delete t.match, delete t.value; i >= 0; i--) {
                                if ((r = n.pop()).type === e.expression.type.object.start || r.type === e.expression.type.parameter.start || r.type === e.expression.type.array.start) {
                                    n.push(r);
                                    break
                                }
                                o.push(r)
                            }
                            o.push(t)
                        }
                    }, {
                        type: e.expression.type.number,
                        regex: /^\-?\d+(\.\d+)?/,
                        next: e.expression.set.operations,
                        compile: function(e, t, n) {
                            e.value = Number(e.value), n.push(e)
                        },
                        parse: e.expression.fn.parse.push_value
                    }, {
                        type: e.expression.type.operator.binary,
                        regex: /(^\?\:|^(b\-and)|^(b\-or)|^(b\-xor)|^[\+\-~%\?]|^[\:](?!\d\])|^[!=]==?|^[!<>]=?|^\*\*?|^\/\/?|^(and)[\(|\s+]|^(or)[\(|\s+]|^(in)[\(|\s+]|^(not in)[\(|\s+]|^\.\.)/,
                        next: e.expression.set.expressions,
                        transform: function(e, t) {
                            switch (e[0]) {
                                case "and(":
                                case "or(":
                                case "in(":
                                case "not in(":
                                    return t[t.length - 1].value = e[2], e[0];
                                default:
                                    return ""
                            }
                        },
                        compile: function(t, n, o) {
                            delete t.match, t.value = t.value.trim();
                            var r = t.value,
                                i = e.expression.operator.lookup(r, t);
                            for (e.log.trace("Twig.expression.compile: ", "Operator: ", i, " from ", r); n.length > 0 && (n[n.length - 1].type == e.expression.type.operator.unary || n[n.length - 1].type == e.expression.type.operator.binary) && (i.associativity === e.expression.operator.leftToRight && i.precidence >= n[n.length - 1].precidence || i.associativity === e.expression.operator.rightToLeft && i.precidence > n[n.length - 1].precidence);) {
                                var a = n.pop();
                                o.push(a)
                            }
                            if (":" === r) {
                                if (!n[n.length - 1] || "?" !== n[n.length - 1].value) {
                                    var s = o.pop();
                                    if (s.type === e.expression.type.string || s.type === e.expression.type.variable) t.key = s.value;
                                    else if (s.type === e.expression.type.number) t.key = s.value.toString();
                                    else {
                                        if (!s.expression || s.type !== e.expression.type.parameter.end && s.type != e.expression.type.subexpression.end) throw new e.Error("Unexpected value before ':' of " + s.type + " = " + s.value);
                                        t.params = s.params
                                    }
                                    return void o.push(t)
                                }
                            } else n.push(i)
                        },
                        parse: function(t, n, o) {
                            if (t.key) n.push(t);
                            else {
                                if (t.params) return e.expression.parseAsync.call(this, t.params, o).then(function(e) {
                                    t.key = e, n.push(t), o.loop || delete t.params
                                });
                                e.expression.operator.parse(t.value, n)
                            }
                        }
                    }, {
                        type: e.expression.type.operator.unary,
                        regex: /(^not\s+)/,
                        next: e.expression.set.expressions,
                        compile: function(t, n, o) {
                            delete t.match, t.value = t.value.trim();
                            var r = t.value,
                                i = e.expression.operator.lookup(r, t);
                            for (e.log.trace("Twig.expression.compile: ", "Operator: ", i, " from ", r); n.length > 0 && (n[n.length - 1].type == e.expression.type.operator.unary || n[n.length - 1].type == e.expression.type.operator.binary) && (i.associativity === e.expression.operator.leftToRight && i.precidence >= n[n.length - 1].precidence || i.associativity === e.expression.operator.rightToLeft && i.precidence > n[n.length - 1].precidence);) {
                                var a = n.pop();
                                o.push(a)
                            }
                            n.push(i)
                        },
                        parse: function(t, n, o) {
                            e.expression.operator.parse(t.value, n)
                        }
                    }, {
                        type: e.expression.type.string,
                        regex: /^(["'])(?:(?=(\\?))\2[\s\S])*?\1/,
                        next: e.expression.set.operations_extended,
                        compile: function(t, n, o) {
                            var r = t.value;
                            delete t.match, r = '"' === r.substring(0, 1) ? r.replace('\\"', '"') : r.replace("\\'", "'"), t.value = r.substring(1, r.length - 1).replace(/\\n/g, "\n").replace(/\\r/g, "\r"), e.log.trace("Twig.expression.compile: ", "String value: ", t.value), o.push(t)
                        },
                        parse: e.expression.fn.parse.push_value
                    }, {
                        type: e.expression.type.subexpression.start,
                        regex: /^\(/,
                        next: e.expression.set.expressions.concat([e.expression.type.subexpression.end]),
                        compile: function(e, t, n) {
                            e.value = "(", n.push(e), t.push(e)
                        },
                        parse: e.expression.fn.parse.push
                    }, {
                        type: e.expression.type.subexpression.end,
                        regex: /^\)/,
                        next: e.expression.set.operations_extended,
                        validate: function(t, n) {
                            for (var o = n.length - 1, r = !1, i = !1, a = 0; !r && o >= 0;) {
                                var s = n[o];
                                (r = s.type === e.expression.type.subexpression.start) && i && (i = !1, r = !1), s.type === e.expression.type.parameter.start ? a++ : s.type === e.expression.type.parameter.end ? a-- : s.type === e.expression.type.subexpression.end && (i = !0), o--
                            }
                            return r && 0 === a
                        },
                        compile: function(t, n, o) {
                            var r, i = t;
                            for (r = n.pop(); n.length > 0 && r.type != e.expression.type.subexpression.start;) o.push(r), r = n.pop();
                            for (var a = []; t.type !== e.expression.type.subexpression.start;) a.unshift(t), t = o.pop();
                            a.unshift(t), void 0 === (r = n[n.length - 1]) || r.type !== e.expression.type._function && r.type !== e.expression.type.filter && r.type !== e.expression.type.test && r.type !== e.expression.type.key.brackets ? (i.expression = !0, a.pop(), a.shift(), i.params = a, o.push(i)) : (i.expression = !1, r.params = a)
                        },
                        parse: function(t, n, o) {
                            if (t.expression) return e.expression.parseAsync.call(this, t.params, o).then(function(e) {
                                n.push(e)
                            });
                            throw new e.Error("Unexpected subexpression end when token is not marked as an expression")
                        }
                    }, {
                        type: e.expression.type.parameter.start,
                        regex: /^\(/,
                        next: e.expression.set.expressions.concat([e.expression.type.parameter.end]),
                        validate: function(t, n) {
                            var o = n[n.length - 1];
                            return o && e.indexOf(e.expression.reservedWords, o.value.trim()) < 0
                        },
                        compile: e.expression.fn.compile.push_both,
                        parse: e.expression.fn.parse.push
                    }, {
                        type: e.expression.type.parameter.end,
                        regex: /^\)/,
                        next: e.expression.set.operations_extended,
                        compile: function(t, n, o) {
                            var r, i = t;
                            for (r = n.pop(); n.length > 0 && r.type != e.expression.type.parameter.start;) o.push(r), r = n.pop();
                            for (var a = []; t.type !== e.expression.type.parameter.start;) a.unshift(t), t = o.pop();
                            a.unshift(t), void 0 === (t = o[o.length - 1]) || t.type !== e.expression.type._function && t.type !== e.expression.type.filter && t.type !== e.expression.type.test && t.type !== e.expression.type.key.brackets ? (i.expression = !0, a.pop(), a.shift(), i.params = a, o.push(i)) : (i.expression = !1, t.params = a)
                        },
                        parse: function(t, n, o) {
                            var r = [],
                                i = !1,
                                a = null;
                            if (t.expression) return e.expression.parseAsync.call(this, t.params, o).then(function(e) {
                                n.push(e)
                            });
                            for (; n.length > 0;) {
                                if ((a = n.pop()) && a.type && a.type == e.expression.type.parameter.start) {
                                    i = !0;
                                    break
                                }
                                r.unshift(a)
                            }
                            if (!i) throw new e.Error("Expected end of parameter set.");
                            n.push(r)
                        }
                    }, {
                        type: e.expression.type.slice,
                        regex: /^\[(\d*\:\d*)\]/,
                        next: e.expression.set.operations_extended,
                        compile: function(e, t, n) {
                            var o = e.match[1].split(":"),
                                r = o[0] ? parseInt(o[0]) : void 0,
                                i = o[1] ? parseInt(o[1]) : void 0;
                            e.value = "slice", e.params = [r, i], i || (e.params = [r]), n.push(e)
                        },
                        parse: function(t, n, o) {
                            var r = n.pop(),
                                i = t.params;
                            n.push(e.filter.call(this, t.value, r, i))
                        }
                    }, {
                        type: e.expression.type.array.start,
                        regex: /^\[/,
                        next: e.expression.set.expressions.concat([e.expression.type.array.end]),
                        compile: e.expression.fn.compile.push_both,
                        parse: e.expression.fn.parse.push
                    }, {
                        type: e.expression.type.array.end,
                        regex: /^\]/,
                        next: e.expression.set.operations_extended,
                        compile: function(t, n, o) {
                            for (var r, i = n.length - 1; i >= 0 && (r = n.pop()).type !== e.expression.type.array.start; i--) o.push(r);
                            o.push(t)
                        },
                        parse: function(t, n, o) {
                            for (var r = [], i = !1, a = null; n.length > 0;) {
                                if ((a = n.pop()).type && a.type == e.expression.type.array.start) {
                                    i = !0;
                                    break
                                }
                                r.unshift(a)
                            }
                            if (!i) throw new e.Error("Expected end of array.");
                            n.push(r)
                        }
                    }, {
                        type: e.expression.type.object.start,
                        regex: /^\{/,
                        next: e.expression.set.expressions.concat([e.expression.type.object.end]),
                        compile: e.expression.fn.compile.push_both,
                        parse: e.expression.fn.parse.push
                    }, {
                        type: e.expression.type.object.end,
                        regex: /^\}/,
                        next: e.expression.set.operations_extended,
                        compile: function(t, n, o) {
                            for (var r, i = n.length - 1; i >= 0 && (!(r = n.pop()) || r.type !== e.expression.type.object.start); i--) o.push(r);
                            o.push(t)
                        },
                        parse: function(t, n, o) {
                            for (var r = {}, i = !1, a = null, s = !1, l = null; n.length > 0;) {
                                if ((a = n.pop()) && a.type && a.type === e.expression.type.object.start) {
                                    i = !0;
                                    break
                                }
                                if (a && a.type && (a.type === e.expression.type.operator.binary || a.type === e.expression.type.operator.unary) && a.key) {
                                    if (!s) throw new e.Error("Missing value for key '" + a.key + "' in object definition.");
                                    r[a.key] = l, void 0 === r._keys && (r._keys = []), r._keys.unshift(a.key), l = null, s = !1
                                } else s = !0, l = a
                            }
                            if (!i) throw new e.Error("Unexpected end of object.");
                            n.push(r)
                        }
                    }, {
                        type: e.expression.type.filter,
                        regex: /^\|\s?([a-zA-Z_][a-zA-Z0-9_\-]*)/,
                        next: e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),
                        compile: function(e, t, n) {
                            e.value = e.match[1], n.push(e)
                        },
                        parse: function(n, o, r) {
                            var i = this,
                                a = o.pop();
                            return t(this, n.params, r).then(function(t) {
                                return e.filter.call(i, n.value, a, t)
                            }).then(function(e) {
                                o.push(e)
                            })
                        }
                    }, {
                        type: e.expression.type._function,
                        regex: /^([a-zA-Z_][a-zA-Z0-9_]*)\s*\(/,
                        next: e.expression.type.parameter.start,
                        validate: function(t, n) {
                            return t[1] && e.indexOf(e.expression.reservedWords, t[1]) < 0
                        },
                        transform: function(e, t) {
                            return "("
                        },
                        compile: function(e, t, n) {
                            var o = e.match[1];
                            e.fn = o, delete e.match, delete e.value, n.push(e)
                        },
                        parse: function(n, o, r) {
                            var i, a = this,
                                s = n.fn;
                            return t(this, n.params, r).then(function(t) {
                                if (e.functions[s]) i = e.functions[s].apply(a, t);
                                else {
                                    if ("function" != typeof r[s]) throw new e.Error(s + " function does not exist and is not defined in the context");
                                    i = r[s].apply(r, t)
                                }
                                return i
                            }).then(function(e) {
                                o.push(e)
                            })
                        }
                    }, {
                        type: e.expression.type.variable,
                        regex: /^[a-zA-Z_][a-zA-Z0-9_]*/,
                        next: e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),
                        compile: e.expression.fn.compile.push,
                        validate: function(t, n) {
                            return e.indexOf(e.expression.reservedWords, t[0]) < 0
                        },
                        parse: function(t, n, o) {
                            return e.expression.resolveAsync.call(this, o[t.value], o).then(function(e) {
                                n.push(e)
                            })
                        }
                    }, {
                        type: e.expression.type.key.period,
                        regex: /^\.([a-zA-Z0-9_]+)/,
                        next: e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),
                        compile: function(e, t, n) {
                            e.key = e.match[1], delete e.match, delete e.value, n.push(e)
                        },
                        parse: function(n, o, r, i) {
                            var a, s = this,
                                l = n.key,
                                u = o.pop();
                            return t(this, n.params, r).then(function(t) {
                                if (null === u || void 0 === u) {
                                    if (s.options.strict_variables) throw new e.Error("Can't access a key " + l + " on an null or undefined object.");
                                    a = void 0
                                } else {
                                    var n = function(e) {
                                        return e.substr(0, 1).toUpperCase() + e.substr(1)
                                    };
                                    a = "object" == typeof u && l in u ? u[l] : void 0 !== u["get" + n(l)] ? u["get" + n(l)] : void 0 !== u["is" + n(l)] ? u["is" + n(l)] : void 0
                                }
                                return e.expression.resolveAsync.call(s, a, r, t, i, u)
                            }).then(function(e) {
                                o.push(e)
                            })
                        }
                    }, {
                        type: e.expression.type.key.brackets,
                        regex: /^\[([^\]\:]*)\]/,
                        next: e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),
                        compile: function(t, n, o) {
                            var r = t.match[1];
                            delete t.value, delete t.match, t.stack = e.expression.compile({
                                value: r
                            }).stack, o.push(t)
                        },
                        parse: function(n, o, r, i) {
                            var a, s, l = this,
                                u = null;
                            return t(this, n.params, r).then(function(t) {
                                return u = t, e.expression.parseAsync.call(l, n.stack, r)
                            }).then(function(t) {
                                if (null === (a = o.pop()) || void 0 === a) {
                                    if (l.options.strict_variables) throw new e.Error("Can't access a key " + t + " on an null or undefined object.");
                                    return null
                                }
                                return s = "object" == typeof a && t in a ? a[t] : null, e.expression.resolveAsync.call(l, s, a, u, i)
                            }).then(function(e) {
                                o.push(e)
                            })
                        }
                    }, {
                        type: e.expression.type._null,
                        regex: /^(null|NULL|none|NONE)/,
                        next: e.expression.set.operations,
                        compile: function(e, t, n) {
                            delete e.match, e.value = null, n.push(e)
                        },
                        parse: e.expression.fn.parse.push_value
                    }, {
                        type: e.expression.type.context,
                        regex: /^_context/,
                        next: e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),
                        compile: e.expression.fn.compile.push,
                        parse: function(e, t, n) {
                            t.push(n)
                        }
                    }, {
                        type: e.expression.type.bool,
                        regex: /^(true|TRUE|false|FALSE)/,
                        next: e.expression.set.operations,
                        compile: function(e, t, n) {
                            e.value = "true" === e.match[0].toLowerCase(), delete e.match, n.push(e)
                        },
                        parse: e.expression.fn.parse.push_value
                    }], e.expression.resolveAsync = function(t, n, o, r, i) {
                        if ("function" != typeof t) return e.Promise.resolve(t);
                        var a = e.Promise.resolve(o);
                        return r && r.type === e.expression.type.parameter.end && (a = a.then(function() {
                            return r.params && e.expression.parseAsync.call(this, r.params, n, !0)
                        }).then(function(e) {
                            return r.cleanup = !0, e
                        })), a.then(function(e) {
                            return t.apply(i || n, e || [])
                        })
                    }, e.expression.resolve = function(t, n, o, r, i) {
                        return e.async.potentiallyAsync(this, !1, function() {
                            return e.expression.resolveAsync.call(this, t, n, o, r, i)
                        })
                    }, e.expression.handler = {}, e.expression.extendType = function(t) {
                        e.expression.type[t] = "Twig.expression.type." + t
                    }, e.expression.extend = function(t) {
                        if (!t.type) throw new e.Error("Unable to extend logic definition. No type provided for " + t);
                        e.expression.handler[t.type] = t
                    }; e.expression.definitions.length > 0;) e.expression.extend(e.expression.definitions.shift());
                return e.expression.tokenize = function(t) {
                    var n, o, r, i, a, s, l = [],
                        u = 0,
                        c = null,
                        f = [];
                    for (s = function() {
                            for (var t = arguments.length - 2, o = new Array(t); t-- > 0;) o[t] = arguments[t];
                            if (e.log.trace("Twig.expression.tokenize", "Matched a ", n, " regular expression of ", o), c && e.indexOf(c, n) < 0) return f.push(n + " cannot follow a " + l[l.length - 1].type + " at template:" + u + " near '" + o[0].substring(0, 20) + "...'"), o[0];
                            var r = e.expression.handler[n];
                            return r.validate && !r.validate(o, l) ? o[0] : (f = [], l.push({
                                type: n,
                                value: o[0],
                                match: o
                            }), a = !0, c = i, u += o[0].length, r.transform ? r.transform(o, l) : "")
                        }, e.log.debug("Twig.expression.tokenize", "Tokenizing expression ", t); t.length > 0;) {
                        for (n in t = t.trim(), e.expression.handler) {
                            if (i = e.expression.handler[n].next, o = e.expression.handler[n].regex, e.log.trace("Checking type ", n, " on ", t), a = !1, e.lib.isArray(o))
                                for (r = o.length; r-- > 0;) t = t.replace(o[r], s);
                            else t = t.replace(o, s);
                            if (a) break
                        }
                        if (!a) throw f.length > 0 ? new e.Error(f.join(" OR ")) : new e.Error("Unable to parse '" + t + "' at template position" + u)
                    }
                    return e.log.trace("Twig.expression.tokenize", "Tokenized to ", l), l
                }, e.expression.compile = function(t) {
                    var n = t.value,
                        o = e.expression.tokenize(n),
                        r = null,
                        i = [],
                        a = [],
                        s = null;
                    for (e.log.trace("Twig.expression.compile: ", "Compiling ", n); o.length > 0;) r = o.shift(), s = e.expression.handler[r.type], e.log.trace("Twig.expression.compile: ", "Compiling ", r), s.compile && s.compile(r, a, i), e.log.trace("Twig.expression.compile: ", "Stack is", a), e.log.trace("Twig.expression.compile: ", "Output is", i);
                    for (; a.length > 0;) i.push(a.pop());
                    return e.log.trace("Twig.expression.compile: ", "Final output is", i), t.stack = i, delete t.value, t
                }, e.expression.parse = function(t, n, o, r) {
                    var i = this;
                    e.lib.isArray(t) || (t = [t]);
                    var a = [],
                        s = [],
                        l = e.expression.type.operator.binary;
                    return e.async.potentiallyAsync(this, r, function() {
                        return e.async.forEach(t, function(o, r) {
                            var u, c = null,
                                f = null;
                            if (!o.cleanup) return t.length > r + 1 && (f = t[r + 1]), (c = e.expression.handler[o.type]).parse && (u = c.parse.call(i, o, a, n, f)), o.type === l && n.loop && s.push(o), u
                        }).then(function() {
                            for (var e = s.length, t = null; e-- > 0;)(t = s[e]).params && t.key && delete t.key;
                            if (o) {
                                var n = a.splice(0);
                                a.push(n)
                            }
                            return a.pop()
                        })
                    })
                }, e
            }
        }, function(e, t) {
            e.exports = function(e) {
                return e.compiler = {
                    module: {}
                }, e.compiler.compile = function(t, n) {
                    var o, r = JSON.stringify(t.tokens),
                        i = t.id;
                    if (n.module) {
                        if (void 0 === e.compiler.module[n.module]) throw new e.Error("Unable to find module type " + n.module);
                        o = e.compiler.module[n.module](i, r, n.twig)
                    } else o = e.compiler.wrap(i, r);
                    return o
                }, e.compiler.module = {
                    amd: function(t, n, o) {
                        return 'define(["' + o + '"], function (Twig) {\n\tvar twig, templates;\ntwig = Twig.twig;\ntemplates = ' + e.compiler.wrap(t, n) + "\n\treturn templates;\n});"
                    },
                    node: function(t, n) {
                        return 'var twig = require("twig").twig;\nexports.template = ' + e.compiler.wrap(t, n)
                    },
                    cjs2: function(t, n, o) {
                        return 'module.declare([{ twig: "' + o + '" }], function (require, exports, module) {\n\tvar twig = require("twig").twig;\n\texports.template = ' + e.compiler.wrap(t, n) + "\n});"
                    }
                }, e.compiler.wrap = function(e, t) {
                    return 'twig({id:"' + e.replace('"', '\\"') + '", data:' + t + ", precompiled: true});\n"
                }, e
            }
        }, function(e, t) {
            e.exports = function(e) {
                "use strict";

                function t(t, n) {
                    if (t.options.rethrow) throw "string" == typeof n && (n = new e.Error(n)), "TwigException" != n.type || n.file || (n.file = t.id), n;
                    if (e.log.error("Error parsing twig template " + t.id + ": "), n.stack ? e.log.error(n.stack) : e.log.error(n.toString()), e.debug) return n.toString()
                }
                return e.trace = !1, e.debug = !1, e.cache = !0, e.noop = function() {}, e.placeholders = {
                    parent: "{{|PARENT|}}"
                }, e.hasIndexOf = Array.prototype.hasOwnProperty("indexOf"), e.indexOf = function(t, n) {
                    if (e.hasIndexOf) return t.indexOf(n);
                    if (void 0 === t || null === t) throw new TypeError;
                    var o = Object(t),
                        r = o.length >>> 0;
                    if (0 === r) return -1;
                    var i = 0;
                    if (arguments.length > 0 && ((i = Number(arguments[1])) != i ? i = 0 : 0 !== i && i !== 1 / 0 && i !== -1 / 0 && (i = (i > 0 || -1) * Math.floor(Math.abs(i)))), i >= r) return -1;
                    for (var a = i >= 0 ? i : Math.max(r - Math.abs(i), 0); a < r; a++)
                        if (a in o && o[a] === n) return a;
                    return t == n ? 0 : -1
                }, e.forEach = function(e, t, n) {
                    if (Array.prototype.forEach) return e.forEach(t, n);
                    var o, r;
                    if (null == e) throw new TypeError(" this is null or not defined");
                    var i = Object(e),
                        a = i.length >>> 0;
                    if ("[object Function]" != {}.toString.call(t)) throw new TypeError(t + " is not a function");
                    for (n && (o = n), r = 0; r < a;) {
                        var s;
                        r in i && (s = i[r], t.call(o, s, r, i)), r++
                    }
                }, e.merge = function(t, n, o) {
                    return e.forEach(Object.keys(n), function(e) {
                        (!o || e in t) && (t[e] = n[e])
                    }), t
                }, e.attempt = function(e, t) {
                    try {
                        return e()
                    } catch (e) {
                        return t(e)
                    }
                }, e.Error = function(e, t) {
                    this.message = e, this.name = "TwigException", this.type = "TwigException", this.file = t
                }, e.Error.prototype.toString = function() {
                    return this.name + ": " + this.message
                }, e.log = {
                    trace: function() {
                        e.trace && console && console.log(Array.prototype.slice.call(arguments))
                    },
                    debug: function() {
                        e.debug && console && console.log(Array.prototype.slice.call(arguments))
                    }
                }, "undefined" != typeof console ? void 0 !== console.error ? e.log.error = function() {
                    console.error.apply(console, arguments)
                } : void 0 !== console.log && (e.log.error = function() {
                    console.log.apply(console, arguments)
                }) : e.log.error = function() {}, e.ChildContext = function(t) {
                    return e.lib.copy(t)
                }, e.token = {}, e.token.type = {
                    output: "output",
                    logic: "logic",
                    comment: "comment",
                    raw: "raw",
                    output_whitespace_pre: "output_whitespace_pre",
                    output_whitespace_post: "output_whitespace_post",
                    output_whitespace_both: "output_whitespace_both",
                    logic_whitespace_pre: "logic_whitespace_pre",
                    logic_whitespace_post: "logic_whitespace_post",
                    logic_whitespace_both: "logic_whitespace_both"
                }, e.token.definitions = [{
                    type: e.token.type.raw,
                    open: "{% raw %}",
                    close: "{% endraw %}"
                }, {
                    type: e.token.type.raw,
                    open: "{% verbatim %}",
                    close: "{% endverbatim %}"
                }, {
                    type: e.token.type.output_whitespace_pre,
                    open: "{{-",
                    close: "}}"
                }, {
                    type: e.token.type.output_whitespace_post,
                    open: "{{",
                    close: "-}}"
                }, {
                    type: e.token.type.output_whitespace_both,
                    open: "{{-",
                    close: "-}}"
                }, {
                    type: e.token.type.logic_whitespace_pre,
                    open: "{%-",
                    close: "%}"
                }, {
                    type: e.token.type.logic_whitespace_post,
                    open: "{%",
                    close: "-%}"
                }, {
                    type: e.token.type.logic_whitespace_both,
                    open: "{%-",
                    close: "-%}"
                }, {
                    type: e.token.type.output,
                    open: "{{",
                    close: "}}"
                }, {
                    type: e.token.type.logic,
                    open: "{%",
                    close: "%}"
                }, {
                    type: e.token.type.comment,
                    open: "{#",
                    close: "#}"
                }], e.token.strings = ['"', "'"], e.token.findStart = function(t) {
                    var n, o, r, i, a = {
                            position: null,
                            def: null
                        },
                        s = null,
                        l = e.token.definitions.length;
                    for (n = 0; n < l; n++) o = e.token.definitions[n], r = t.indexOf(o.open), i = t.indexOf(o.close), e.log.trace("Twig.token.findStart: ", "Searching for ", o.open, " found at ", r), r >= 0 && o.open.length !== o.close.length && i < 0 || (r >= 0 && (null === a.position || r < a.position) ? (a.position = r, a.def = o, s = i) : r >= 0 && null !== a.position && r === a.position && (o.open.length > a.def.open.length ? (a.position = r, a.def = o, s = i) : o.open.length === a.def.open.length && (o.close.length, a.def.close.length, i >= 0 && i < s && (a.position = r, a.def = o, s = i))));
                    return a
                }, e.token.findEnd = function(t, n, o) {
                    for (var r, i, a = null, s = !1, l = 0, u = null, c = null, f = null, p = null, d = null, h = null; !s;) {
                        if (u = null, c = null, !((f = t.indexOf(n.close, l)) >= 0)) throw new e.Error("Unable to find closing bracket '" + n.close + "' opened near template position " + o);
                        if (a = f, s = !0, n.type === e.token.type.comment) break;
                        if (n.type === e.token.type.raw) break;
                        for (i = e.token.strings.length, r = 0; r < i; r += 1)(d = t.indexOf(e.token.strings[r], l)) > 0 && d < f && (null === u || d < u) && (u = d, c = e.token.strings[r]);
                        if (null !== u)
                            for (p = u + 1, a = null, s = !1;;) {
                                if ((h = t.indexOf(c, p)) < 0) throw "Unclosed string in template";
                                if ("\\" !== t.substr(h - 1, 1)) {
                                    l = h + 1;
                                    break
                                }
                                p = h + 1
                            }
                    }
                    return a
                }, e.tokenize = function(t) {
                    for (var n = [], o = 0, r = null, i = null; t.length > 0;)
                        if (r = e.token.findStart(t), e.log.trace("Twig.tokenize: ", "Found token: ", r), null !== r.position) {
                            if (r.position > 0 && n.push({
                                    type: e.token.type.raw,
                                    value: t.substring(0, r.position)
                                }), t = t.substr(r.position + r.def.open.length), o += r.position + r.def.open.length, i = e.token.findEnd(t, r.def, o), e.log.trace("Twig.tokenize: ", "Token ends at ", i), n.push({
                                    type: r.def.type,
                                    value: t.substring(0, i).trim()
                                }), "\n" === t.substr(i + r.def.close.length, 1)) switch (r.def.type) {
                                case "logic_whitespace_pre":
                                case "logic_whitespace_post":
                                case "logic_whitespace_both":
                                case "logic":
                                    i += 1
                            }
                            t = t.substr(i + r.def.close.length), o += i + r.def.close.length
                        } else n.push({
                            type: e.token.type.raw,
                            value: t
                        }), t = "";
                    return n
                }, e.compile = function(t) {
                    var n = this;
                    return e.attempt(function() {
                        for (var o = [], r = [], i = [], a = null, s = null, l = null, u = null, c = null, f = null, p = null, d = null, h = null, y = null, v = null, _ = null, m = function(t) {
                                e.expression.compile.call(n, t), r.length > 0 ? i.push(t) : o.push(t)
                            }, g = function(t) {
                                if (s = e.logic.compile.call(n, t), y = s.type, v = e.logic.handler[y].open, _ = e.logic.handler[y].next, e.log.trace("Twig.compile: ", "Compiled logic token to ", s, " next is: ", _, " open is : ", v), void 0 !== v && !v) {
                                    if (u = r.pop(), p = e.logic.handler[u.type], e.indexOf(p.next, y) < 0) throw new Error(y + " not expected after a " + u.type);
                                    u.output = u.output || [], u.output = u.output.concat(i), i = [], h = {
                                        type: e.token.type.logic,
                                        token: u
                                    }, r.length > 0 ? i.push(h) : o.push(h)
                                }
                                void 0 !== _ && _.length > 0 ? (e.log.trace("Twig.compile: ", "Pushing ", s, " to logic stack."), r.length > 0 && ((u = r.pop()).output = u.output || [], u.output = u.output.concat(i), r.push(u), i = []), r.push(s)) : void 0 !== v && v && (h = {
                                    type: e.token.type.logic,
                                    token: s
                                }, r.length > 0 ? i.push(h) : o.push(h))
                            }; t.length > 0;) {
                            switch (a = t.shift(), c = o[o.length - 1], f = i[i.length - 1], d = t[0], e.log.trace("Compiling token ", a), a.type) {
                                case e.token.type.raw:
                                    r.length > 0 ? i.push(a) : o.push(a);
                                    break;
                                case e.token.type.logic:
                                    g.call(n, a);
                                    break;
                                case e.token.type.comment:
                                    break;
                                case e.token.type.output:
                                    m.call(n, a);
                                    break;
                                case e.token.type.logic_whitespace_pre:
                                case e.token.type.logic_whitespace_post:
                                case e.token.type.logic_whitespace_both:
                                case e.token.type.output_whitespace_pre:
                                case e.token.type.output_whitespace_post:
                                case e.token.type.output_whitespace_both:
                                    switch (a.type !== e.token.type.output_whitespace_post && a.type !== e.token.type.logic_whitespace_post && (c && c.type === e.token.type.raw && (o.pop(), null === c.value.match(/^\s*$/) && (c.value = c.value.trim(), o.push(c))), f && f.type === e.token.type.raw && (i.pop(), null === f.value.match(/^\s*$/) && (f.value = f.value.trim(), i.push(f)))), a.type) {
                                        case e.token.type.output_whitespace_pre:
                                        case e.token.type.output_whitespace_post:
                                        case e.token.type.output_whitespace_both:
                                            m.call(n, a);
                                            break;
                                        case e.token.type.logic_whitespace_pre:
                                        case e.token.type.logic_whitespace_post:
                                        case e.token.type.logic_whitespace_both:
                                            g.call(n, a)
                                    }
                                    a.type !== e.token.type.output_whitespace_pre && a.type !== e.token.type.logic_whitespace_pre && d && d.type === e.token.type.raw && (t.shift(), null === d.value.match(/^\s*$/) && (d.value = d.value.trim(), t.unshift(d)))
                            }
                            e.log.trace("Twig.compile: ", " Output: ", o, " Logic Stack: ", r, " Pending Output: ", i)
                        }
                        if (r.length > 0) throw l = r.pop(), new Error("Unable to find an end tag for " + l.type + ", expecting one of " + l.next);
                        return o
                    }, function(t) {
                        if (n.options.rethrow) throw "TwigException" != t.type || t.file || (t.file = n.id), t;
                        e.log.error("Error compiling twig template " + n.id + ": "), t.stack ? e.log.error(t.stack) : e.log.error(t.toString())
                    })
                }, e.parse = function(n, o, r) {
                    var i, a = this,
                        s = [],
                        l = null,
                        u = !0,
                        c = !0;

                    function f(e) {
                        s.push(e)
                    }

                    function p(e) {
                        void 0 !== e.chain && (c = e.chain), void 0 !== e.context && (o = e.context), void 0 !== e.output && s.push(e.output)
                    }
                    if (i = e.async.forEach(n, function(t) {
                            switch (e.log.debug("Twig.parse: ", "Parsing token: ", t), t.type) {
                                case e.token.type.raw:
                                    s.push(e.filters.raw(t.value));
                                    break;
                                case e.token.type.logic:
                                    return e.logic.parseAsync.call(a, t.token, o, c).then(p);
                                case e.token.type.comment:
                                    break;
                                case e.token.type.output_whitespace_pre:
                                case e.token.type.output_whitespace_post:
                                case e.token.type.output_whitespace_both:
                                case e.token.type.output:
                                    return e.log.debug("Twig.parse: ", "Output token: ", t.stack), e.expression.parseAsync.call(a, t.stack, o).then(f)
                            }
                        }).then(function() {
                            return s = e.output.call(a, s), u = !1, s
                        }).catch(function(e) {
                            r && t(a, e), l = e
                        }), r) return i;
                    if (null !== l) return t(this, l);
                    if (u) throw new e.Error("You are using Twig.js in sync mode in combination with async extensions.");
                    return s
                }, e.prepare = function(t) {
                    var n, o;
                    return e.log.debug("Twig.prepare: ", "Tokenizing ", t), o = e.tokenize.call(this, t), e.log.debug("Twig.prepare: ", "Compiling ", o), n = e.compile.call(this, o), e.log.debug("Twig.prepare: ", "Compiled ", n), n
                }, e.output = function(t) {
                    var n = this.options.autoescape;
                    if (!n) return t.join("");
                    var o = "string" == typeof n ? n : "html",
                        r = 0,
                        i = t.length,
                        a = "",
                        s = new Array(i);
                    for (r = 0; r < i; r++)(a = t[r]) && !0 !== a.twig_markup && a.twig_markup != o && (a = e.filters.escape(a, [o])), s[r] = a;
                    return s.length < 1 ? "" : e.Markup(s.join(""), !0)
                }, e.Templates = {
                    loaders: {},
                    parsers: {},
                    registry: {}
                }, e.validateId = function(t) {
                    if ("prototype" === t) throw new e.Error(t + " is not a valid twig identifier");
                    if (e.cache && e.Templates.registry.hasOwnProperty(t)) throw new e.Error("There is already a template with the ID " + t);
                    return !0
                }, e.Templates.registerLoader = function(t, n, o) {
                    if ("function" != typeof n) throw new e.Error("Unable to add loader for " + t + ": Invalid function reference given.");
                    o && (n = n.bind(o)), this.loaders[t] = n
                }, e.Templates.unRegisterLoader = function(e) {
                    this.isRegisteredLoader(e) && delete this.loaders[e]
                }, e.Templates.isRegisteredLoader = function(e) {
                    return this.loaders.hasOwnProperty(e)
                }, e.Templates.registerParser = function(t, n, o) {
                    if ("function" != typeof n) throw new e.Error("Unable to add parser for " + t + ": Invalid function regerence given.");
                    o && (n = n.bind(o)), this.parsers[t] = n
                }, e.Templates.unRegisterParser = function(e) {
                    this.isRegisteredParser(e) && delete this.parsers[e]
                }, e.Templates.isRegisteredParser = function(e) {
                    return this.parsers.hasOwnProperty(e)
                }, e.Templates.save = function(t) {
                    if (void 0 === t.id) throw new e.Error("Unable to save template with no id");
                    e.Templates.registry[t.id] = t
                }, e.Templates.load = function(t) {
                    return e.Templates.registry.hasOwnProperty(t) ? e.Templates.registry[t] : null
                }, e.Templates.loadRemote = function(t, n, o, r) {
                    var i = void 0 === n.id ? t : n.id,
                        a = e.Templates.registry[i];
                    return e.cache && void 0 !== a ? ("function" == typeof o && o(a), a) : (n.parser = n.parser || "twig", n.id = i, void 0 === n.async && (n.async = !0), (this.loaders[n.method] || this.loaders.fs).call(this, t, n, o, r))
                }, e.Template = function(t) {
                    var n, o, r, i = t.data,
                        a = t.id,
                        s = t.blocks,
                        l = t.macros || {},
                        u = t.base,
                        c = t.path,
                        f = t.url,
                        p = t.name,
                        d = t.method,
                        h = t.options;
                    this.id = a, this.method = d, this.base = u, this.path = c, this.url = f, this.name = p, this.macros = l, this.options = h, this.reset(s), n = "String", o = i, r = Object.prototype.toString.call(o).slice(8, -1), this.tokens = void 0 !== o && null !== o && r === n ? e.prepare.call(this, i) : i, void 0 !== a && e.Templates.save(this)
                }, e.Template.prototype.reset = function(t) {
                    e.log.debug("Twig.Template.reset", "Reseting template " + this.id), this.blocks = {}, this.importedBlocks = [], this.originalBlockTokens = {}, this.child = {
                        blocks: t || {}
                    }, this.extend = null, this.parseStack = []
                }, e.Template.prototype.render = function(t, n, o) {
                    var r = this;
                    return this.context = t || {}, this.reset(), n && n.blocks && (this.blocks = n.blocks), n && n.macros && (this.macros = n.macros), e.async.potentiallyAsync(this, o, function() {
                        return e.parseAsync.call(this, this.tokens, this.context).then(function(t) {
                            var o, i;
                            return r.extend ? (r.options.allowInlineIncludes && (o = e.Templates.load(r.extend)) && (o.options = r.options), o || (i = e.path.parsePath(r, r.extend), o = e.Templates.loadRemote(i, {
                                method: r.getLoaderMethod(),
                                base: r.base,
                                async: !1,
                                id: i,
                                options: r.options
                            })), r.parent = o, r.parent.renderAsync(r.context, {
                                blocks: r.blocks
                            })) : n ? "blocks" == n.output ? r.blocks : "macros" == n.output ? r.macros : t : t
                        })
                    })
                }, e.Template.prototype.importFile = function(t) {
                    var n, o;
                    if (!this.url && this.options.allowInlineIncludes) {
                        if (t = this.path ? e.path.parsePath(this, t) : t, !(o = e.Templates.load(t)) && !(o = e.Templates.loadRemote(n, {
                                id: t,
                                method: this.getLoaderMethod(),
                                async: !1,
                                path: t,
                                options: this.options
                            }))) throw new e.Error("Unable to find the template " + t);
                        return o.options = this.options, o
                    }
                    return n = e.path.parsePath(this, t), e.Templates.loadRemote(n, {
                        method: this.getLoaderMethod(),
                        base: this.base,
                        async: !1,
                        options: this.options,
                        id: n
                    })
                }, e.Template.prototype.importBlocks = function(t, n) {
                    var o = this.importFile(t),
                        r = this.context,
                        i = this;
                    n = n || !1, o.render(r), e.forEach(Object.keys(o.blocks), function(e) {
                        (n || void 0 === i.blocks[e]) && (i.blocks[e] = o.blocks[e], i.importedBlocks.push(e))
                    })
                }, e.Template.prototype.importMacros = function(t) {
                    var n = e.path.parsePath(this, t);
                    return e.Templates.loadRemote(n, {
                        method: this.getLoaderMethod(),
                        async: !1,
                        id: n
                    })
                }, e.Template.prototype.getLoaderMethod = function() {
                    return this.path ? "fs" : this.url ? "ajax" : this.method || "fs"
                }, e.Template.prototype.compile = function(t) {
                    return e.compiler.compile(this, t)
                }, e.Markup = function(e, t) {
                    if ("string" != typeof e || e.length < 1) return e;
                    var n = new String(e);
                    return n.twig_markup = void 0 === t || t, n
                }, e
            }
        }, function(e, t, n) {
            var o = {
                VERSION: "1.11.1"
            };
            n(26)(o), n(25)(o), n(24)(o), n(22)(o), n(21)(o), n(20)(o), n(11)(o), n(10)(o), n(8)(o), n(7)(o), n(6)(o), n(5)(o), n(4)(o), n(3)(o), n(2)(o), e.exports = o.exports
        }])
    }).call(this, n(18), "/")
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = h(n(7)),
            a = h(n(274)),
            s = h(n(272)),
            l = h(n(270)),
            u = h(n(268)),
            c = h(n(266)),
            f = h(n(264)),
            p = n(6),
            d = h(n(263));

        function h(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function y(e) {
            return (y = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            } : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            })(e)
        }

        function v(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var _, m, g, b, w, x, k = (_ = (r = function(e) {
            function t() {
                return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t),
                    function(e, t) {
                        if (t && ("object" === y(t) || "function" == typeof t)) return t;
                        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
            }
            var o, r;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }(t, i.default), o = t, (r = [{
                key: "init",
                value: function() {
                    this.$name = "application"
                }
            }, {
                key: "mounted",
                value: function() {
                    var e = this;
                    (function e(t, n, o) {
                        null === t && (t = Function.prototype);
                        var r = Object.getOwnPropertyDescriptor(t, n);
                        if (void 0 === r) {
                            var i = Object.getPrototypeOf(t);
                            return null === i ? void 0 : e(i, n, o)
                        }
                        if ("value" in r) return r.value;
                        var a = r.get;
                        return void 0 !== a ? a.call(o) : void 0
                    })(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), "mounted", this).call(this), this._router.init(d.default), this._router.mount(this.$els.router), this._konamiDetect = (0, f.default)(this._onKonamiCode), window.konami = function() {
                        e._onKonamiCode()
                    };
                    var n = navigator.language || navigator.userLanguage;
                    (0, p.event)("init", "init-lang", n)
                }
            }, {
                key: "_onKonamiCode",
                value: function() {
                    "level" === this._router.currentRoute.name || "tutorial" === this._router.currentRoute.name ? (this._signals.konami.toggle.dispatch(), this._state.konamiIsActivated = !0, this._signals.toastMsg.log.dispatch("konami", "Easter Egg - Activated")) : this._signals.toastMsg.log.dispatch("konami", "Easter Egg - Try it on a level ;)"), (0, p.event)("konami", "konami-activate")
                }
            }, {
                key: "template",
                get: function() {
                    return n(234)
                }
            }, {
                key: "components",
                get: function() {
                    return {
                        Loader: a.default,
                        Quality: s.default,
                        ToastMsg: l.default,
                        Fullscreen: u.default,
                        SoundBars: c.default
                    }
                }
            }]) && v(o.prototype, r), t
        }()).prototype, m = "_onKonamiCode", g = [o], b = Object.getOwnPropertyDescriptor(r.prototype, "_onKonamiCode"), w = r.prototype, x = {}, Object.keys(b).forEach(function(e) {
            x[e] = b[e]
        }), x.enumerable = !!x.enumerable, x.configurable = !!x.configurable, ("value" in x || x.initializer) && (x.writable = !0), x = g.slice().reverse().reduce(function(e, t) {
            return t(_, m, e) || e
        }, x), w && void 0 !== x.initializer && (x.value = x.initializer ? x.initializer.call(w) : void 0, x.initializer = void 0), void 0 === x.initializer && (Object.defineProperty(_, m, x), x = null), r);
        t.default = k, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function() {
        for (var e = arguments.length, t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
        if ("function" == typeof t[0]) throw new SyntaxError("@mixin decorator '" + t[0].name + "' requires at least one mixin");
        return function(e) {
            for (var n = e.prototype, o = {}, r = 0, i = t.length; r < i; r++) {
                var a = t[r];
                for (var s in a) {
                    var l = a[s];
                    "function" == typeof l ? (o[s] = o[s] || [], o[s].push(l)) : n[s] = l
                }
            }
            var u = function(e) {
                var t = o[e],
                    r = n[e];
                n[e] = function() {
                    for (var e = void 0, n = arguments.length, o = Array(n), i = 0; i < n; i++) o[i] = arguments[i];
                    for (var a = 0, s = t.length; a < s; a++) {
                        e = t[a].apply(this, o)
                    }
                    return "function" == typeof r && (e = r.apply(this, o)), e
                }
            };
            for (var c in o) u(c)
        }
    }, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.default = function(e, t, n) {
        if (void 0 === n || "function" != typeof n.value) throw new SyntaxError("@bind decorator can only be applied to a method");
        var o = n.value;
        return {
            configurable: n.configurable,
            enumerable: n.enumerable,
            get: function() {
                if (this === e) return o;
                var n = o.bind(this);
                return Object.defineProperty(this, t, {
                    configurable: !0,
                    writable: !0,
                    enumerable: !1,
                    value: n
                }), n
            }
        }
    }, e.exports = t.default
}, function(e, t, n) {
    "use strict";
    (function(o) {
        Object.defineProperty(t, "__esModule", {
            value: !0
        }), t.default = void 0;
        var r, i = p(n(20)),
            a = p(n(624)),
            s = p(n(36)),
            l = p(n(233)),
            u = n(3),
            c = n(152),
            f = p(n(232));

        function p(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }

        function d(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }
        }
        var h, y, v, _, m, g, b = (h = (r = function() {
            function e() {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e)
            }
            var t, n;
            return t = e, (n = [{
                key: "onDOMContentLoaded",
                value: function() {
                    this._initLoggers(), s.default.bind(), this._checkSupported() && this._init(), this._fancyLog()
                }
            }, {
                key: "_init",
                value: function() {
                    l.default.addFunctions(), (new a.default).$mount("#application")
                }
            }, {
                key: "_initLoggers",
                value: function() {
                    window.log = (0, u.getLogger)("Log", u.LOG), window.info = (0, u.getLogger)("Info", u.INFO), window.warn = (0, u.getLogger)("Warn", u.WARN), window.error = (0, u.getLogger)("Error", u.ERROR)
                }
            }, {
                key: "_checkSupported",
                value: function() {
                    var e = !0,
                        t = s.default.device.mobile || s.default.device.tablet,
                        n = null,
                        o = s.default.browser.ie,
                        r = s.default.supports.webgl.supported;
                    if (t ? (error("".concat((0, c.toCapitalize)(s.default.device.type), " not supported")), e = !1, n = "mobile") : o ? (error("IE not supported"), e = !1, n = "ie") : r || (error("WebGL not supported"), e = !1, n = "webgl"), !e) {
                        var a = document.getElementById("application");
                        i.default.fallbackType = n, (new f.default).$mount(a)
                    }
                    return e
                }
            }, {
                key: "_fancyLog",
                value: function() {
                    var e = "background: #FFFFFF; color: #393df1; padding: 3px 5px; font-weight: bold;",
                        t = "background: #FFFFFF; color: #30336b; padding: 3px 5px; font-weight: bold;";
                    console.log(""), console.log("%c🏺 - Heraclos and the quest he never asked for - 🏺", "background: #FFFFFF; color: #9166d1; padding: 3px 5px; font-weight: bold;"), console.log("%c🚀 Made with three.js and cannon.js", "background: #FFFFFF; font-style: italic; color: #bfa4e8; padding: 3px 5px;"), console.log(""), console.log("%c🎓 Main team from Gobelins Paris:", e), console.log("%c - Maud Butin: Copywriter, Illustrator, Art Director", e), console.log("%c - Alexadre Delalleau: 3D Generalist, UI Designer, Motion Designer", e), console.log("%c - Lovis Odin: 3D Generalist, Level Designer, UX Designer", e), console.log("%c - Patrick Heng: Creative developer", e), console.log("%c - Fabien Motte: Creative developer", e), console.log(""), console.log("%c🙏 Big thanks to our friends that help us a lot:", e), console.log("%c - Mohave | Louis Gabriel Gonzalez: Original Soundtracks, Sound designer", e), console.log("%c - Antoine Fleury: 2D video animator", e), console.log(""), console.log("%c🧐 Debug shortcuts:", t), console.log("%c - SHIFT + C: Change Camera", t), console.log("%c - SHIFT + F: Toggle Fog", t), console.log("%c - SHIFT + G: Toggle GUI", t), console.log("%c - SHIFT + H: Toggle Helpers", t), console.log("%c - SHIFT + O: Toggle Cannon collisions", t), console.log("%c - SHIFT + P: Toggle Post Processing", t), console.log("%c - SHIFT + [NUM]: Teleport character to checkpoint [NUM]", t), console.log("%c - SHIFT + Alt/Option: Save character position", t), console.log("%c - SHIFT + ~: Teleport character at saved position", t), console.log("%c - SHIFT + CTRL + Click: Teleport character to raycast point", t), console.log("%c More to find ;)", t), console.log("")
                }
            }]) && d(t.prototype, n), e
        }()).prototype, y = "onDOMContentLoaded", v = [o], _ = Object.getOwnPropertyDescriptor(r.prototype, "onDOMContentLoaded"), m = r.prototype, g = {}, Object.keys(_).forEach(function(e) {
            g[e] = _[e]
        }), g.enumerable = !!g.enumerable, g.configurable = !!g.configurable, ("value" in g || g.initializer) && (g.writable = !0), g = v.slice().reverse().reduce(function(e, t) {
            return t(h, y, e) || e
        }, g), m && void 0 !== g.initializer && (g.value = g.initializer ? g.initializer.call(m) : void 0, g.initializer = void 0), void 0 === g.initializer && (Object.defineProperty(h, y, g), g = null), r);
        t.default = b, e.exports = t.default
    }).call(this, n(0).bind)
}, function(e, t, n) {
    "use strict";
    var o, r = new(((o = n(627)) && o.__esModule ? o : {
        default: o
    }).default);
    document.addEventListener("DOMContentLoaded", r.onDOMContentLoaded)
}]);